//----------------------------------------------------------------------
// Copyright (c) 1996-2022 Accusoft Corporation.  All rights reserved.
//----------------------------------------------------------------------
var IGViewer=IGViewer||{};(function(){IGViewer.Util=IGViewer.Util||{};IGViewer.Util.uniqueId=(function(){var summand=45796814111,modulus=70719928717,cur=Math.floor(Math.random()*modulus);return function(prefix){return(typeof(prefix)==="string"?prefix:"")+(cur=(cur+summand)%modulus);}})();IGViewer.Util.registerCallbacks=function(cbArray,cbStore){if(!((cbArray instanceof Array)&&(cbStore instanceof Array)))throw new Error("IGViewer.Util.RegisterCallbacks: cbArray and cbStore must be arrays");for(var i=0;i<cbArray.length;i++){var cbEntry=cbArray[i];if(cbEntry.target instanceof $||cbEntry.target instanceof IPCC.ViewerControl)cbEntry.target.on(cbEntry.type,cbEntry.handler);else if(typeof(cbEntry.target)==="string"||cbEntry.target instanceof Element||cbEntry.target instanceof Window)$(cbEntry.target).on(cbEntry.type,cbEntry.handler);else{throw new Error("IGViewer.Util.registerCallbacks: invalid target:"+cbEntry.target);}cbStore.push(cbEntry);}};IGViewer.Util.unregisterCallbacks=function(cbStore){if(!(cbStore instanceof Array))throw new Error("IGViewer.Util.UnregisterCallbacks: cbStore must be an array");while(cbStore.length!=0){var cbEntry=cbStore.shift();if(cbEntry.target instanceof $||cbEntry.target instanceof IPCC.ViewerControl)cbEntry.target.off(cbEntry.type,cbEntry.handler);else if(typeof(cbEntry.target)==="string"||cbEntry.target instanceof Element||cbEntry.target instanceof Window)$(cbEntry.target).off(cbEntry.type,cbEntry.handler);else throw new Error("IGViewer.Util.registerCallbacks: invalid target:"+cbEntry.target);}};IGViewer.Util.endWithSlash=function(urlString){if(typeof(urlString)==="string"&&urlString.length>0)return urlString.charAt(urlString.length-1)==="/"?urlString:urlString+"/";else return "";};IGViewer.Util.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args);};var callNow=immediate&& !timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args);};};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var PrevPageModel=function(options){this.icon=options.icon;this.label=options.label||"";this.tooltip=options.tooltip;this.viewerControlReady=false;this.enabled=false;this.$elements=null;this.callbacks=[];};var PrevPageView=function(viewer,model){this.viewer=viewer;this.model=model;};PrevPageView.prototype={render:function(){var htmlTemplate='<button href="#" class="btn navbar-btn">'+'<img class="ig-viewer-icon" src="'+this.model.icon+'" />'+this.model.label+'</button>';this.model.$elements=$("[data-ig-prev-page]",this.viewer.model.$rootElement);this.model.$elements.html(htmlTemplate);if(typeof(this.model.tooltip)==="string"){$("button",this.model.$elements).attr("title",this.model.tooltip);}}};IGViewer.ViewerComponents.PrevPage=function(viewer,options){this.viewer=viewer;this.model=new PrevPageModel(options);this.view=new PrevPageView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.PrevPage.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){this.model.enabled=false;if(this.model.viewerControlReady){var pageCount=this.viewer.viewerControl.getPageCount();this.model.enabled=pageCount>1&&this.viewer.viewerControl.getPageNumber()>1;}$("button",this.model.$elements).prop("disabled",!this.model.enabled);}).bind(this);var gotoPrevPage=(function(){if(this.model.enabled){this.viewer.viewerControl.changeToPrevPage();updateEnabled();}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);O.model.viewerControlReady=true;updateEnabled();IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"PageChanged",handler:updateEnabled},{target:$("button",O.model.$elements),type:"click",handler:gotoPrevPage}],O.model.callbacks);};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}updateEnabled();},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var NextPageModel=function(options){this.icon=options.icon;this.label=options.label||"";this.tooltip=options.tooltip;this.viewerControlReady=false;this.enabled=false;this.$elements=null;this.callbacks=[];};var NextPageView=function(viewer,model){this.viewer=viewer;this.model=model;};NextPageView.prototype={render:function(){var htmlTemplate='<button href="#" class="btn navbar-btn">'+'<img class="ig-viewer-icon" src="'+this.model.icon+'" />'+this.model.label+'</button>';this.model.$elements=$("[data-ig-next-page]",this.viewer.model.$rootElement);this.model.$elements.html(htmlTemplate);if(typeof(this.model.tooltip)==="string"){$("button",this.model.$elements).attr("title",this.model.tooltip);}}};IGViewer.ViewerComponents.NextPage=function(viewer,options){this.viewer=viewer;this.model=new NextPageModel(options);this.view=new NextPageView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.NextPage.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){this.model.enabled=false;if(this.model.viewerControlReady){var pageCount=this.viewer.viewerControl.getPageCount();this.model.enabled=pageCount>1&&this.viewer.viewerControl.getPageNumber()<pageCount;}$("button",this.model.$elements).prop("disabled",!this.model.enabled);}).bind(this);var gotoNextPage=(function(){if(this.model.enabled){this.viewer.viewerControl.changeToNextPage();updateEnabled();}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);O.model.viewerControlReady=true;updateEnabled();IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"PageChanged",handler:updateEnabled},{target:$("button",O.model.$elements),type:"click",handler:gotoNextPage}],O.model.callbacks);};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}updateEnabled();},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var FirstPageModel=function(options){this.icon=options.icon;this.label=options.label||"";this.tooltip=options.tooltip;this.viewerControlReady=false;this.enabled=false;this.$elements=null;this.callbacks=[];};var FirstPageView=function(viewer,model){this.viewer=viewer;this.model=model;};FirstPageView.prototype={render:function(){var htmlTemplate='<button href="#" class="btn navbar-btn">'+'<img class="ig-viewer-icon" src="'+this.model.icon+'" />'+this.model.label+'</button>';var $elements=this.model.$elements=$("[data-ig-first-page]",this.viewer.model.$rootElement);$elements.html(htmlTemplate);if(typeof(this.model.tooltip)==="string"){$elements.attr('title',this.model.tooltip);}}};IGViewer.ViewerComponents.FirstPage=function(viewer,options){this.viewer=viewer;this.model=new FirstPageModel(options);this.view=new FirstPageView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.FirstPage.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){this.model.enabled=false;if(this.model.viewerControlReady){var pageCount=this.viewer.viewerControl.getPageCount();this.model.enabled=pageCount>1&&this.viewer.viewerControl.getPageNumber()>1;}$('button',this.model.$elements).prop("disabled",!this.model.enabled)}).bind(this);var gotoFirstPage=(function(){if(this.model.enabled){this.viewer.viewerControl.changeToFirstPage();}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);O.model.viewerControlReady=true;updateEnabled();IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"PageChanged",handler:updateEnabled},{target:O.model.$elements,type:"click",handler:gotoFirstPage}],O.model.callbacks);};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}updateEnabled();},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var GoToPageModel=function(options){this.label=options.label||"";this.tooltip=options.tooltip;this.viewerControlReady=false;this.enabled=false;this.$elements=null;this.callbacks=[];};var GoToPageView=function(viewer,model){this.viewer=viewer;this.model=model;};GoToPageView.prototype={render:function(){var htmlTemplate='<div class="data-ig-goto-page-container">'+'<input type="number" class="text-light"'+'value="'+this.viewer.viewerControl.getPageNumber()+'" >'+' of '+'<span>'+this.viewer.viewerControl.getPageCount()+'</span>';'</div>';var $elements=this.model.$elements=$("[data-ig-goto-page]",this.viewer.model.$rootElement);$elements.html(htmlTemplate);if(typeof(this.model.tooltip)==="string"){$elements.attr('title',this.model.tooltip);}}};IGViewer.ViewerComponents.GoToPage=function(viewer,options){this.viewer=viewer;this.model=new GoToPageModel(options);this.view=new GoToPageView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.GoToPage.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){this.model.enabled=false;if(this.model.viewerControlReady){var pageCount=this.viewer.viewerControl.getPageCount();this.model.enabled=pageCount>1;}$('input',this.model.$elements).prop("disabled",!this.model.enabled)}).bind(this);var updateInputValue=(function(){if(this.model.enabled){var inputValue=$('input',this.model.$elements).val(this.viewer.viewerControl.getPageNumber());}}).bind(this);var goToPage=(function(args){if(this.model.enabled&&args.keyCode==13){var $input=$('input',this.model.$elements);var inputValue=$input.val();var inRange=inputValue>0&&inputValue<=this.viewer.viewerControl.getPageCount();if(!inRange){$input.addClass('error');var pageNumber=this.viewer.viewerControl.getPageNumber();setTimeout(function(){$input.removeClass('error').val(pageNumber);},1000);}else{this.viewer.viewerControl.setPageNumber(inputValue);}}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);O.model.viewerControlReady=true;updateEnabled();IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"PageChanged",handler:updateEnabled},{target:O.viewer.viewerControl,type:"PageChanged",handler:updateInputValue},{target:$('input',O.model.$elements),type:"keyup",handler:goToPage}],O.model.callbacks);$('span',O.model.$elements).html(O.viewer.viewerControl.getPageCount())};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}updateEnabled();},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var LastPageModel=function(options){this.icon=options.icon;this.label=options.label||"";this.tooltip=options.tooltip;this.viewerControlReady=false;this.enabled=false;this.$element=null;this.callbacks=[];};var LastPageView=function(viewer,model){this.viewer=viewer;this.model=model;};LastPageView.prototype={render:function(){var htmlTemplate='<button href="#" class="btn navbar-btn">'+'<img class="ig-viewer-icon" src="'+this.model.icon+'" />'+this.model.label+'</button>';var $element=this.model.$element=$("[data-ig-last-page]",this.viewer.model.$rootElement);$element.html(htmlTemplate);if(typeof(this.model.tooltip)==="string"){$element.attr('title',this.model.tooltip);}}};IGViewer.ViewerComponents.LastPage=function(viewer,options){this.viewer=viewer;this.model=new LastPageModel(options);this.view=new LastPageView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.LastPage.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){this.model.enabled=false;if(this.model.viewerControlReady){var pageCount=this.viewer.viewerControl.getPageCount();this.model.enabled=pageCount>1&&this.viewer.viewerControl.getPageNumber()<pageCount;}$('button',this.model.$element).prop("disabled",!this.model.enabled)}).bind(this);var gotoLastPage=(function(){if(this.model.enabled){this.viewer.viewerControl.changeToLastPage();}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);O.model.viewerControlReady=true;updateEnabled();IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"PageChanged",handler:updateEnabled},{target:O.model.$element,type:"click",handler:gotoLastPage}],O.model.callbacks);};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}updateEnabled();},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var RotateDocModel=function(options){this.iconClockwise=options.iconClockwise;this.labelClockwise=options.labelClockwise||"";this.tooltipClockwise=options.tooltipClockwise;this.$elements=null;this.callbacks=[];};var RotateDocView=function(viewer,model){this.viewer=viewer;this.model=model;};RotateDocView.prototype={render:function(){var htmlTemplate='<div>'+'<button type="button" href="#" class="btn navbar-btn" data-ig-rotate-degrees="90">'+'<img class="ig-viewer-icon" src="'+this.model.iconClockwise+'" />'+this.model.labelClockwise+'</button>'+'</div>';this.model.$elements=$("[data-ig-rotate-doc]",this.viewer.model.$rootElement);this.model.$elements.html(htmlTemplate);var $buttons=$("button[data-ig-rotate-degrees]",this.model.$elements);for(var i=0;i<$buttons.length;i++){var $button=$($buttons[i]);var degs=parseInt($button[0].dataset.igRotateDegrees);$button.attr("title",this.model.tooltipClockwise);}}};IGViewer.ViewerComponents.RotateDoc=function(viewer,options){this.viewer=viewer;this.model=new RotateDocModel(options);this.view=new RotateDocView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.RotateDoc.prototype={initialize:function(){var O=this;this.view.render();if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);for(var i=0;i<O.model.$elements.length;i++){var $buttons=$("button[data-ig-rotate-degrees]",O.model.$elements[i]);for(var j=0;j<$buttons.length;j++){IGViewer.Util.registerCallbacks([{target:$buttons[j],type:"click",handler:(function(clickedElem){return function(){O.viewer.viewerControl.rotateDocument(parseInt(clickedElem.dataset.igRotateDegrees));};})($buttons[j])}],O.model.callbacks);O.model.$elements.prop("disabled",false);}}};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var RotatePageModel=function(options){this.iconClockwise=options.iconClockwise;this.labelClockwise=options.labelClockwise||"";this.tooltipClockwise=options.tooltipClockwise;this.$elements=null;this.callbacks=[];};var RotatePageView=function(viewer,model){this.viewer=viewer;this.model=model;};RotatePageView.prototype={render:function(){var htmlTemplate='<div>'+'<button type="button" href="#" class="btn navbar-btn" data-ig-rotate-degrees="90">'+'<img class="ig-viewer-icon" src="'+this.model.iconClockwise+'" />'+this.model.labelClockwise+'</button>'+'</div>';this.model.$elements=$("[data-ig-rotate-page]",this.viewer.model.$rootElement);this.model.$elements.html(htmlTemplate);var $buttons=$("button[data-ig-rotate-degrees]",this.model.$elements);for(var i=0;i<$buttons.length;i++){var $button=$($buttons[i]);var degs=parseInt($button[0].dataset.igRotateDegrees);$button.attr("title",this.model.tooltipClockwise);}}};IGViewer.ViewerComponents.RotatePage=function(viewer,options){this.viewer=viewer;this.model=new RotatePageModel(options);this.view=new RotatePageView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.RotatePage.prototype={initialize:function(){var O=this;this.view.render();if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);for(var i=0;i<O.model.$elements.length;i++){var $buttons=$("button[data-ig-rotate-degrees]",O.model.$elements[i]);for(var j=0;j<$buttons.length;j++){IGViewer.Util.registerCallbacks([{target:$buttons[j],type:"click",handler:(function(clickedElem){return function(){O.viewer.viewerControl.rotatePage(parseInt(clickedElem.dataset.igRotateDegrees));};})($buttons[j])}],O.model.callbacks);O.model.$elements.prop("disabled",false);}}};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var ZoomInModel=function(options){this.icon=options.icon;this.label=options.label||"";this.tooltip=options.tooltip;this.enabled=false;this.$element=null;this.callbacks=[];};var ZoomInView=function(viewer,model){this.viewer=viewer;this.model=model;};ZoomInView.prototype={render:function(){var htmlTemplate='<button class="btn navbar-btn">'+'<img class="ig-viewer-icon" src="'+this.model.icon+'" />'+this.model.label+'</button>';this.model.$element=$('[data-ig-zoom-in]',this.viewer.model.$rootElement);var $element=this.model.$element;$element.html(htmlTemplate);$element.attr('title',this.model.tooltip);}};IGViewer.ViewerComponents.ZoomIn=function(viewer,options){this.viewer=viewer;this.model=new ZoomInModel(options);this.view=new ZoomInView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.ZoomIn.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){if(this.viewer.viewerControl){var pageCount=this.viewer.viewerControl.getPageCount();var nextValue=this.viewer.viewerControl.getScaleFactor()*1.25;this.model.enabled=pageCount!=0&& !(this.viewer.viewerControl.getMaxScaleFactor()<nextValue);$('button',this.model.$element).prop("disabled",!this.model.enabled)}}).bind(this);var zoomIn=(function(){if(this.viewer.viewerControl){var currentValue=this.viewer.viewerControl.getScaleFactor();this.viewer.viewerControl.setScaleFactor(currentValue*1.25);}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);updateEnabled();IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"ScaleChanged",handler:updateEnabled},{target:$("button",O.model.$element),type:"click",handler:zoomIn}],O.model.callbacks);};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var ZoomOutModel=function(options){this.icon=options.icon;this.label=options.label||"";this.tooltip=options.tooltip;this.enabled=false;this.$element=null;this.callbacks=[];};var ZoomOutView=function(viewer,model){this.viewer=viewer;this.model=model;};ZoomOutView.prototype={render:function(){var htmlTemplate='<button class="btn navbar-btn">'+'<img class="ig-viewer-icon" class="ig-viewer-icon" src="'+this.model.icon+'" />'+this.model.label+'</button>';this.model.$element=$('[data-ig-zoom-out]',this.viewer.model.$rootElement);var $element=this.model.$element;$element.html(htmlTemplate);$element.attr('title',this.model.tooltip);}};IGViewer.ViewerComponents.ZoomOut=function(viewer,options){this.viewer=viewer;this.model=new ZoomOutModel(options);this.view=new ZoomOutView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.ZoomOut.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){if(this.viewer.viewerControl){var pageCount=this.viewer.viewerControl.getPageCount();var nextValue=this.viewer.viewerControl.getScaleFactor()/1.25;this.model.enabled=pageCount!=0&& !(this.viewer.viewerControl.getMinScaleFactor()>nextValue);$('button',this.model.$element).prop("disabled",!this.model.enabled)}}).bind(this);var zoomOut=(function(){if(this.viewer.viewerControl){var desiredValue=this.viewer.viewerControl.getScaleFactor()/1.25,maxValue=this.viewer.viewerControl.getMaxScaleFactor();this.viewer.viewerControl.setScaleFactor(desiredValue<maxValue?desiredValue:maxValue);}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);updateEnabled();IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"ScaleChanged",handler:updateEnabled},{target:$("button",O.model.$element),type:"click",handler:zoomOut}],O.model.callbacks);};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var ZoomSelectModel=function(options){this.label=options.label||"";this.tooltip=options.tooltip;this.enabled=false;this.useBsCollapsibleNavbar=typeof(options.useBsCollapsibleNavbar)==="boolean"?options.useBsCollapsibleNavbar:true;this.$element=null;this.$elementOptions=null;this.$viewPercentageElement=null;this.callbacks=[];};var ZoomSelectView=function(viewer,model){this.viewer=viewer;this.model=model;};ZoomSelectView.prototype={render:function(){var htmlTemplateZoomOptions='<ul class="dropdown-menu">'+'<li class="dropdown-item" data-ig-zoom-factor="800"><a href="#">800%</a></li>'+'<li class="dropdown-item" data-ig-zoom-factor="400"><a href="#">400%</a></li>'+'<li class="dropdown-item" data-ig-zoom-factor="200"><a href="#">200%</a></li>'+'<li class="dropdown-item" data-ig-zoom-factor="100"><a href="#">100%</a></li>'+'<li class="dropdown-item" data-ig-zoom-factor="75"><a href="#">75% </a></li>'+'<li class="dropdown-item" data-ig-zoom-factor="50"> <a href="#">50% </a></li>'+'<li class="dropdown-item" class="divider"></li>'+'<li class="dropdown-item" data-ig-zoom-fit="FullWidth"><a href="#">Full Width</a></li>'+'<li class="dropdown-item" data-ig-zoom-fit="FullHeight"><a href="#">Full Height</a></li>'+'<li class="dropdown-item" data-ig-zoom-fit="FullPage"><a href="#">Full Page</a></li>'+'</ul>';var htmlTemplateMain='<div class="dropdown">'+'<button class="btn navbar-btn dropdown-toggle" type="button" data-toggle="dropdown">'+'<span data-ig-zoom-select-current></span>'+'<span class="caret"></span>'+'</button>'+htmlTemplateZoomOptions+'</div>';this.model.$element=$("[data-ig-zoom-select]",this.viewer.model.$rootElement);var $element=this.model.$element;$element.html(htmlTemplateMain);$element.attr('title',this.model.tooltip);this.model.$viewPercentageElement=$('[data-ig-zoom-select-current]',this.viewer.model.$element);if(this.model.useBsCollapsibleNavbar){this.model.$elementOptions=$("[data-ig-zoom-select-options]",this.viewer.model.$rootElement);var htmlTemplateZoomOptionsWrapper='<div class="dropdown">'+'<span data-toggle="dropdown" style="display:none;"></span>'+htmlTemplateZoomOptions+'</div>';var $elementOptions=this.model.$elementOptions;$elementOptions.html(htmlTemplateZoomOptionsWrapper);}}};IGViewer.ViewerComponents.ZoomSelect=function(viewer,options){this.viewer=viewer;this.model=new ZoomSelectModel(options);this.view=new ZoomSelectView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.ZoomSelect.prototype={initialize:function(){var O=this;this.view.render();var updateEnabled=(function(){if(this.viewer.viewerControl){var pageCount=this.viewer.viewerControl.getPageCount();this.model.enabled=pageCount!=0&& !(this.viewer.viewerControl.getAtMaxScale()||this.viewer.viewerControl.getAtMinScale());$('input',this.model.$element).prop("disabled",!this.model.enabled)}}).bind(this);var updateViewPercentage=(function(){if(this.viewer.viewerControl){var currentScale=Math.round(this.viewer.viewerControl.getScaleFactor()*100);this.model.$viewPercentageElement.text(currentScale+'%');}}).bind(this);var setDefaultFactor=(function(){if(this.viewer.viewerControl){this.viewer.viewerControl.setScaleFactor(1);}}).bind(this);var setFit=(function(event){if(this.viewer.viewerControl){var fit=event.currentTarget.attributes['data-ig-zoom-fit'].value;this.viewer.viewerControl.fitContent(fit);}}).bind(this);var setFactor=(function(event){if(this.viewer.viewerControl){var factor=event.currentTarget.attributes['data-ig-zoom-factor'].value/100;this.viewer.viewerControl.setScaleFactor(factor);}}).bind(this);var dropdownNavBarOptions=(function(){if(this.model.useBsCollapsibleNavbar){$('[data-toggle="dropdown"]',this.model.$elementOptions).dropdown("toggle");}}).bind(this);var fitContent=(function(){this.viewer.fitContent();}).bind(this);var initBsCollapsibleNavbarZoomSelect=(function(){if(this.model.useBsCollapsibleNavbar){IGViewer.Util.registerCallbacks([{target:$("[data-ig-zoom-factor]",this.model.$elementOptions),type:"click",handler:setFactor},{target:$("[data-ig-zoom-fit]",this.model.$elementOptions),type:"click",handler:setFit},{target:$(".dropdown",this.model.$element),type:"show.bs.dropdown",handler:dropdownNavBarOptions},{target:$(".dropdown",this.model.$elementOptions),type:"shown.bs.dropdown",handler:fitContent},{target:$(".dropdown",this.model.$elementOptions),type:"hidden.bs.dropdown",handler:fitContent}],this.model.callbacks);}}).bind(this);if(this.viewer.viewerControl){function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"ScaleChanged",handler:updateEnabled},{target:O.viewer.viewerControl,type:"ScaleChanged",handler:updateViewPercentage},{target:$('[data-ig-zoom-factor]',O.model.$element),type:"click",handler:setFactor},{target:$('[data-ig-zoom-fit]',O.model.$element),type:"click",handler:setFit}],O.model.callbacks);O.viewer.viewerControl.fitContent("FullPage");setDefaultFactor();initBsCollapsibleNavbarZoomSelect();};this.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);}},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var AnnotationBarModel=function(options){if(options){this.icon=options.icon||"";this.label=options.label||"";this.tooltip=options.tooltip;}this.annotationIo=null;this.initialLayersLoaded=false;this.viewerControlReady=false;this.enabled=false;this.$toggleButton=null;this.$element=null;this.$propertyWindow=null;this.callbacks=[];};var AnnotationBarView=function(viewer,model){this.viewer=viewer;this.model=model;};AnnotationBarView.prototype={render:function(){this.model.$element=$("[data-ig-annotation-bar]",this.viewer.model.$rootElement);var barHtmlTemplate='<div class="row align-items-center justify-content-center">'+'<div class="col-auto">'+'<div class="btn-group btn-group-toggle" data-toggle="buttons">'+'<button class="btn btn-secondary active">'+'<input type="radio" name="markup-tool" autocomplete="off" value="AccusoftPanAndEdit" checked>Pan/Edit'+'</button>'+'<label class="btn btn-secondary">'+'<input type="radio" name="markup-tool" autocomplete="off" value="AccusoftLineAnnotation">Line'+'</label>'+'<label class="btn btn-secondary">'+'<input type="radio" name="markup-tool" autocomplete="off" value="AccusoftTextAnnotation">Text'+'</label>'+'<label class="btn btn-secondary">'+'<input type="radio" name="markup-tool" autocomplete="off" value="AccusoftPolylineAnnotation">Polyline'+'</label>'+'<label class="btn btn-secondary">'+'<input type="radio" name="markup-tool" autocomplete="off" value="AccusoftPolygonAnnotation">Polygon'+'</label>'+'<label class="btn btn-secondary">'+'<input type="radio" name="markup-tool" autocomplete="off" value="AccusoftEllipseAnnotation">Ellipse'+'</label>'+'<label class="btn btn-secondary">'+'<input type="radio" name="markup-tool" autocomplete="off" value="AccusoftRectangleAnnotation">Rectangle'+'</label>'+'</div>'+'</div>'+'</div>'+'</div>';this.model.$element.html(barHtmlTemplate);var buttonHtmlTemplate='<button data-ig-annotation-bar-toggle-btn class="btn navbar-btn" data-toggle="collapse" href="[data-ig-annotation-bar]" >'+"Annotations"+'</button>';var $toggleButton=this.model.$toggleButton=$("[data-ig-annotation-bar-btn]",this.viewer.model.$rootElement);$toggleButton.html(buttonHtmlTemplate);if(typeof(this.model.tooltip)==="string"){$toggleButton.attr('title',this.model.tooltip);}}};IGViewer.ViewerComponents.AnnotationBar=function(viewer,options){this.viewer=viewer;this.model=new AnnotationBarModel(options);this.view=new AnnotationBarView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.AnnotationBar.prototype={initialize:function(){var O=this;this.view.render();O.model.annotationIo=new AnnotationIo(O.viewer);IGViewer.Util.registerCallbacks([{target:$("input:radio[name='markup-tool']"),type:"change",handler:changeMouseTool},{target:$("body"),type:"keydown",handler:deleteMarks},{target:$("[data-ig-annotation-bar-toggle-btn]"),type:"click",handler:toggleAnnotationBar}],O.model.callbacks);function toggleAnnotationBar(){$("[data-ig-annotation-bar-btn]").toggleClass("supplemental-bar-toggled");$("[data-ig-annotation-bar-toggle-btn]").toggleClass("supplemental-bar-toggled");$("[data-ig-annotation-bar-toggle-btn]").toggleClass("text-light");};O.viewer.viewerControl.on("PageCountReady",initOnPageCountReady);var saveLayer=IGViewer.Util.debounce(function(){if(O.model.initialLayersLoaded&&O.model.annotationIo.activeLayer)O.model.annotationIo.saveMarkupLayer(O.model.annotationIo.activeLayer);},2000);function initOnPageCountReady(){O.viewer.viewerControl.off("PageCountReady",initOnPageCountReady);O.model.viewerControlReady=true;O.model.enabled=true;IGViewer.Util.registerCallbacks([{target:O.viewer.viewerControl,type:"MarkChanged",handler:()= >{if(O.model.initialLayersLoaded)saveLayer();}},{target:O.viewer.viewerControl,type:"MarkCreated",handler:()= >{if(O.model.initialLayersLoaded)saveLayer();}},{target:O.viewer.viewerControl,type:"MarkRemoved",handler:()= >{if(O.model.initialLayersLoaded)saveLayer();}}],O.model.callbacks);loadLayer();};function changeMouseTool(){var toolName=$("input:radio[name='markup-tool']:checked").val();O.viewer.viewerControl.setCurrentMouseTool(toolName);};function loadLayer(){O.model.annotationIo.loadMarkupLayerList(function(layerList){if(layerList.length==0){O.model.initialLayersLoaded=true;return;}var layerRecordId=layerList[0].layerRecordId;O.model.annotationIo.loadMarkupLayers([layerRecordId],function(loadedLayers){O.model.annotationIo.setActiveMarkupLayer(O.model.annotationIo.loadedLayers[layerRecordId]);O.model.initialLayersLoaded=true;});});};function deleteMarks(event){if(event.keyCode!=46)return;O.model.annotationIo.deleteMarks(O.viewer.viewerControl.getSelectedMarks());}},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};AnnotationIo=function(viewer,options){this.viewer=viewer;this.activeLayer=null;this.defaultLayer=null;this.layerList=null;this.loadedLayers={};this.initialize();};AnnotationIo.prototype={initialize:function(){var O=this;if(!O.viewer.viewerControl.getActiveMarkupLayer().getRecordId())O.defaultLayer=O.viewer.viewerControl.getActiveMarkupLayer();O.activeLayer=O.viewer.viewerControl.getActiveMarkupLayer();},loadMarkupLayerList:function(done){var O=this;this.viewer.viewerControl.requestMarkupLayerNames().then(function onResolve(annotationLayerRecords){O.layerList=annotationLayerRecords;done(O.layerList);});},loadMarkupLayers:function(layers,done){var O=this;if(O.defaultLayer)this.viewer.viewerControl.deleteMarks(O.defaultLayer.getMarks());for(var i=0;i<layers.length;i++){if(O.loadedLayers[layers[i]])O.unloadMarkupLayer(layers[i]);}this.viewer.viewerControl.loadMarkupLayers(layers).then(function onSuccess(loadedLayers){for(var i=0;i<loadedLayers.length;i++){O.loadedLayers[loadedLayers[i].getRecordId()]=loadedLayers[i];}done(loadedLayers);},function onFailure(reason){throw new IPCC.Error(reason.code,reason.message);});},saveMarkupLayer:function(layer,done){var O=this;if(!O.viewer.viewerControl)return;O.viewer.viewerControl.saveMarkupLayer(layer.getId()).then(function onSuccess(layerInfo){if(layer==O.defaultLayer){O.defaultLayer=null;}O.loadedLayers[layerInfo.layerRecordId]=layer;done(layerInfo);},function onFailure(reason){throw new IPCC.Error(reason.code,reason.message);});},saveActiveMarkupLayer:function(done){var O=this;var layer=O.viewer.viewerControl.getActiveMarkupLayer();O.saveMarkupLayer(layer,done);},deleteMarks:function(marks){this.viewer.viewerControl.deleteMarks(marks);},unloadMarkupLayer:function(layerRecordId){var layer;if(layerRecordId instanceof IPCC.MarkupLayer){layer=layerRecordId;}else if(this.loadedLayers[layerRecordId]){layer=this.loadedLayers[layerRecordId];}else if(layerRecordId===this.viewer.viewerControl.getActiveMarkupLayer().getRecordId()){layer=this.viewer.viewerControl.getActiveMarkupLayer();}if(!layer)return;this.viewer.viewerControl.deleteMarks(layer.getMarks());delete this.loadedLayers[layerRecordId];layer.destroy();},setActiveMarkupLayer:function(layer){this.activeLayer=layer;this.viewer.viewerControl.setActiveMarkupLayer(layer);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var SearchBarModel=function(options){this.label="Search";this.tooltip="Toggle Search Bar";if(options){this.label=options.label||this.label;this.tooltip=options.tooltip||this.tooltip;this.iconSearch=options.iconSearch||"";this.iconSearchEnter=options.iconSearchEnter||"";this.iconSearchPrev=options.iconSearchPrev||"";this.iconSearchNext=options.iconSearchNext||"";this.iconSearchCancel=options.iconSearchCancel||"";}this.$toggleButtonContainer=this.$toggleButton=this.$searchBarContainer=null;this.currentSearchRequest=this.currentResultIndex=this.lastSearchTerm=null;this.callbacks=[];};var SearchBarView=function(viewer,model){this.viewer=viewer;this.model=model;};SearchBarView.prototype={render:function(){this.model.$searchBarContainer=$("[data-ig-search-bar]",this.viewer.model.$rootElement);var searchBarHtmlTemplate='<div class="row align-items-center justify-content-center">'+'<div class="col-auto">'+'<div class="btn-group btn-group-toggle search-control-group">'+'<input type="text" id="search-input" class="text-light" />'+'<div id="search-status-container" class="search-control-group">'+'<div id="search-status" />'+'</div>'+'<button type="button" id="search-go" class="btn navbar-btn search-button search-button-primary">'+'<img src="'+this.model.iconSearchEnter+'" title="Search" />'+'</button>'+'<button type="button" id="search-prev" class="btn navbar-btn search-button search-button-primary" title="Previous Result" data-ig-search-scroll-inc="-1">'+'<img src="'+this.model.iconSearchPrev+'" title="Previous Result" />'+'</button >'+'<button type="button" id="search-next" class="btn navbar-btn search-button search-button-primary" title="Previous Result" data-ig-search-scroll-inc="1">'+'<img src="'+this.model.iconSearchNext+'" title="Next Result" />'+'</button >'+'<button type="button" id="search-clear" data-ig-search-bar-toggle-btn class="btn navbar-btn search-button search-button-primary" data-toggle="collapse" href="[data-ig-search-bar]">'+'<img src="'+this.model.iconSearchCancel+'" title="Clear and Exit Search" />'+'</button>'+'</div>'+'</div>'+'</div>';this.model.$searchBarContainer.html(searchBarHtmlTemplate);this.model.$toggleButtonContainer=$("[data-ig-search-bar-btn]",this.viewer.model.$rootElement);var toggleButtonHtmlTemplate='<button type="button" id="search-main-btn" data-ig-search-bar-toggle-btn class="btn navbar-btn" data-toggle="collapse" href="[data-ig-search-bar]" disabled="true">'+'<img src="'+this.model.iconSearch+'" />Search'+'</button>';this.model.$toggleButtonContainer.html(toggleButtonHtmlTemplate);this.model.$toggleButton=$("[data-ig-search-bar-toggle-btn]",this.model.$toggleButtonContainer);if(typeof(this.model.tooltip)==="string"){this.model.$toggleButton.attr('title',this.model.tooltip);}}};IGViewer.ViewerComponents.SearchBar=function(viewer,options){this.viewer=viewer;this.model=new SearchBarModel(options);this.view=new SearchBarView(this.viewer,this.model);this.initialize();};IGViewer.ViewerComponents.SearchBar.prototype={initialize:function(){var O=this;this.view.render();IGViewer.Util.registerCallbacks([{target:$("[data-ig-search-bar-toggle-btn]",O.viewer.model.$rootElement),type:"click",handler:toggleSearchBarStylesHandler},{target:$("#search-input",O.viewer.model.$rootElement),type:"keypress",handler:performSearchHandler},{target:$("#search-go",O.viewer.model.$rootElement),type:"click",handler:performSearchHandler},{target:$("#search-clear",O.viewer.model.$rootElement),type:"click",handler:clearSearchHandler},{target:$("button[data-ig-search-scroll-inc]",O.viewer.model.$rootElement),type:"click",handler:searchScrollHandler}],O.model.callbacks);function searchInputFocus(){function obtainFocus(){var $targetElem=$("#search-input",O.viewer.model.$rootElement);$targetElem.focus();if(document.activeElement===$targetElem[0]|| !O.model.$toggleButton.hasClass("supplemental-bar-toggled"))searchInputClearFocus();};if(!O.model.focusIntervalId)O.model.focusIntervalId=setInterval(obtainFocus,100);};function searchInputClearFocus(bBlur){if(O.model.focusIntervalId){clearInterval(O.model.focusIntervalId);O.model.focusIntervalId=null;}if(typeof(bBlur)==="boolean"&&bBlur)$("#search-input",O.viewer.model.$rootElement).blur();};function toggleSearchBarStylesHandler(){updateSearchStatus(false);O.model.$toggleButton.toggleClass("supplemental-bar-toggled");O.model.$toggleButton.toggleClass("text-light");if(O.model.$toggleButton.hasClass("supplemental-bar-toggled")){searchInputFocus();setTimeout(updateSearchStatus,500);}else searchInputClearFocus();};function onPartialResultsAvailable(evt){updateSearchStatus();};function onSearchComplete(){O.model.currentSearchRequest.off(IPCC.EventType.PartialSearchResultsAvailable,onPartialResultsAvailable);O.model.currentSearchRequest.off(IPCC.EventType.SearchCompleted,onSearchComplete);O.model.currentResultIndex=null;updateSearchStatus();};function performSearchHandler(evt){var searchTerm=$("#search-input",O.viewer.model.$rootElement)[0].value;if((evt.type==="click"||evt.type==="keypress"&&evt.key==="Enter")&&searchTerm.trim().length!==0){if(!O.model.currentSearchRequest||searchTerm!==O.model.lastSearchTerm){clearSearch(false,function(){O.model.currentSearchRequest=O.viewer.viewerControl.search({searchTerms:[{searchTerm:searchTerm,contextPadding:25}]});startTime=new Date().getTime();O.model.currentSearchRequest.on(IPCC.EventType.PartialSearchResultsAvailable,onPartialResultsAvailable);O.model.currentSearchRequest.on(IPCC.EventType.SearchCompleted,onSearchComplete);updateSearchStatus();});O.model.lastSearchTerm=searchTerm;}else{$("#search-next",O.viewer.model.$rootElement).trigger("click");}}};function clearSearch(bClearInputControl,callback){if(O.model.currentSearchRequest){if(!O.model.currentSearchRequest.getIsComplete()){O.model.currentSearchRequest.off(IPCC.EventType.SearchCompleted,onSearchComplete);O.model.currentSearchRequest.on(IPCC.EventType.SearchCancelled,onSearchCancelled);O.model.currentSearchRequest.cancel();}else onSearchCancelled();function onSearchCancelled(){O.model.currentSearchRequest.off(IPCC.EventType.SearchCancelled,onSearchCancelled);O.model.currentSearchRequest=null;updateSearchStatus();searchInputFocus();O.viewer.viewerControl.on(IPCC.EventType.SearchCleared,onSearchCleared);O.viewer.viewerControl.clearSearch();};function onSearchCleared(){O.viewer.viewerControl.off(IPCC.EventType.SearchCleared,onSearchCleared);if(callback instanceof Function)callback();}}else if(callback instanceof Function)callback();O.model.currentResultIndex=null;if(bClearInputControl)$("#search-input",O.viewer.model.$rootElement)[0].value="";};function clearSearchHandler(evt){clearSearch(true);};function getParentDataSetValue(elem,dataSetKey){var value=null;while(elem&&(!elem.dataset||typeof(value=elem.dataset[dataSetKey]||null)!=="string"))elem=elem.parentElement;return value;};function updateSearchStatus(bValue){var $statusContainer=$("#search-status-container",O.viewer.model.$rootElement),$statusElem=$("#search-status",$statusContainer);if(typeof(bValue)==="boolean")$statusContainer.css("display",bValue?"block":"none");else if(O.model.currentSearchRequest){updateSearchStatus(true);var text;if(typeof(O.model.currentResultIndex)==="number")text=(O.model.currentResultIndex+1)+" / "+O.model.currentSearchRequest.getResults().length;else text=O.model.currentSearchRequest.getResults().length+" results";if(!O.model.currentSearchRequest.getIsComplete())text="[Searching] "+text+"...";$statusElem.html(text);}else updateSearchStatus(false);};function searchScrollHandler(evt){var scrollIncrement=parseInt(getParentDataSetValue(evt.target,"igSearchScrollInc"));if(O.model.currentSearchRequest&&O.model.currentSearchRequest.getResults().length!=0){if(typeof(O.model.currentResultIndex)==="number")O.model.currentResultIndex=(O.model.currentResultIndex+O.model.currentSearchRequest.getResults().length+scrollIncrement)%O.model.currentSearchRequest.getResults().length;else if(scrollIncrement===1)O.model.currentResultIndex=0;else O.model.currentResultIndex=O.model.currentSearchRequest.getResults().length-1;scrollToSearchResult(O.model.currentResultIndex);}};function scrollToSearchResult(index){if(typeof(index)==="number"&&O.model.currentSearchRequest&&index>=0&&index<O.model.currentSearchRequest.getResults().length){O.viewer.viewerControl.setSelectedSearchResult(O.model.currentSearchRequest.getResults()[index],true);updateSearchStatus();}};updateSearchStatus();O.viewer.viewerControl.on("ViewerReady",initOnViewerReady);function initOnViewerReady(){O.viewer.viewerControl.off("ViewerReady",initOnViewerReady);O.model.$toggleButton.attr("disabled",false);}},destroy:function(){IGViewer.Util.unregisterCallbacks(this.model.callbacks);}};})();var IGViewer=IGViewer||{};(function(){IGViewer.ViewerComponents=IGViewer.ViewerComponents||{};var ViewerModel=function(element,options){if(typeof(element)==="string"||element instanceof Element)element=$(element);if(!(element instanceof $)||element.length!==1)throw new Error("element must either be a DOM Element or a CSS selector which uniquely identifies a DOM Element");this.viewerId=null;this.$rootElement=element;this.options=options||{};this.components={prevPage:null,nextPage:null,firstPage:null,lastPage:null,goToPage:null,rotateDoc:null,rotatePage:null,zoomSelect:null,zoomIn:null,zoomOut:null,annotationBar:null,searchBar:null};if(typeof(this.options.imageHandlerUrl)!=="string")this.options.imageHandlerUrl="ImageGearService.svc";this.viewerIconsPath="Assets/Viewer/icons";this.viewerIcons={zoomOut:"zoomout.svg",zoomIn:"zoomin.svg",firstPage:"firstpage.svg",prevPage:"prevpage.svg",nextPage:"nextpage.svg",lastPage:"lastpage.svg",rotateDocCW:"rotate-doc-cw.svg",rotatePageCW:"rotate-page-cw.svg",search:"search.svg",searchEnter:"enter.svg",searchPrev:"prevpage.svg",searchNext:"nextpage.svg",searchCancel:"x.svg"};if(typeof(this.options.viewerIconsPath)==="string")this.viewerIconsPath=this.options.viewerIconsPath;if(this.options.viewerIcons instanceof Object)for(var x in this.options.viewerIcons)if(this.options.viewerIcons.hasOwnProperty(x)&&this.viewerIcons.hasOwnProperty(x))this.viewerIcons[x]=this.options.viewerIcons[x];this.callbacks=[];this.resizeCallbacks=[];};var ViewerView=function(model){this.model=model;};ViewerView.prototype={render:function(){var htmlTemplate='<div class="container-fluid" style="margin: 0">'+'<div data-ig-main-menu-bar class="container-fluid" style="margin: 0">'+'<ul class="nav justify-content-center">'+'<li class="nav-item" data-ig-annotation-bar-btn></li>'+'<li class="nav-item" data-ig-search-bar-btn></li>'+'<li class="nav-item" data-ig-control-group="zoom">'+'<div data-ig-zoom-out><a href="#">Zoom Out</a></div>'+'<div data-ig-zoom-select><a href="#">Zoom: 100%</a></div>'+'<div data-ig-zoom-in><a href="#">Zoom In</a></div>'+'</li>'+'<li class="nav-item" data-ig-control-group="zoomOptions">'+'<div data-ig-zoom-select-options></div>'+'</li>'+'<li class="nav-item" data-ig-control-group="pagination">'+'<div data-ig-first-page><a href="#">First Page</a></div>'+'<div data-ig-prev-page><a href="#">Previous Page</a></div> '+'<div data-ig-goto-page><a href="#">Goto Page</a></div>'+'<div data-ig-next-page><a href="#">Next Page</a></div> '+'<div data-ig-last-page><a href="#">Last Page</a></div>'+'</li>'+'<li class="nav-item" data-ig-control-group="rotate">'+'<div data-ig-rotate-doc><a href="#">Rotate Doc</a></div>'+'<div data-ig-rotate-page><a href="#">Rotate Page</a></div>'+'</li>'+'</ul>'+'<div data-ig-annotation-bar class="collapse annotation-bar"></div>'+'<div data-ig-search-bar class="collapse"></div>'+'</div>'+'<div class="row border-top border-dark" style="position: relative;">'+'<div data-ipcc-viewer-control style="background-color: #3c4248;">'+'</div>'+'</div>'+'</div>';this.model.$rootElement.html(htmlTemplate);}};var IGViewerKey="ImageGear.Web.IGViewer";IGViewer.Viewer=function(element,options){this.model=new ViewerModel(element,options);this.view=new ViewerView(this.model);this.initialize();};IGViewer.Viewer.prototype={initialize:function(){this.model.viewerId=IGViewer.Util.uniqueId("IGViewer");if(this.model.$rootElement.data(IGViewerKey)instanceof IGViewer.Viewer){this.model.$rootElement.data(IGViewerKey).destroy();}this.model.$rootElement.data(IGViewerKey,this);this.view.render();this.viewerControl=new IPCC.ViewerControl($("[data-ipcc-viewer-control]",this.model.$rootElement)[0],this.model.options);var fixedViewerIconsPath=IGViewer.Util.endWithSlash(this.model.viewerIconsPath);this.model.components.prevPage=new IGViewer.ViewerComponents.PrevPage(this,{icon:fixedViewerIconsPath+this.model.viewerIcons.prevPage,tooltip:"Previous Page",label:""});this.model.components.nextPage=new IGViewer.ViewerComponents.NextPage(this,{icon:fixedViewerIconsPath+this.model.viewerIcons.nextPage,tooltip:"Next Page",label:""});this.model.components.firstPage=new IGViewer.ViewerComponents.FirstPage(this,{icon:fixedViewerIconsPath+this.model.viewerIcons.firstPage,tooltip:"First Page",label:""});this.model.components.lastPage=new IGViewer.ViewerComponents.LastPage(this,{icon:fixedViewerIconsPath+this.model.viewerIcons.lastPage,tooltip:"Last Page",label:""});this.model.components.goToPage=new IGViewer.ViewerComponents.GoToPage(this,{tooltip:"Go to Page",label:""});this.model.components.rotateDoc=new IGViewer.ViewerComponents.RotateDoc(this,{iconClockwise:fixedViewerIconsPath+this.model.viewerIcons.rotateDocCW,tooltipClockwise:"Rotate Document Clockwise",labelClockwise:"",});this.model.components.rotatePage=new IGViewer.ViewerComponents.RotatePage(this,{iconClockwise:fixedViewerIconsPath+this.model.viewerIcons.rotatePageCW,tooltipClockwise:"Rotate Page Clockwise",labelClockwise:"",labelCounterClockwise:""});this.model.components.zoomSelect=new IGViewer.ViewerComponents.ZoomSelect(this,{useBsCollapsibleNavbar:true,tooltip:"Zoom Select",label:""});this.model.components.zoomIn=new IGViewer.ViewerComponents.ZoomIn(this,{icon:fixedViewerIconsPath+this.model.viewerIcons.zoomIn,tooltip:"Zoom In",label:""});this.model.components.zoomOut=new IGViewer.ViewerComponents.ZoomOut(this,{icon:fixedViewerIconsPath+this.model.viewerIcons.zoomOut,tooltip:"Zoom Out",label:""});this.model.components.annotationBar=new IGViewer.ViewerComponents.AnnotationBar(this,{tooltip:"Toggle Annotation Bar"});this.model.components.searchBar=new IGViewer.ViewerComponents.SearchBar(this,{label:"Search",tooltip:"Toggle Search Bar",iconSearch:fixedViewerIconsPath+this.model.viewerIcons.search,iconSearchEnter:fixedViewerIconsPath+this.model.viewerIcons.searchEnter,iconSearchPrev:fixedViewerIconsPath+this.model.viewerIcons.searchPrev,iconSearchNext:fixedViewerIconsPath+this.model.viewerIcons.searchNext,iconSearchCancel:fixedViewerIconsPath+this.model.viewerIcons.searchCancel});var showZoomOptions=(function(){$('.nav [data-ig-control-group="zoomOptions"]',this.model.$rootElement).show();}).bind(this);var hideZoomOptions=(function(){$('.nav [data-ig-control-group="zoomOptions"]',this.model.$rootElement).hide();}).bind(this);this.fitContent(0);IGViewer.Util.registerCallbacks([{target:$(".navbar-collapse",this.model.$rootElement),type:"show.bs.collapse",handler:showZoomOptions},{target:$(".navbar-collapse",this.model.$rootElement),type:"hide.bs.collapse",handler:hideZoomOptions}],this.model.callbacks);},destroy:function(){if(this.model.components){for(var compName in this.model.components){if(this.model.components.hasOwnProperty(compName)&&this.model.components[compName]&&(this.model.components[compName].destroy instanceof Function)){this.model.components[compName].destroy();}}}IGViewer.Util.unregisterCallbacks(this.model.callbacks);if(this.viewerControl instanceof IPCC.ViewerControl){this.viewerControl.destroy();this.viewerControl=null;}},fitContent:function(topMargin){var resizeFunction=function(){var height=$("[data-ig-main-menu-bar]").height();if(topMargin){if(typeof(topMargin)==="string"||topMargin instanceof Element){if(!($(topMargin)instanceof $)||$(topMargin).length!==1)throw new Error("Bad margin arg. Should either be an Integer, CSS selector, or Element.");height+=$(topMargin).height();}else if(Number.isInteger(topMargin)){height+=topMargin;}}$("[data-ipcc-viewer-control]").css("height","calc(100% - "+height+"px)");};var fitContentDebounced=IGViewer.Util.debounce(resizeFunction.bind(this),200);IGViewer.Util.unregisterCallbacks(this.model.resizeCallbacks);IGViewer.Util.registerCallbacks([{target:this.viewerControl,type:"PageCountReady",handler:fitContentDebounced},{target:this.viewerControl,type:"ViewerReady",handler:fitContentDebounced},{target:window,type:"resize",handler:fitContentDebounced},{target:$("[data-ig-main-menu-bar]",this.model.$rootElement),type:"show.bs.collapse",handler:fitContentDebounced},{target:$("[data-ig-main-menu-bar]",this.model.$rootElement),type:"hide.bs.collapse",handler:fitContentDebounced},{target:$("[data-ig-main-menu-bar]",this.model.$rootElement),type:"shown.bs.collapse",handler:fitContentDebounced},{target:$("[data-ig-main-menu-bar]",this.model.$rootElement),type:"hidden.bs.collapse",handler:fitContentDebounced}],this.model.resizeCallbacks);}};})();