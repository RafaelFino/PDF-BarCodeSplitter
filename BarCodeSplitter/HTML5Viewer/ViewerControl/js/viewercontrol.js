//----------------------------------------------------------------------
// Copyright (c) 1996-2022 Accusoft Corporation.  All rights reserved.
//----------------------------------------------------------------------
var IPCC=IPCC||{};IPCC.Type=IPCC.Type||{};IPCC.Type.prototype=IPCC.Type.prototype||Object.prototype;IPCC.Type.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};IPCC.Sys=IPCC.Sys||{};IPCC.Sys.UI=IPCC.Sys.UI||{};IPCC.Sys.UI.Control=IPCC.Sys.UI.Control||{};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.initializePageViewPlugin=function(HG,Wa){var rn=Wa.handleTouchEvents!==false;var KT=new IPCC.Web.UI.PageView(HG,rn);if(Wa){IPCC.acY(KT,Wa);}KT.uF(HG);KT.initialize();return KT;};IPCC.initializePageListPlugin=function(HG,bH){var Ju=new IPCC.PageList(HG);if(bH){IPCC.acY(Ju,bH);}Ju.uF(HG);Ju.initialize();return Ju;};IPCC.Web.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};IPCC.Web.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var NJ in baseType.prototype){if(baseType.prototype.hasOwnProperty(NJ)){var awU=baseType.prototype[NJ];if(!this.prototype[NJ]){this.prototype[NJ]=awU;}}}}return this;};IPCC.Web.aFR=function(WS,VZ,ahu){if(VZ){if(!ahu){VZ.apply(WS);}else{VZ.apply(WS,ahu);}}return WS;};IPCC.DebugErrorLevel=function(){};IPCC.DebugErrorLevel.registerEnum=IPCC.Web.regEnum;IPCC.DebugErrorLevel.prototype={Production:0,Development:1,Detailed:2};IPCC.DebugErrorLevel.registerEnum('IPCC.DebugErrorLevel',false);IPCC.DebugItemCause=function(){};IPCC.DebugItemCause.registerEnum=IPCC.Web.regEnum;IPCC.DebugItemCause.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};IPCC.DebugItemCause.registerEnum('IPCC.DebugItemCause',false);IPCC.Web.UI.MouseButton=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.MouseButton.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};IPCC.Web.UI.MouseButton.registerEnum("IPCC.Web.UI.MouseButton");IPCC.Web.UI.Key=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.Key.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};IPCC.Web.UI.Key.registerEnum("IPCC.Web.UI.Key");IPCC.Web.UI.ar=function(asH){var aT=asH;var aex=this.type=aT.type.toLowerCase();var LU=typeof aT.changedTouches!=='undefined';this.rawEvent=aT;this.altKey=aT.altKey;if(typeof(aT.button)!=='undefined'){this.button=(typeof(aT.which)!=='undefined')?aT.button:(aT.button===4)?IPCC.Web.UI.MouseButton.middleButton:(aT.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(aex==='keypress'){this.charCode=aT.charCode||aT.keyCode;}else if(aT.keyCode&&(aT.keyCode===46)){this.keyCode=127;}else{this.keyCode=aT.keyCode;}this.clientX=(LU)?aT.changedTouches[0].clientX:aT.clientX;this.clientY=(LU)?aT.changedTouches[0].clientY:aT.clientY;this.ctrlKey=aT.ctrlKey;this.target=aT.target?aT.target:aT.srcElement;function aoL(cn){var aL=0;var dr=0;while(cn&& !isNaN(cn.offsetLeft)&& !isNaN(cn.offsetTop)){aL+=cn.offsetLeft-cn.scrollLeft;dr+=cn.offsetTop-cn.scrollTop;if(cn.offsetparent){cn=cn.offsetParent;}else{cn=cn.parentNode;}}return{top:dr,left:aL};};var eE=""+aex;var wk='key';if(eE.substr(0,wk.length)!==wk){if((typeof(aT.offsetX)!=='undefined')&&(typeof(aT.offsetY)!=='undefined')){this.offsetX=aT.offsetX;this.offsetY=aT.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(aT.clientX)==='number')){var DQ=aoL(this.target);var eg=this.target;var hI=eg.ownerDocument||eg.document||eg;var lo=hI.defaultView||hI.parentWindow;this.offsetX=(lo.pageXOffset||0)+aT.clientX-DQ.left;this.offsetY=(lo.pageYOffset||0)+aT.clientY-DQ.top;}}this.screenX=(LU)?aT.changedTouches[0].screenX:aT.screenX;this.screenY=(LU)?aT.changedTouches[0].screenY:aT.screenY;this.shiftKey=aT.shiftKey;};IPCC.Web.UI.ar.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};IPCC.Web.UI.ar.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ar.registerClass('IPCC.Web.UI.ar');IPCC.acY=function(aZ,kK){var rG;for(var aN in kK){if(kK.hasOwnProperty(aN)&&kK[aN]!=undefined&&kK[aN]!=null){var bM=kK[aN];var aBm=aZ["get_"+aN];var ads=aZ["set_"+aN];if(typeof(ads)==='function'){ads.apply(aZ,[bM]);}else if(bM instanceof Array){rG=aBm.apply(aZ);if(!(rG instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(aN+" is not an Array property");}for(var H=0,bF=rG.length,rc=bM.length;H<rc;H++,bF++){rG[bF]=bM[H];}}}}};IPCC.Web.UI.ar.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.ar.RV(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.lY.addHandlerCantBeUsedForError);}if(!element.bj){element.bj={};}var eventCache=element.bj[eventName];if(!eventCache){element.bj[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.ar(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var eg=doc.defaultView||doc.parentWindow;e=eg.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.ar(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.ar.ahJ){element.dispose=IPCC.Web.UI.ar.ahJ;if(typeof(d)!=="undefined"){element.alf=d;}}}};IPCC.Web.UI.ar.clearHandlers=function(element){IPCC.Web.UI.ar.RV(element);IPCC.Web.UI.ar.akK(element,false);};IPCC.Web.UI.ar.akK=function(element,autoRemoving){if(element.bj){var cache=element.bj;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.ar.removeHandler(element,name,entry.handler);}}}}element.bj=null;}};IPCC.Web.UI.ar.ahJ=function(){IPCC.Web.UI.ar.akK(this,true);var d=this.alf,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.alf=null;if(type==="function"){this.dispose();}}};IPCC.Web.UI.ar.removeHandler=function(element,eventName,handler){IPCC.Web.UI.ar.cF(element,eventName,handler);};IPCC.Web.UI.ar.cF=function(element,eventName,handler){IPCC.Web.UI.ar.RV(element);var browserHandler=null;if((typeof(element.bj)!=='object')|| !element.bj){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bj[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.ar.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};IPCC.Web.UI.ar.RV=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.lY.argumentDomNode);}};IPCC.rC=function(cw,vH){var K=this;this.cw=cw;this.vH=vH;this.aoS=function(){return K.cw;};this.aEi=function(){return K.vH;};};IPCC.rC.prototype.get_propertyName=function(){return this.cw;};IPCC.rC.prototype.get_propertyInfo=function(){return this.vH;};IPCC.Web.yj=function(aL){return!isNaN(aL-0)&&aL!==null;};IPCC.aEz=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};IPCC.Web.UI.iS=function iS(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.Ge={};};IPCC.Web.UI.iS.prototype.da=function(dw,R){var cS=this.XR(dw,true);cS[cS.length]=R;};IPCC.Web.UI.iS.prototype.addHandler=function(dw,R){this.da(dw,R);};IPCC.Web.UI.iS.prototype.cF=function(dw,R){var sT=this.XR(dw);if(!sT){return;}var bV=IPCC.aEz(sT,R);if(bV>=0){sT.splice(bV,1);}};IPCC.Web.UI.iS.prototype.removeHandler=function(dw,R){this.cF(dw,R);};IPCC.Web.UI.iS.prototype.getHandler=function(dw){var sT=this.XR(dw);if(!sT||(sT.length===0)){return null;}var cS=sT.slice();sT=cS;return function(source,args){for(var H=0,rc=sT.length;H<rc;H++){sT[H](source,args);}};};IPCC.Web.UI.iS.prototype.XR=function(dw,asQ){if(!this.Ge[dw]){if(!asQ){return null;}this.Ge[dw]=[];}return this.Ge[dw];};IPCC.Web.Md=IPCC.Md||{};IPCC.Web.Md.ahR=function(bw){if(!this.Bq[0][0][0]){this.VG();}var H,bF,eE,GL,Uc,jP=this.Bq[0][4],tM=this.Bq[1],sm=bw.length,Kp=1;if(sm!==4&&sm!==6&&sm!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.bw=[GL=bw.slice(0),Uc=[]];for(H=sm;H<4*sm+28;H++){eE=GL[H-1];if(H%sm===0||(sm===8&&H%sm===4)){eE=jP[eE>>>24]<<24^jP[eE>>16&255]<<16^jP[eE>>8&255]<<8^jP[eE&255];if(H%sm===0){eE=eE<<8^eE>>>24^Kp<<24;Kp=Kp<<1^(Kp>>7)*283;}}GL[H]=GL[H-sm]^eE;}for(bF=0;H;bF++,H--){eE=GL[bF&3?H:H-4];if(H<=4||bF<4){Uc[bF]=eE;}else{Uc[bF]=tM[0][jP[eE>>>24]]^tM[1][jP[eE>>16&255]]^tM[2][jP[eE>>8&255]]^tM[3][jP[eE&255]];}}};IPCC.Web.Md.ahR.prototype={Tf:function(dB){return this.aqC(dB,1);},Bq:[[[],[],[],[],[]],[[],[],[],[],[]]],VG:function(){var OK=this.Bq[0],tM=this.Bq[1],jP=OK[4],aBt=tM[4],H,aL,vq,eV=[],aah=[],Sz,aby,aaJ,hn,Nc,Np;for(H=0;H<256;H++){aah[(eV[H]=H<<1^(H>>7)*283)^H]=H;}for(aL=vq=0;!jP[aL];aL^=Sz||1,vq=aah[vq]||1){hn=vq^vq<<1^vq<<2^vq<<3^vq<<4;hn=hn>>8^hn&255^99;jP[aL]=hn;aBt[hn]=aL;aaJ=eV[aby=eV[Sz=eV[aL]]];Np=aaJ*0x1010101^aby*0x10001^Sz*0x101^aL*0x1010100;Nc=eV[hn]*0x101^hn*0x1010100;for(H=0;H<4;H++){OK[H][aL]=Nc=Nc<<24^Nc>>>8;tM[H][hn]=Np=Np<<24^Np>>>8;}}for(H=0;H<5;H++){OK[H]=OK[H].slice(0);tM[H]=tM[H].slice(0);}},aqC:function(qS,IA){if(qS.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var bw=this.bw[IA],dp=qS[0]^bw[0],fe=qS[IA?3:1]^bw[1],fC=qS[2]^bw[2],eV=qS[IA?1:3]^bw[3],uQ,ahA,alh,auo=bw.length/4-2,H,Bb=4,eS=[0,0,0,0],JF=this.Bq[IA],Nm=JF[0],NV=JF[1],ML=JF[2],Oi=JF[3],jP=JF[4];for(H=0;H<auo;H++){uQ=Nm[dp>>>24]^NV[fe>>16&255]^ML[fC>>8&255]^Oi[eV&255]^bw[Bb];ahA=Nm[fe>>>24]^NV[fC>>16&255]^ML[eV>>8&255]^Oi[dp&255]^bw[Bb+1];alh=Nm[fC>>>24]^NV[eV>>16&255]^ML[dp>>8&255]^Oi[fe&255]^bw[Bb+2];eV=Nm[eV>>>24]^NV[dp>>16&255]^ML[fe>>8&255]^Oi[fC&255]^bw[Bb+3];Bb+=4;dp=uQ;fe=ahA;fC=alh;}for(H=0;H<4;H++){eS[IA?3& -H:H]=jP[dp>>>24]<<24^jP[fe>>16&255]<<16^jP[fC>>8&255]<<8^jP[eV&255]^bw[Bb++];uQ=dp;dp=fe;fe=fC;fC=eV;eV=uQ;}return eS;}};IPCC.Web.sr=IPCC.Web.sr||{};IPCC.Web.sr.Yl=function(sr){if(!this.bw[0]){this.VG();}if(sr){this.ea=sr.ea.slice(0);this.zt=sr.zt.slice(0);this.cI=sr.cI;}else{this.acM();}};IPCC.Web.sr.Yl.sr=function(dB){return(new IPCC.Web.sr.Yl()).aqI(dB).aso();};IPCC.Web.sr.Yl.prototype={aFb:512,acM:function(){this.ea=this.KA.slice(0);this.zt=[];this.cI=0;return this;},aqI:function(dB){if(typeof dB==="string"){dB=IPCC.Web.Codec.Gm.tO(dB);}var H,fe=this.zt=IPCC.Web.hi.Sv(this.zt,dB),aky=this.cI,auj=this.cI=aky+IPCC.Web.hi.uU(dB);for(H=512+aky& -512;H<=auj;H+=512){this.KM(fe.splice(0,16));}return this;},aso:function(){var H,fe=this.zt,ea=this.ea;fe=IPCC.Web.hi.Sv(fe,[IPCC.Web.hi.HL(1,1)]);for(H=fe.length+2;H&15;H++){fe.push(0);}fe.push(Math.floor(this.cI/0x100000000));fe.push(this.cI|0);while(fe.length){this.KM(fe.splice(0,16));}this.acM();return ea;},KA:[],bw:[],VG:function(){var H=0,Kq=2,aj;function abi(aL){return(aL-Math.floor(aL))*0x100000000|0;};ayO:for(;H<64;Kq++){for(aj=2;aj*aj<=Kq;aj++){if(Kq%aj===0){continue ayO;}}if(H<8){this.KA[H]=abi(Math.pow(Kq,1/2));}this.bw[H]=abi(Math.pow(Kq,1/3));H++;}},KM:function(ano){var H,eE,dp,fe,lo=ano.slice(0),ea=this.ea,cl=this.bw,ZN=ea[0],rf=ea[1],Gc=ea[2],MT=ea[3],rZ=ea[4],Nz=ea[5],Gv=ea[6],Zt=ea[7];for(H=0;H<64;H++){if(H<16){eE=lo[H];}else{dp=lo[(H+1)&15];fe=lo[(H+14)&15];eE=lo[H&15]=((dp>>>7^dp>>>18^dp>>>3^dp<<25^dp<<14)+(fe>>>17^fe>>>19^fe>>>10^fe<<15^fe<<13)+lo[H&15]+lo[(H+9)&15])|0;}eE=(eE+Zt+(rZ>>>6^rZ>>>11^rZ>>>25^rZ<<26^rZ<<21^rZ<<7)+(Gv^rZ&(Nz^Gv))+cl[H]);Zt=Gv;Gv=Nz;Nz=rZ;rZ=MT+eE|0;MT=Gc;Gc=rf;rf=ZN;ZN=(eE+((rf&Gc)^(MT&(rf^Gc)))+(rf>>>2^rf>>>13^rf>>>22^rf<<30^rf<<19^rf<<10))|0;}ea[0]=ea[0]+ZN|0;ea[1]=ea[1]+rf|0;ea[2]=ea[2]+Gc|0;ea[3]=ea[3]+MT|0;ea[4]=ea[4]+rZ|0;ea[5]=ea[5]+Nz|0;ea[6]=ea[6]+Gv|0;ea[7]=ea[7]+Zt|0;}};IPCC.Web.zC=function(rX,bP){return IPCC.Web.ZZ(false,arguments);};IPCC.Web.aeo=function(rX,bP){return IPCC.Web.ZZ(true,arguments);};IPCC.Web.ZZ=function(useLocale,bP){var aV='';var rX=bP[0];for(var H=0;;){var fB=rX.indexOf('{',H);var mo=rX.indexOf('}',H);if((fB<0)&&(mo<0)){aV+=rX.slice(H);break;}if((mo>0)&&((mo<fB)||(fB<0))){if(rX.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aV+=rX.slice(H,mo+1);H=mo+2;continue;}aV+=rX.slice(H,fB);H=fB+1;if(rX.charAt(H)==='{'){aV+='{';H++;continue;}if(mo<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var Mp=rX.substring(H,mo);var Lw=Mp.indexOf(':');var adY=parseInt((Lw<0)?Mp:Mp.substring(0,Lw),10)+1;if(isNaN(adY)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var ST=(Lw<0)?'':Mp.substring(Lw+1);var rI=bP[adY];if(typeof(rI)==="undefined"||rI===null){rI='';}if(rI.toFormattedString){aV+=rI.toFormattedString(ST);}else if(useLocale&&rI.aeo){aV+=rI.aeo(ST);}else if(rI.format){aV+=rI.format(ST);}else{aV+=rI.toString();}H=mo+1;}return aV;};IPCC.Web.UI.ImGearException=function(message,errorInfo){this.message=message;var K=this;if(errorInfo){for(var UD in errorInfo){if(errorInfo.hasOwnProperty(UD)){K[UD]=errorInfo[UD];}}}};IPCC.Web.UI.ImGearException.prototype=new Error();IPCC.Web.UI.ImGearException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearException.registerClass('IPCC.Web.UI.ImGearException');IPCC.Web.UI.ImGearHttpException=function(statusCode,message,customErrorCode){var fS="IPCC.Web.UI.ImGearHttpException: ";if(message){fS+=message;}this.message=fS;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};IPCC.Web.UI.ImGearHttpException.prototype=new Error();IPCC.Web.UI.ImGearHttpException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearHttpException.registerClass('IPCC.Web.UI.ImGearHttpException');IPCC.Web.UI.ImGearArgumentException=function(paramName,message){var fS="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.lY.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fS+="\n"+IPCC.Web.zC(IPCC.lY.paramName,paramName);}}this.message=fS;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentException.prototype=new Error();IPCC.Web.UI.ImGearArgumentException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentException.registerClass('IPCC.Web.UI.ImGearArgumentException');IPCC.Web.UI.ImGearArgumentNullException=function(paramName,message){var fS="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.lY.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fS+="\n"+IPCC.Web.zC(IPCC.Res.paramName,paramName);}}this.message=fS;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentNullException.prototype=new Error();IPCC.Web.UI.ImGearArgumentNullException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentNullException.registerClass('IPCC.Web.UI.ImGearArgumentNullException');IPCC.Web.UI.ImGearArgumentOutOfRangeException=function(paramName,actualValue,message){var fS="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.lY.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fS+="\n"+IPCC.Web.zC(IPCC.lY.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){fS+="\n"+IPCC.Web.zC(IPCC.lY.actualValue,actualValue);}this.message=fS;this.paramName=paramName;this.actualValue=actualValue;};IPCC.Web.UI.ImGearArgumentOutOfRangeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');IPCC.Web.UI.ImGearArgumentTypeException=function(paramName,actualType,expectedType,message){var fS="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){fS+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){fS+=IPCC.Web.zC(IPCC.lY.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{fS+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{fS+=IPCC.lY.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fS+="\n"+IPCC.Web.zC(IPCC.lY.paramName,paramName);}}this.message=fS;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};IPCC.Web.UI.ImGearArgumentTypeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentTypeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentTypeException.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');IPCC.Web.UI.ImGearArgumentUndefinedException=function(paramName,message){var fS="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.lY.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fS+="\n"+IPCC.Web.zC(IPCC.Res.paramName,paramName);}}this.message=fS;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentUndefinedException.prototype=new Error();IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');IPCC.Web.UI.ImGearInvalidOperationException=function(message){var fS="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.lY.invalidOperation);this.message=fS;};IPCC.Web.UI.ImGearInvalidOperationException.protype=new Error();IPCC.Web.UI.ImGearInvalidOperationException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearInvalidOperationException.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');IPCC.Web.UI.ImGearNotImplementedException=function(message){var fS="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.lY.notImplemented);this.message=fS;};IPCC.Web.UI.ImGearNotImplementedException.prototype=new Error();IPCC.Web.UI.ImGearNotImplementedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearNotImplementedException.registerClass('IPCC.Web.UI.ImGearNotImplementedException');IPCC.Web.UI.ImGearParameterCountException=function(message){var fS="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.lY.parameterCount);this.message=fS;};IPCC.Web.UI.ImGearParameterCountException.prootype=new Error();IPCC.Web.UI.ImGearParameterCountException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearParameterCountException.registerClass('IPCC.Web.UI.ImGearParameterCountException');IPCC.Web.bw=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];IPCC.Web.hi={UM:function(dp,sV,akk){dp=IPCC.Web.hi.abW(dp.slice(sV/32),32-(sV&31)).slice(1);return(akk===undefined)?dp:IPCC.Web.hi.Lb(dp,akk-sV);},SY:function(dp,sV,UQ){var aL,Yb=Math.floor((-sV-UQ)&31);if((sV+UQ-1^sV)& -32){aL=(dp[sV/32|0]<<(32-Yb))^(dp[sV/32+1|0]>>>Yb);}else{aL=dp[sV/32|0]>>>Yb;}return aL&((1<<UQ)-1);},Sv:function(yO,uQ){if(yO.length===0||uQ.length===0){return yO.concat(uQ);}var iq=yO[yO.length-1],sR=IPCC.Web.hi.ZC(iq);if(sR===32){return yO.concat(uQ);}else{return IPCC.Web.hi.abW(uQ,sR,iq|0,yO.slice(0,yO.length-1));}},uU:function(dp){var rc=dp.length,aL;if(rc===0){return 0;}aL=dp[rc-1];return(rc-1)*32+IPCC.Web.hi.ZC(aL);},Lb:function(dp,bX){if(dp.length*32<bX){return dp;}dp=dp.slice(0,Math.ceil(bX/32));var rc=dp.length;bX=bX&31;if(rc>0&&bX){dp[rc-1]=IPCC.Web.hi.HL(bX,dp[rc-1]&0x80000000>>(bX-1),1);}return dp;},HL:function(bX,aL,ft){if(bX===32){return aL;}return(ft?aL|0:aL<<(32-bX))+bX*0x10000000000;},ZC:function(aL){return Math.round(aL/0x10000000000)||32;},aus:function(dp,fe){if(IPCC.Web.hi.uU(dp)!==IPCC.Web.hi.uU(fe)){return false;}var aL=0,H;for(H=0;H<dp.length;H++){aL|=dp[H]^fe[H];}return(aL===0);},abW:function(dp,sR,Jd,eS){var H,aej=0,Zp;if(eS===undefined){eS=[];}for(;sR>=32;sR-=32){eS.push(Jd);Jd=0;}if(sR===0){return eS.concat(dp);}for(H=0;H<dp.length;H++){eS.push(Jd|dp[H]>>>sR);Jd=dp[H]<<(32-sR);}aej=dp.length?dp[dp.length-1]:0;Zp=IPCC.Web.hi.ZC(aej);eS.push(IPCC.Web.hi.HL(sR+Zp&31,(sR+Zp>32)?Jd:eS.pop(),1));return eS;},aaz:function(aL,dr){return[aL[0]^dr[0],aL[1]^dr[1],aL[2]^dr[2],aL[3]^dr[3]];}};IPCC.Web.gY=IPCC.Web.gY||{};IPCC.Web.aud=[];IPCC.Web.gY.Gm={lX:function(cS){var eS="",qa=IPCC.Web.hi.uU(cS),H,eE;for(H=0;H<qa/8;H++){if((H&3)===0){eE=cS[H/4];}eS+=String.fromCharCode(eE>>>24);eE<<=8;}return decodeURIComponent(escape(eS));},tO:function(cc){cc=unescape(encodeURIComponent(cc));var eS=[],H,eE=0;for(H=0;H<cc.length;H++){eE=eE<<8|cc.charCodeAt(H);if((H&3)===3){eS.push(eE);eE=0;}}if(H&3){eS.push(IPCC.Web.hi.HL(8*(H&3),eE));}return eS;}};IPCC.Web.gY.pL={wX:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lX:function(cS,aua,bg){var eS="",H,eR=0,fC=IPCC.Web.gY.pL.wX,vQ=0,qa=IPCC.Web.hi.uU(cS);if(bg){fC=fC.substr(0,62)+'-_';}for(H=0;eS.length*6<qa;){eS+=fC.charAt((vQ^cS[H]>>>eR)>>>26);if(eR<6){vQ=cS[H]<<(6-eR);eR+=26;H++;}else{vQ<<=6;eR-=6;}}while((eS.length&3)&& !aua){eS+="=";}return eS;},tO:function(cc,bg){cc=cc.replace(/\s|=/g,'');var eS=[],H,eR=0,fC=IPCC.Web.gY.pL.wX,vQ=0,aL;if(bg){fC=fC.substr(0,62)+'-_';}for(H=0;H<cc.length;H++){aL=fC.indexOf(cc.charAt(H));if(aL<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(eR>26){eR-=26;eS.push(vQ^aL>>>eR);vQ=aL<<(32-eR);}else{eR+=6;vQ^=aL<<(32-eR);}}if(eR&56){eS.push(IPCC.Web.hi.HL(eR&56,vQ,1));}return eS;}};IPCC.Web.gY.HM={lX:function(cS){return IPCC.Web.gY.pL.lX(cS,1,1);},tO:function(cc){return IPCC.Web.gY.pL.tO(cc,1);}};IPCC.Web.Sb=IPCC.Web.Sb||{};IPCC.Web.Sb.amd={aN:"cbc",aek:function(KK,Xd,fU,yA){if(yA&&yA.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.hi.uU(fU)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var H,lo=IPCC.Web.hi,Lo=lo.aaz,qa=lo.uU(Xd),amH=0,pr=[];if(qa&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(H=0;amH+128<=qa;H+=4,amH+=128){fU=KK.aek(Lo(fU,Xd.slice(H,H+4)));pr.splice(H,0,fU[0],fU[1],fU[2],fU[3]);}qa=(16-((qa>>3)&15))*0x1010101;fU=KK.aek(Lo(fU,lo.Sv(Xd,[qa,qa,qa,qa]).slice(H,H+4)));pr.splice(H,0,fU[0],fU[1],fU[2],fU[3]);return pr;},Tf:function(KK,LW,fU,yA){if(yA&&yA.length){throw new IPCC.Web.UI.ImGearArgumentException(yA,"cbc can't authenticate data");}if(IPCC.Web.hi.uU(fU)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.hi.uU(LW)&127)|| !LW.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var H,lo=IPCC.Web.hi,Lo=lo.aaz,sC,rw,pr=[];yA=yA||[];for(H=0;H<LW.length;H+=4){sC=LW.slice(H,H+4);rw=Lo(fU,KK.Tf(sC));pr.splice(H,0,rw[0],rw[1],rw[2],rw[3]);fU=sC;}sC=pr[H-1]&255;if(sC===0||sC>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}rw=sC*0x1010101;if(!lo.aus(lo.UM([rw,rw,rw,rw],0,sC*8),lo.UM(pr,pr.length*32-sC*8,pr.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return lo.UM(pr,0,pr.length*32-sC*8);}};IPCC.Web.aEN=function(Dx){var qp=Dx.length;var wU=Math.ceil(qp/4),Kr;var eR=[];eR.length=wU;for(var lh=0,gk=0;lh<wU;lh++,gk+=4){eR[lh]=((Dx[gk]&0xff)<<24)+((Dx[gk+1]&0xff)<<16)+((Dx[gk+2]&0xff)<<8)+(Dx[gk+3]&0xff);}if(gk<qp){Kr[lh]=0;for(var vZ=0;gk<qp;gk++,vZ++){Kr[lh]+=(Dx[gk++]&0xff)<<(3-vZ);}}return eR;};IPCC.Web.asa=function(an){var qp=an.length;var wU=Math.ceil(qp/4);var eR=[];eR.length=wU;for(var lh=0,gk=0;lh<wU;lh++,gk+=4){eR[lh]=((an.charCodeAt(gk)&0xff)<<24)+((an.charCodeAt(gk+1)&0xff)<<16)+((an.charCodeAt(gk+2)&0xff)<<8)+((an.charCodeAt(gk+3)&0xff));}if(gk<qp){eR[lh]=0;for(var vZ=0;gk<qp;gk++,vZ++){eR[lh]+=(an.charCodeAt(gk++)&0xff)<<(3-vZ);}}return eR;};IPCC.Web.aEc=function(zt){var Ct=new Uint8Array(zt);var qp=Ct.length;var wU=Math.ceil(qp/4),Kr;var eR=[];eR.length=wU;for(var lh=0,gk=0;lh<wU;lh++,gk+=4){eR[lh]=(Ct[gk]<<24)+(Ct[gk+1]<<16)+(Ct[gk+2]<<8)+Ct[gk+3];}if(gk<qp){eR[lh]=0;for(var vZ=0;gk<qp;gk++,vZ++){Kr[lh]+=Ct[gk++]<<(3-vZ);}}return eR;};IPCC.Web.Hs=function(eR,fU){var bw=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Bj(eR,bw,fU);};IPCC.Web.Bj=function(eR,bw,fU){try{var aAo=new IPCC.Web.Md.ahR(bw);var dB=IPCC.Web.Sb.amd.Tf(aAo,eR,fU);return dB;}catch(ad){return;}};IPCC.Web.GI=function(avu){return IPCC.Web.asa(avu.responseText);};IPCC.Web.OQ=function(){var EL=new Date();var atr=new Date(EL.getYear(),EL.getMonth(),EL.getDate(),EL.getHours(),EL.getMinutes(),EL.getSeconds());return(+atr);};IPCC.Web.FQ={ajb:function(hk){var IH=[];var VW=IPCC.Web.ajC().aas;for(var H=0;H<hk;H++){IH.push(VW());}return IH;},Yn:function(hk,fj){var IH=[];var VW=IPCC.Web.ajC(fj).aas;for(var H=0;H<hk;H++){IH.push(VW());}return IH;},aGc:function(fU,auf){var hk,hK=true,eS="",Kb,XP,VK,Na,LC,alj;for(hk=0;hk<4;hk++){if(!hK){eS+='-';}else{hK=false;}LC=0;for(Kb=0;Kb<4;Kb++){Na=hk*32+Kb*8;XP=IPCC.Web.hi.SY(fU,Na,4);eS+=XP.toString(16).toUpperCase();VK=IPCC.Web.hi.SY(fU,Na+4,4);eS+=VK.toString(16).toUpperCase();alj=(XP*16+VK+IPCC.Web.hi.SY(IPCC.Web.bw,Na,8))%256;LC=LC|(alj<<(24-(Kb*8)));}auf.aud[hk]=LC;}return eS;}};IPCC.cP=IPCC.cP||{};IPCC.cP.oE=IPCC.cP.oE||function(cc,aDG){if(cc===""){cc='""';}try{if(typeof YUI!=='undefined'){var afL;YUI().use('json-parse',function(Y){afL=Y.JSON.parse(cc);});return afL;}else{var aem=cc.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g'),"$1new Date($2)");var aDW=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');var aAX=new RegExp('"(\\\\.|[^"\\\\])*"','g');if(aDG&&aDW.test(aem.replace(aAX,''))){throw null;}return eval('('+aem+')');}}catch(e){throw new IPCC.Web.UI.ImGearArgumentException('str','Cannot deserialize. The data does not correspond to valid JSON.');}};IPCC.gx={};IPCC.gx.InternetExplorer={};IPCC.gx.Firefox={};IPCC.gx.Safari={};IPCC.gx.Opera={};IPCC.gx.agent=null;IPCC.gx.hasDebuggerStatement=false;IPCC.gx.name=navigator.appName;IPCC.gx.version=parseFloat(navigator.appVersion);IPCC.gx.documentMode=0;if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.gx.agent=IPCC.gx.InternetExplorer;IPCC.gx.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.gx.version>=8){if(document.documentMode>=7){IPCC.gx.documentMode=document.documentMode;}}IPCC.gx.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.gx.agent=IPCC.gx.Firefox;IPCC.gx.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.gx.name='Firefox';IPCC.gx.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.gx.agent=IPCC.gx.Safari;IPCC.gx.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.gx.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.gx.agent=IPCC.gx.Opera;}IPCC.BV=function(Kz){this.pV=(typeof(Kz)!=='undefined'&&Kz!==null&&Kz!=='')?[Kz.toString()]:[];this.h={};this.bX=0;};IPCC.BV.prototype.mQ=function(an){this.pV[this.pV.length]=an;};IPCC.BV.prototype.aFp=function(an){this.pV[this.pV.length]=((typeof(an)==='undefined')||(an===null)||(an===''))?'\r\n':an+'\r\n';};IPCC.BV.prototype.aEk=function(){this.pV=[];this.h={};this.bX=0;};IPCC.BV.prototype.aGt=function(){if(this.pV.length===0){return true;}return this.toString()==='';};IPCC.BV.prototype.anG=function(zz){zz=zz||'';var parts=this.pV;if(this.bX!==parts.length){this.h={};this.bX=parts.length;}var val=this.h;if(typeof(val[zz])==='undefined'){if(zz!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[zz]=this.pV.join(zz);}return val[zz];};IPCC.Web.kO=function(cS,elt){var len=cS.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in cS&&cS[from]===elt){return from;}}return-1;};IPCC.cP.Lc=[];IPCC.cP.Ke=[];IPCC.cP.CT={};IPCC.cP.auv=new RegExp('["\\\\\\x00-\\x1F]','i');IPCC.cP.aun=new RegExp('["\\\\\\x00-\\x1F]','g');IPCC.cP.azA='__type';IPCC.cP.KA=function(){var replaceChars=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000b','\\f','\\r','\\u000e','\\u000f','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001a','\\u001b','\\u001c','\\u001d','\\u001e','\\u001f'];IPCC.cP.Ke[0]='\\';IPCC.cP.Lc['\\']=new RegExp('\\\\','g');IPCC.cP.CT['\\']='\\\\';IPCC.cP.Ke[1]='"';IPCC.cP.Lc['"']=new RegExp('"','g');IPCC.cP.CT['"']='\\"';for(var i=0;i<32;i++){var c=String.fromCharCode(i);IPCC.cP.Ke[i+2]=c;IPCC.cP.Lc[c]=new RegExp(c,'g');IPCC.cP.CT[c]=replaceChars[i];}};IPCC.cP.aeh=function(object,gl){gl.mQ(object.toString());};IPCC.cP.afl=function(object,gl){if(isFinite(object)){gl.mQ(String(object));}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');}};IPCC.cP.acv=function(string,gl){gl.mQ('"');if(IPCC.cP.auv.test(string)){if(IPCC.cP.Ke.length===0){IPCC.cP.KA();}if(string.length<128){string=string.replace(IPCC.cP.aun,function(x){return IPCC.cP.CT[x];});}else{for(var i=0;i<34;i++){var c=IPCC.cP.Ke[i];if(string.indexOf(c)!== -1){if(IPCC.gx.agent===IPCC.gx.Opera||IPCC.gx.agent===IPCC.gx.FireFox){string=string.split(c).join(IPCC.cP.CT[c]);}else{string=string.replace(IPCC.cP.Lc[c],IPCC.cP.CT[c]);}}}}}gl.mQ(string);gl.mQ('"');};IPCC.cP.Pf=function(object,gl,sort,prevObjects){var i;switch(typeof object){case 'object':if(object){if(prevObjects){for(var j=0;j<prevObjects.length;j++){if(prevObjects[j]===object){throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');}}}else{prevObjects=[];}try{prevObjects[prevObjects.length]=object;if(typeof(object)==="number"){IPCC.cP.afl(object,gl);}else if(typeof(object)==="boolean"){IPCC.cP.aeh(object,gl);}else if(typeof(object)==="string"){IPCC.cP.acv(object,gl);}else if(object instanceof Array){gl.mQ('[');for(i=0;i<object.length;++i){if(i>0){gl.mQ(',');}IPCC.cP.Pf(object[i],gl,false,prevObjects);}gl.mQ(']');}else{var properties=[];var propertyCount=0;for(var name in object){if(object.hasOwnProperty(name)){var eE=""+name;var wk='$';if((eE.substr(0,wk.length)===wk)){continue;}if(name===IPCC.cP.azA&&propertyCount!==0){properties[propertyCount++]=properties[0];properties[0]=name;}else{properties[propertyCount++]=name;}}}if(sort){properties.sort();}gl.mQ('{');var needComma=false;for(i=0;i<propertyCount;i++){var value=object[properties[i]];if(typeof value!=='undefined'&&typeof value!=='function'){if(needComma){gl.mQ(',');}else{needComma=true;}IPCC.cP.Pf(properties[i],gl,sort,prevObjects);gl.mQ(':');IPCC.cP.Pf(value,gl,sort,prevObjects);}}gl.mQ('}');}}finally{prevObjects.splice(prevObjects.length-1);}}else{gl.mQ('null');}break;case 'number':IPCC.cP.afl(object,gl);break;case 'string':IPCC.cP.acv(object,gl);break;case 'boolean':IPCC.cP.aeh(object,gl);break;default:gl.mQ('null');break;}};IPCC.cP.ZE=IPCC.cP.ZE||function(object){var gl=new IPCC.BV();IPCC.cP.Pf(object,gl,false);return gl.anG();};IPCC.lY={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};IPCC.Web.avX=function aDK(){var kf=0xefc8249d;var rR=function(dB){dB=dB.toString();for(var H=0;H<dB.length;H++){kf+=dB.charCodeAt(H);var ea=0.02519603282416938*kf;kf=ea>>>0;ea-=kf;ea*=kf;kf=ea>>>0;ea-=kf;kf+=ea*0x100000000;}return(kf>>>0)*2.3283064365386963e-10;};rR.zq='Mash 0.9';return rR;};IPCC.Web.ajC=function aDw(){return(function(bP){var AY=0;var BD=0;var xP=0;var fC=1;if(bP.length===0){bP=[+new Date()];}var rR=IPCC.Web.avX();AY=rR(' ');BD=rR(' ');xP=rR(' ');for(var H=0;H<bP.length;H++){AY-=rR(bP[H]);if(AY<0){AY+=1;}BD-=rR(bP[H]);if(BD<0){BD+=1;}xP-=rR(bP[H]);if(xP<0){xP+=1;}}rR=null;var vw=function(){var qr=2091639*AY+fC*2.3283064365386963e-10;AY=BD;BD=xP;xP=qr-(fC=qr|0);return xP;};vw.aas=function(){return vw()*0x100000000;};vw.aFK=function(){return vw()+(vw()*0x200000|0)*1.1102230246251565e-16;};vw.zq='Alea 0.9';vw.bP=bP;return vw;}(Array.prototype.slice.call(arguments)));};IPCC.aS={bv:function(h,aN,bv){if(typeof(h)!==bv){throw new IPCC.Web.UI.ImGearArgumentTypeException(aN,typeof(h),bv);}},mP:function(h,aN){IPCC.aS.bv(h,aN,'string');},fE:function(h,aN){if(!(h instanceof Date)){throw new IPCC.Web.UI.ImGearArgumentTypeException(aN,typeof(h),"Date");}},ho:function(h,aN){IPCC.aS.bv(h,aN,'number');if(!isFinite(h)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(aN,h,'The value must be a number.');}},ly:function(h,aN,vB,xn){IPCC.aS.bv(h,aN,'number');if(h<vB||h>xn|| !isFinite(h)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(aN,h,'The value must be a number between '+vB+' and '+xn+' inclusive.');}},OG:function(h,aN,Gs){IPCC.aS.bv(h,aN,'number');var H;for(H=0;H<Gs.length;H++){if(h===Gs[H]){return;}}var MN='';for(H=0;H<Gs.length;H++){if(H>0){if(H===Gs.length-1){MN+=' or ';}else{MN+=', ';}}MN+=Gs[H];}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(aN,h,'The value must be '+MN+'.');},na:function(h,aN,vB,xn){IPCC.aS.ly(h,aN,vB,xn);if(h!==Math.floor(h)){throw new IPCC.Web.UI.ImGearArgumentException(aN,'The value must be an integer.');}},cV:function(h,aN){IPCC.aS.bv(h,aN,'string');if(!h.match(/#[0-9A-Fa-f]{6}/)){throw new IPCC.Web.UI.ImGearArgumentException(aN,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},SJ:function(h,aN){IPCC.aS.bv(h,aN,'string');if(!h.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new IPCC.Web.UI.ImGearArgumentException(aN,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},kq:function(h,aN,kq,ajf){IPCC.aS.bv(h,aN,'number');var cw;var TY=0;for(cw in kq){if(kq.hasOwnProperty(cw)){if(ajf){TY|=kq[cw];}else{if(h===kq[cw]){return;}}}}var cc="";if(ajf){if((h|TY)===TY){return;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(aN,h,'The value must be zero or more members of the '+cc+' enumeration.');}}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(aN,h,'The value must be a member of the '+cc+' enumeration.');},bJ:function(h,aN){IPCC.aS.ho(h.x,aN+'.x');IPCC.aS.ho(h.y,aN+'.y');},C:function(h,aN){IPCC.aS.ho(h.x,aN+'.x');IPCC.aS.ho(h.y,aN+'.y');IPCC.aS.ho(h.width,aN+'.width');IPCC.aS.ho(h.height,aN+'.height');}};IPCC.FD=function(){function Ei(){return Math.floor((Math.random()*10)).toString();};var fE=new Date();return Ei()+Ei()+'_'+fE.getTime()+"_"+Ei()+Ei()+Ei()+Ei();};IPCC.au=function(gr,gF,zK){this.gr=gr;this.gF=gF;this.zK=zK;};IPCC.au._debug=false;IPCC.au.JC=IPCC.DebugErrorLevel.Production;IPCC.au.lV={};IPCC.au.ald=function(aU,Az){var Po=[];function aft(aU){var hO=false;if(aU instanceof Object||aU instanceof Array||aU instanceof Function){for(var i=0;i<Po.length;i++)if(Po[i]===aU){hO=true;break;}if(!hO)Po.push(aU);}return hO;};function Rf(aU,Az){var Xa=aU instanceof Object,aim=aU instanceof Function||typeof(aU)==="function";if(Xa||aim){if(aft(aU))return "{<RecRef>}";var cc="";if(Xa)cc+=(cc.length!==0?" ":"")+"Object";if(aim){cc+=(cc.length!==0?" ":"")+"Function";if(typeof(aU.name)==="string")cc+=" "+aU.name;cc+="("+aU.length+")";}cc="<"+cc+">";if(Xa){var H=0;cc+=" { ";if(Az>=0){for(var x in aU){if(aU.hasOwnProperty(x)){cc+=(H++ ===0?"":", ")+"\""+x+"\":"+Rf(aU[x],Az-1);}}}else cc+="...";cc+=" }";}return cc;}else if(aU instanceof Array){if(aft(aU))return "[<RecRef>]";var cc="[";for(var i=0;i<aU.length;i++)cc+=(i++ ===0?"":",")+Rf(aU[x]);return cc+"]";}else if(typeof(aU)==="string")return "\""+aU+"\"";else if(aU===null)return "null";else if(aU===undefined)return "undefined";else return ""+aU;};if(typeof(Az)!=="number"||Az<0)Az=Number.POSITIVE_INFINITY;return Rf(aU,Az);};IPCC.au.aCa=function(KP,kA){kA=kA instanceof Error?kA:new Error("");var or=null;if(typeof(kA.stack)==="string"){or=kA.stack.replace(/^error:?[^\n]*\n|\s*$/ig,"");KP=typeof(KP)==="number"?KP:0;var bk;for(var H=0;H<KP;H++)if((bk=or.indexOf("\n",1))!== -1)or=or.substring(idx+1);else break;}return or;};IPCC.au.ZG=function(gr,Tq){if(typeof(gr)==="string"&&IPCC.au.lV instanceof Object&&IPCC.au.lV.hasOwnProperty(gr)){if(typeof(IPCC.au.lV[gr])==="boolean")return IPCC.au.lV[gr];else if(typeof(IPCC.au.lV[gr])==="number")return IPCC.au.lV[gr]>=Tq;}if(typeof(Tq)==="number")return IPCC.au._debug&&IPCC.au.JC>=Tq;return! !IPCC.au._debug;};IPCC.au.aDI=function(){return IPCC.au._debug;};IPCC.au.aAU=function(asy){IPCC.au._debug=asy;};IPCC.au.aEo=function(){return IPCC.au.JC;};IPCC.au.aAS=function(bm){IPCC.au.JC=bm;};IPCC.au.aiS=function(jn){if(typeof(jn)==="string")jn=[jn];if(jn instanceof Array){var lvls={};for(var H=0;H<jn.length;H++)if(typeof(jn[H])==="string"&&IPCC.au.lV.hasOwnProperty(jn[H]))lvls[jn[H]]=IPCC.au.lV[jn[H]];return lvls;}return IPCC.au.lV;};IPCC.au.YO=function(hQ,bm){if(typeof(hQ)==="string")hQ=[hQ];if(hQ instanceof Array&&(typeof(bm)==="boolean"||typeof(bm)==="number")){for(var H=0;H<hQ.length;H++)IPCC.au.lV[hQ[H]]=bm;}else if(hQ instanceof Object){for(var aL in hQ)if(typeof(aL)==="string"&&hQ.hasOwnProperty(aL)&&(typeof(hQ[aL])==="boolean"||typeof(hQ[aL])==="number"))IPCC.au.lV[aL]=hQ[aL];}};IPCC.au.als=function(jn){if(typeof(jn)==="string")jn=[jn];if(jn instanceof Array){for(var H=0;H<jn.length;H++)if(typeof(jn[H])==="string"&&IPCC.au.lV.hasOwnProperty(jn[H]))delete IPCC.au.lV[jn[H]];}else IPCC.au.lV={};};IPCC.au.bd=function(kA,tF,gr,gF,zK){if(!IPCC.au.ZG(gr,IPCC.DebugErrorLevel.Production))return;var mi,or;if(typeof(tF)==="string")mi=tF+"() threw an";else mi="thrown";mi+=" exception ("+kA.name+"), \""+kA.message+"\"";if(or=IPCC.au.aCa(0,kA))mi+="\n"+or;IPCC.au.vL(mi,IPCC.DebugErrorLevel.Production,IPCC.DebugItemCause.Exception,gr,gF);if(zK instanceof Object&&zK.bB instanceof Function){var mZ=new IPCC.ExceptionEventArgs();mZ.functionName=tF;mZ.exception=kA;zK.bB('exceptionThrown',mZ);}};IPCC.au.aQ=function(tF,IM,ph,GX,gr,gF){if(!IPCC.au.ZG(gr,IPCC.DebugErrorLevel.Development))return;var mi=tF+'(';var H;var bP=null;try{if(typeof(IM.length)==="number")bP=IM;}catch(e){}if(bP){for(H=0;H<bP.length;H++){if(H>0){mi+=', ';}mi+=IPCC.au.ald(bP[H],(GX?GX:0));}}mi+=')';if(ph!==null&&ph!==undefined)mi+=") = "+IPCC.au.ald(ph,GX);IPCC.au.vL(mi,IPCC.DebugErrorLevel.Development,IPCC.DebugItemCause.FunctionCall,gr,gF);};IPCC.au.vL=function(fZ,bm,Kn,gr,gF){if(!IPCC.au.ZG(gr,bm))return;var an="IPCC";if(typeof(gr)==="string"){an+=" - "+gr;}if(typeof(gF)==="string"){an+=" - parentDivID: \""+gF+"\"";}if(typeof(Kn)==="number"){switch(Kn){case 0:an+=" - FunctionCall";break;case 1:an+=" - Exception";break;case 2:an+=" - Custom";break;case 3:an+=" - UserAction";break;case 4:an+=" - Warning";break;default:an+=" - unknown";}}an+=" - "+fZ;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(an);}if(window.console&&window.console.log){window.console.log(an);}if(window.opera){window.opera.postError(an);}if(window.debugService){window.debugService.trace(an);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=an+'\n';}if(window["onIPCCItemLogged"]instanceof Function){var bP=new IPCC.LogItemEventArgs();bP.message=fZ;bP.cause=Kn;bP.level=bm;bP.id=gF;window.onIPCCItemLogged(bP);}};IPCC.au.afz=function(bm,fZ,gr,gF){IPCC.au.vL(fZ,bm,null,gr,gF);};IPCC.au.aev=function(fZ,gr,gF){IPCC.au.vL(fZ,IPCC.DebugErrorLevel.Production,null,gr,gF);};IPCC.au.Ll=function(fZ,gr,gF){IPCC.au.vL(fZ,IPCC.DebugErrorLevel.Development,null,gr,gF);};IPCC.au.afd=function(fZ,gr,gF){IPCC.au.vL(fZ,IPCC.DebugErrorLevel.Detailed,null,gr,gF);};IPCC.au.prototype={tj:function(){var aL=this.gr instanceof Function?this.gr():this.gr;return typeof(aL)==="string"?aL:null;},Af:function(){var aL=this.gF instanceof Function?this.gF():this.gF;return typeof(aL)==="string"?aL:null;},aiS:function(){var jn=IPCC.au.aiS(this.tj());if(jn.length!==0)return jn[0];if(!IPCC.au._debug)return false;return IPCC.au.JC;},YO:function(bm){IPCC.au.YO(this.tj(),bm);},als:function(){IPCC.au.als(this.tj());},bd:function(kA,tF){IPCC.au.bd(kA,tF,this.tj(),this.Af(),this.zK);},aQ:function(tF,IM,ph,GX){IPCC.au.aQ(tF,IM,ph,GX,this.tj(),this.Af());},vL:function(fZ,bm,Kn){IPCC.au.vL(fZ,bm,Kn,this.tj(),this.Af());},afz:function(bm,fZ){IPCC.au.afz(bm,fZ,this.tj(),this.Af());},aev:function(fZ){IPCC.au.aev(fZ,this.tj(),this.Af());},Ll:function(fZ){IPCC.au.Ll(fZ,this.tj(),this.Af());},afd:function(fZ){IPCC.au.afd(fZ,this.tj(),this.Af());}};IPCC.te={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};IPCC.Web.nM=function(){if(this.aeS===undefined){var xw=document.createElement("div");xw.style.overflow='scroll';xw.style.position='absolute';xw.style.top='-9999px';document.body.appendChild(xw);this.aeS=xw.offsetWidth-xw.clientWidth;document.body.removeChild(xw);}return this.aeS;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MouseTool=function(){};IPCC.Web.UI.MouseTool.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};IPCC.Web.UI.MouseTool.registerEnum('IPCC.Web.UI.MouseTool',false);IPCC.Web.UI.FitType=function(){};IPCC.Web.UI.FitType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};IPCC.Web.UI.FitType.registerEnum('IPCC.Web.UI.FitType',false);IPCC.Web.UI.ScrollBars=function(){};IPCC.Web.UI.ScrollBars.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};IPCC.Web.UI.ScrollBars.registerEnum('IPCC.Web.UI.ScrollBars',false);IPCC.Web.UI.MarkHandleMode=function(){};IPCC.Web.UI.MarkHandleMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkHandleMode.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};IPCC.Web.UI.MarkHandleMode.registerEnum('IPCC.Web.UI.MarkHandleMode',false);IPCC.Web.UI.ImGearArtDataServices=function(){};IPCC.Web.UI.ImGearArtDataServices.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};IPCC.Web.UI.ImGearArtDataServices.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);IPCC.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};IPCC.Web.UI.Rectangle.prototype={intersect:function(rectangle){var aL=Math.max(this.x,rectangle.x);var bA=Math.min(this.x+this.width,rectangle.x+rectangle.width)-aL;var dr=Math.max(this.y,rectangle.y);var ao=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dr;if(bA<=0||ao<=0){aL=dr=bA=ao=0;}this.x=aL;this.y=dr;this.width=bA;this.height=ao;},union:function(rectangle){var jy=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var jb=Math.max(this.x+this.width,rectangle.x+rectangle.width);var kj=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=jy;this.y=_top;this.width=jb-jy;this.height=kj-_top;return this;},scale:function(VB,JG){JG=JG||VB;var jy=this.x*VB;var _top=this.y*JG;var bA=this.width*VB;var ao=this.height*JG;this.x=jy;this.y=_top;this.width=bA;this.height=ao;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};IPCC.Web.UI.Rectangle.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Rectangle.registerClass('IPCC.Web.UI.Rectangle');IPCC.Web.UI.Point=function(x,y){this.x=x;this.y=y;return this;};IPCC.Web.UI.Point.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};IPCC.Web.UI.Point.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Point.registerClass('IPCC.Web.UI.Point');IPCC.Web.UI.PointCollection=function(){var ai=[];var bj=new IPCC.Web.UI.iS();this.azF=function(bJ){var L=new IPCC.Web.UI.PointEventArgs();L.point=bJ;L.length=1;ai.push(new IPCC.Web.UI.Point(bJ.x,bJ.y));L.index=ai.length-1;this.bB('pointAdded',L);};this.aAc=function(Zj){var L=new IPCC.Web.UI.PointEventArgs();L.index=ai.length;L.length=Zj.get_length();function lM(bJ){ai.push(bJ);};Zj.forEach(lM,{});if(L.length>0){this.bB('pointAdded',L);}};this.kT=function(hU,dK){var Sq=[].concat(ai);var H;for(H=0;H<Sq.length;H++){hU.call(dK,new IPCC.Web.UI.Point(Sq[H].x,Sq[H].y),H,this);}};this.zD=function(bV){jV(bV);var dY=ai[bV];return new IPCC.Web.UI.Point(dY.x,dY.y);};this.aAw=function(bV,bJ){jV(bV);IPCC.aS.bJ(bJ,'point');var LP=ai[bV];if(LP.x===bJ.x&&LP.y===bJ.y){return;}LP.x=bJ.x;LP.y=bJ.y;var L=new IPCC.Web.UI.PointEventArgs();L.point=bJ;L.index=bV;L.length=1;this.bB('pointChanged',L);};this.dV=function(){return ai.length;};this.awh=function(bV){jV(bV);var L=new IPCC.Web.UI.PointEventArgs();L.point=ai[bV];L.index=bV;L.length=1;ai.splice(bV,1);this.bB('pointRemoved',L);};this.awl=function(){if(ai.length<1){return;}var L=new IPCC.Web.UI.PointEventArgs();L.index=0;L.length=ai.length;ai=[];this.bB('pointRemoved',L);};this.agS=function(eh,eC){if(eh===0&&eC===0){return;}IPCC.aS.ho(eh,'deltaX');IPCC.aS.ho(eC,'deltaY');var H;for(H=0;H<ai.length;H++){ai[H].x+=eh;ai[H].y+=eC;}var L=new IPCC.Web.UI.PointEventArgs();L.index=0;L.length=ai.length;this.bB('pointChanged',L);};this.uZ=function(){if(ai.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var H,jy=ai[0].x,jb=ai[0].x,_top=ai[0].y,kj=ai[0].y;for(H=1;H<ai.length;H++){var bJ=ai[H];jy=Math.min(jy,bJ.x);jb=Math.max(jb,bJ.x);_top=Math.min(_top,bJ.y);kj=Math.max(kj,bJ.y);}return new IPCC.Web.UI.Rectangle(jy,_top,jb-jy,kj-_top);};function jV(bV){if(bV>ai.length-1||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV);}};this.azX=function(R){bj.addHandler('pointAdded',R);};this.awb=function(R){bj.removeHandler('pointAdded',R);};this.azs=function(R){bj.addHandler('pointChanged',R);};this.avm=function(R){bj.removeHandler('pointChanged',R);};this.azc=function(R){bj.addHandler('pointRemoved',R);};this.awn=function(R){bj.removeHandler('pointRemoved',R);};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(this,L);}};return this;};IPCC.Web.UI.PointCollection.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.azF(point);},addPoints:function(pointCollection){this.aAc(pointCollection);},forEach:function(method,context){this.kT(method,context);},getPoint:function(index){return this.zD(index);},setPoint:function(index,point){this.aAw(index,point);},get_length:function(){return this.dV();},removePoint:function(index){this.awh(index);},removeAllPoints:function(){this.awl();},moveAllPoints:function(deltaX,deltaY){this.agS(deltaX,deltaY);},add_pointAdded:function(handler){this.azX(handler);},remove_pointAdded:function(handler){this.awb(handler);},add_pointChanged:function(handler){this.azs(handler);},remove_pointChanged:function(handler){this.avm(handler);},add_pointRemoved:function(handler){this.azc(handler);},remove_pointRemoved:function(handler){this.awn(handler);}};IPCC.Web.UI.PointCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointCollection.registerClass('IPCC.Web.UI.PointCollection');IPCC.Web.UI.PageViewState=function(){return this;};IPCC.Web.UI.PageViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:IPCC.Web.UI.FitType.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};IPCC.Web.UI.PageViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageViewState.registerClass('IPCC.Web.UI.PageViewState');IPCC.Web.UI.LogItemEventArgs=function(){return this;};IPCC.Web.UI.LogItemEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.LogItemEventArgs.prototype={};IPCC.Web.UI.LogItemEventArgs.registerClass('IPCC.Web.UI.LogItemEventArgs');IPCC.Web.UI.LogItem=IPCC.Web.UI.LogItemEventArgs;IPCC.Web.UI.MouseEventArgs=function(){var agt=false;this.ayu=function(){agt=true;};this.ahE=function(){return agt;};return this;};IPCC.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.ayu();}};IPCC.Web.UI.MouseEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MouseEventArgs.registerClass('IPCC.Web.UI.MouseEventArgs');IPCC.Web.UI.MouseEvent=IPCC.Web.UI.MouseEventArgs;IPCC.Web.UI.PointEventArgs=function(){return this;};IPCC.Web.UI.PointEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointEventArgs.prototype={};IPCC.Web.UI.PointEventArgs.registerClass('IPCC.Web.UI.PointEventArgs');IPCC.Web.UI.CommentEventArgs=function(){return this;};IPCC.Web.UI.CommentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.CommentEventArgs.prototype={};IPCC.Web.UI.CommentEventArgs.registerClass('IPCC.Web.UI.CommentEventArgs');IPCC.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');IPCC.Web.UI.TextSelectedEventArgs=function(){return this;};IPCC.Web.UI.TextSelectedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.TextSelectedEventArgs.prototype={};IPCC.Web.UI.TextSelectedEventArgs.registerClass('IPCC.Web.UI.TextSelectedEventArgs');IPCC.Web.UI.PageView=function(element,rn,LJ){var gH=this;var aJ;var J;var wz=0;var Lv='';var Jn=false;var bj=new IPCC.Web.UI.iS();var fo=null;var te=IPCC.te;var anm=IPCC.te;var Ik=0.0;var FL=false;var Lx=0;var adc= -1;var acj= -1;var adi= -1;this._debug=new IPCC.au("PageView",function(){return gH.nx().id;},this);this.aFz=function(h){FL=h;};this.aFx=function(){return FL;};var oD=function(){if(J.dM()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function da(df,R){bj.addHandler(df,R);};function cF(df,R){bj.removeHandler(df,R);};this.Ki=function(ju,bP){J.axk(ju,bP);};this.ayJ=function(bP,G){J.wt(G);J.dk();};this.XL=function(R){da('pageOpening',R);};this.RE=function(R){cF('pageOpening',R);};this.WI=function(R){da('pageOpened',R);};this.RH=function(R){cF('pageOpened',R);};this.aza=function(R){da('pageClosed',R);};this.awq=function(R){cF('pageClosed',R);};this.Fo=function(R){da('pageOpenFailed',R);};this.FV=function(R){cF('pageOpenFailed',R);};this.Xo=function(R){da('pageDisplayed',R);};this.Qk=function(R){cF('pageDisplayed',R);};this.Jb=function(R){da('mouseDown',R);};this.PN=function(R){cF('mouseDown',R);};this.Jm=function(R){da('mouseMove',R);};this.OP=function(R){cF('mouseMove',R);};this.LG=function(R){da('mouseUp',R);};this.Ql=function(R){cF('mouseUp',R);};this.aDE=function(R){da('contextMenu',R);};this.auC=function(R){cF('contextMenu',R);};this.AP=function(R){da('markAdded',R);};this.At=function(R){cF('markAdded',R);};this.Wx=function(R){da('markCreating',R);};this.Qh=function(R){cF('markCreating',R);};this.EO=function(R){da('markChanged',R);};this.Kk=function(R){cF('markChanged',R);};this.AB=function(R){da('markRemoved',R);};this.yN=function(R){cF('markRemoved',R);};this.Gh=function(R){da('markReordered',R);};this.IG=function(R){cF('markReordered',R);};this.WD=function(R){da('marksLoaded',R);};this.PS=function(R){cF('marksLoaded',R);};this.Ga=function(R){da('markSelectionChanged',R);};this.IT=function(R){cF('markSelectionChanged',R);};this.zN=function(R){da('textPageReady',R);};this.Cu=function(R){cF('textPageReady',R);};this.Wf=function(R){da('selectTextMouseToolCompleted',R);};this.QM=function(R){cF('selectTextMouseToolCompleted',R);};this.XY=function(R){da('exceptionThrown',R);};this.Wn=function(R){da('scaleChanged',R);};this.QG=function(R){cF('scaleChanged',R);};this.Qa=function(R){cF('exceptionThrown',R);};this.zr=function(R){da('textExtractionFailed',R);};this.Cr=function(R){cF('textExtractionFailed',R);};this.kX=function(R){da('propertyChanged',R);};this.nl=function(R){cF('propertyChanged',R);};var bB=function(df,L){try{var R;R=bj.getHandler(df);if(R){R(gH,L);}}catch(e){gH._debug.bd(e,df+'Event');}};var qm=function(df){function zT(ay,L){bB(df,L);};J['add_'+df](zT);};var HA=function(df){function zT(ay,L){if(Jn&&J.NS()){Dh();}bB(df,L);};J['add_'+df](zT);};function Dh(){var eN,nR,YG;if(Lv!==''){YG=document.getElementById(Lv);if(YG){eN=gH.MW();nR='{encodedDocumentIdentifier:"'+eN.encodedDocumentIdentifier;nR+='",pageNumber:'+eN.pageNumber.toString();nR+=',viewFitType:'+eN.viewFitType.toString();if(eN.viewRectangle&&eN.viewFitType===IPCC.Web.UI.FitType.Rectangle){nR+=',viewRectangle:{x:'+eN.viewRectangle.x.toFixed(5);nR+=',y:'+eN.viewRectangle.y.toFixed(5);nR+=',width:'+eN.viewRectangle.width.toFixed(5);nR+=',height:'+eN.viewRectangle.height.toFixed(5);nR+='}';}if(eN.viewRotationDegreesClockwise){nR+=',viewRotationDegreesClockwise:'+eN.viewRotationDegreesClockwise.toString();}if(eN.viewMirror){nR+=',viewMirror:'+eN.viewMirror.toString();}if(eN.viewZoomFactor){nR+=',viewZoomFactor:'+eN.viewZoomFactor.toString();}if(Jn){var aH=J.eP();if(aH){nR+=',artPageJson:"'+IPCC.gd.sJ(aH.saveToJson())+'"';}}nR+='}';YG.value=nR;}}};var ami=function(){function zT(ay,L){var SP=true;switch(L.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Dh();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'HB':case 'vM':SP=false;break;case 'Hd':if(J.NS()){Dh();}SP=false;break;}if(SP){bB('propertyChanged',L);}};J.kX(zT);};this.SG=function(bv){IPCC.aS.kq(bv,'type',IPCC.Web.UI.FitType);if(bv===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}oD();fo={awY:true,viewFitType:bv};Sd();};this.eZ=function(){return J.dM()!==undefined;};this.ks=function(){oD();return J.dM().width;};this.jj=function(){oD();return J.dM().height;};this.aoF=function(){oD();return J.dM().gG;};this.anf=function(){return J.aW().fH().ajp();};this.aoU=function(){oD();return J.dM().gO;};this.Ko=function(){if(!J|| !(J.dM())){return '';}return J.dM().get_identifier();};this.NH=function(){if(!J|| !(J.dM())){return '';}return J.dM().get_encodedIdentifier();};this.oY=function(){if(!J|| !(J.dM())){return-1;}return J.dM().av;};this.amu=function(){if(!J|| !(J.dM())){return 0;}return J.dM().fM;};this.ahw=function(){var ap=J.dM();if(!ap){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bp=J.dS();bp.x=bp.y=0;var pR=J.aW().fH();pR.wV();var dh=pR.zQ(bp);if(dh.x<0){dh.width+=dh.x;dh.x=0;}if(dh.y<0){dh.height+=dh.y;dh.y=0;}if(dh.x+dh.width>ap.width){dh.width=ap.width-dh.x;}if(dh.y+dh.height>ap.height){dh.height=ap.height-dh.y;}return dh;};function Oh(){var bW={},dq=J.aW().fH();bW.documentIdentifier=gH.Ko();bW.encodedDocumentIdentifier=gH.NH();bW.pageNumber=gH.oY();bW.artPage=gH.eP();bW.referenceDocumentIdentifier=gH.Ko();bW.referencePageNumber=gH.oY();bW.viewFitType=IPCC.Web.UI.FitType.Rectangle;bW.viewRectangle=gH.ahw();bW.imGearPage=gH.lC();bW.transientArtPage=gH.mT();var ei=dq.ajp();if(ei!==0){bW.viewRotationDegreesClockwise=ei;}if(dq.anL()){bW.viewMirror=true;}return bW;};this.afA=function(aq,cI){J.afA(aq,cI);};this.MW=function(){var bW;if(aJ){bW=new IPCC.Web.UI.PageViewState();bW.documentIdentifier=aJ.documentIdentifier;bW.encodedDocumentIdentifier=aJ.encodedDocumentIdentifier;bW.pageNumber=aJ.pageNumber;bW.artPage=aJ.artPage;bW.artPageJson=aJ.artPageJson;bW.referenceDocumentIdentifier=aJ.documentIdentifier;bW.referencePageNumber=aJ.pageNumber;bW.viewFitType=aJ.viewFitType;bW.viewRectangle=aJ.viewRectangle;bW.viewRotationDegreesClockwise=aJ.viewRotationDegreesClockwise;bW.viewMirror=aJ.viewMirror;bW.viewZoomFactor=aJ.viewZoomFactor;bW.transientArtPage=aJ.transientArtPage;}else{bW=Oh();}return bW;};this.JD=function(aj){var bp=J.dS();this.abS(aj,{x:bp.width/2,y:bp.height/2});};this.abS=function(aj,cQ){IPCC.aS.ly(aj,'factor',1.01,20);IPCC.aS.bJ(cQ,'point');oD();var bG=J.aW();var bh=bG.fH();var bU=J.dM();var lp=bh.rk();if(lp*aj>bU.ri){aj=bU.ri/lp;}bh.wn(aj,aj,cQ.x,cQ.y);bh.hY(bU,J.dS());fo=null;bG.iC(bh);};this.Vs=function(aj){var bp=J.dS();this.aaf(aj,{x:bp.width/2,y:bp.height/2});};this.aaf=function(aj,cQ){IPCC.aS.ly(aj,'factor',1.01,20);IPCC.aS.bJ(cQ,'point');oD();var bG=J.aW();var bh=bG.fH();var bU=J.dM();var lp=bh.rk();if(lp/aj<bU.rr){aj=lp/bU.rr;}bh.wn(1/aj,1/aj,cQ.x,cQ.y);bh.hY(bU,J.dS());fo=null;bG.iC(bh);};this.ky=function(aj){var bp=J.dS();this.aoT(aj,{x:bp.width/2,y:bp.height/2});};this.CO=function(aj){var bG=J.aW();fo=null;bG.CO(aj);};this.DH=function(aj){var bG=J.aW();fo=null;bG.DH(aj);};this.Ci=function(aj){var bG=J.aW();fo=null;bG.Ci(aj);};this.aoT=function(aj,cQ){IPCC.aS.bJ(cQ,'point');oD();var bG=J.aW();var bh=bG.fH();var bU=J.dM();var lp=bh.rk();if(aj>bU.ri){aj=bU.ri;}else if(aj<bU.rr){aj=bU.rr;}bh.wn(aj/lp,aj/lp,cQ.x,cQ.y);bh.hY(bU,J.dS());fo=null;bG.iC(bh);};this.xf=function(sa){IPCC.aS.OG(sa,'degreesClockwise',[90,180,270,-90,-180,-270]);oD();var bG=J.aW();var bh=bG.fH();var bp=J.dS();bh.acC(sa,bp.width/2,bp.height/2);bh.hY(J.dM(),J.dS());fo=null;bG.iC(bh);};this.aew=function(){oD();var bG=J.aW();var bh=bG.fH();var bp=J.dS();bh.wn(-1,1,bp.width/2,bp.height/2);bh.hY(J.dM(),J.dS());fo=null;bG.iC(bh);};this.aor=function(dh){IPCC.aS.C(dh,'pageRectangle');oD();var bG=J.aW();var bh=bG.fH();var bp=J.dS();var bU=J.dM();bh.Mg(bU,bp,dh);bh.hY(bU,J.dS());fo=null;bG.iC(bh);};this.apa=function(db){IPCC.aS.bJ(db,'imagePoint');oD();var bG=J.aW();var bh=bG.fH();var bp=J.dS();bh.aap(bp,db);bh.hY(J.dM(),J.dS());fo=null;bG.iC(bh);};this.aje=function(){oD();fo=null;var bG=J.aW();var bh=bG.fH();var bp=J.dS();bh.wn(1,-1,bp.width/2,bp.height/2);bh.hY(J.dM(),J.dS());fo=null;bG.iC(bh);};this.dk=function(){J.dk();};this.Ib=function(){J.Ib();};var Sd=function(){var bU=J.dM();var bp=J.dS();var bh;if(!fo){bh=J.aW().fH();bh.hY(bU,bp);J.aW().iC(bh);return;}if(fo.awY){bh=J.aW().fH();}else{bh=new IPCC.eU();bh.aBG(bU,bp);if(fo.viewRotationDegreesClockwise){bh.rotate(fo.viewRotationDegreesClockwise);}if(fo.viewMirror){bh.aqK(bp);}}if(fo.viewZoomFactor){if(fo.viewZoomFactor>bU.ri){fo.viewZoomFactor=bU.ri;}else if(fo.viewZoomFactor<bU.rr){fo.viewZoomFactor=bU.rr;}fo.viewFitType=IPCC.Web.UI.FitType.ActualSize;bh.Vx(fo.viewFitType,bU,bp);bh.scale(fo.viewZoomFactor,fo.viewZoomFactor);}else{if(!fo.viewFitType&&fo.viewFitType!==0){fo.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fo.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !fo.viewRectangle){fo.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fo.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bh.Vx(fo.viewFitType,bU,bp);}else{bh.Mg(bU,bp,fo.viewRectangle);}}bh.hY(bU,bp);J.aW().iC(bh);};var afq=function(HF){fo=HF;Lx=0;Sd();};this.Le=function(aM){wz++;var Wm=wz;var aty={};Ik=0.0;J.KN=0.0;IPCC.gd.aiX(aM);this._debug.Ll('opening documentIdentifier "'+aM.documentIdentifier+'", pageNumber '+aM.pageNumber);aJ=new IPCC.Web.UI.PageViewState();var H;for(H in aM){if(aM.hasOwnProperty(H)){aJ[H]=aM[H];}}if(aM.documentIdentifier===''){this.Lf();return;}if(IPCC.Web.UI.ArtPage){if(aJ){if(!aJ.artPage){var aH=new IPCC.Web.UI.ArtPage();if(aJ.artPageJson){aH.loadFromJson(aJ.artPageJson);}aJ.artPage=aH;}if(!aJ.documentArtPage){var ff=new IPCC.Web.UI.ArtPage();aJ.documentArtPage=ff;}if(this.kY()===true){if(!aJ.imGearPage){var hI=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aM.documentIdentifier,imageServicePath:this.tK()});aJ.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aM.pageNumber,ag:hI});hI.get_pages().addPage(aJ.imGearPage);}if(!aJ.transientArtPage){aJ.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(aJ.viewRotationDegreesClockwise){IPCC.aS.OG(aJ.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(aJ.viewFitType){IPCC.aS.kq(aJ.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(aJ.viewZoomFactor){IPCC.aS.ly(aJ.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bB('pageOpening',aM);var ap=new IPCC.gd(aM.encodedDocumentIdentifier,aM.pageNumber,0,0,0,0);var oI=function(){if(Wm!==wz){return;}var sg=null;if(J.dM()){sg=Oh();}J.aW().oy();J.ze(ap);afq(aJ);if(aM.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aJ){if(aJ.artPage){J.mk(aJ.artPage);J.eP().loadFromJson(ap.ath);}}}else{if(aJ){if(aJ.artPage){J.mk(aJ.artPage);}if(aJ.documentArtPage){J.Fv(aJ.documentArtPage);}if(J.kY()===true){if(aJ.imGearPage){var Uo=aJ.imGearPage.get_pageWidth();var Tk=aJ.imGearPage.get_pageHeight();aJ.imGearPage.nd(gH.iH());if(!Uo){aJ.imGearPage.MQ(gH.get_pageWidth());}if(!Tk){aJ.imGearPage.NI(gH.get_pageHeight());}J.Ev(aJ.imGearPage);if(typeof(J.lC().AV==='function')){if(!J.lC().dC().Ac()){aJ.imGearPage.wy(gH.kS());setTimeout(J.lC().AV,1000);}}}if(aJ.transientArtPage){J.BO(aJ.transientArtPage);}}}}aJ=null;if(sg){bB('pageClosed',sg);}Dh();bB('pageOpened',aM);};if(aM.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aJ){if(!aJ.artPageJson){ap.aFB(J.tK(),J,oI,aty);}else{ap.PM(J.tK(),J,oI);}}}else{ap.PM(J.tK(),J,oI);}};this.Lf=function(){wz++;if(!(J.dM())){return;}var sg=Oh();J.ze(undefined);J.mk(undefined);J.Ev(undefined);J.BO(undefined);this.dk();Dh();sg=undefined;aJ=undefined;fo=undefined;var cC;cC=gH.nx();if(cC.igElements){if(cC.igElements.oW){cC.igElements.oW.zf=null;cC.igElements.oW.we=null;cC.igElements.oW.Jt=null;cC.igElements.oW=null;}cC.igElements.CD=null;cC.igElements.fw=null;cC.igElements.gI=null;cC.igElements.cU=null;cC.igElements.nj=null;cC.igElements.mu=null;cC.igElements.km=null;cC.igElements.rq=null;cC.igElements.Nr=null;cC.igElements.TA=null;cC.igElements.qR=null;}gH=null;cC.az=null;bB('pageClosed',sg);};this.axE=function(aM){wz++;var Wm=wz;Ik=0.0;J.KN=0.0;IPCC.gd.aiX(aM);this._debug.Ll('opening documentIdentifier "'+aM.documentIdentifier+'", pageNumber '+aM.pageNumber);aJ=new IPCC.Web.UI.PageViewState();var H;for(H in aM){if(aM.hasOwnProperty(H)){aJ[H]=aM[H];}}if(aM.documentIdentifier===''){this.Lf();return;}if(IPCC.Web.UI.ArtPage){if(aJ){if(!aJ.artPage){var aH=new IPCC.Web.UI.ArtPage();aJ.artPage=aH;}if(!aJ.documentArtPage){var ff=new IPCC.Web.UI.ArtPage();aJ.documentArtPage=ff;}if(this.kY()===true){if(!aJ.imGearPage){var hI=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aM.documentIdentifier,imageServicePath:this.tK()});aJ.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aM.pageNumber,ag:hI});hI.get_pages().addPage(aJ.imGearPage);}if(!aJ.transientArtPage){aJ.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(aJ.viewRotationDegreesClockwise){IPCC.aS.OG(aJ.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(aJ.viewFitType){IPCC.aS.kq(aJ.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(aJ.viewZoomFactor){IPCC.aS.ly(aJ.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bB('pageOpening',aM);var ap=new IPCC.gd(aM.encodedDocumentIdentifier,aM.pageNumber,0,0,0,0);var oI=function(){if(Wm!==wz){return;}var sg=null;if(J.dM()){sg=Oh();}J.aW().oy();J.ze(ap);afq(aJ);if(aJ){if(aJ.artPage){J.mk(aJ.artPage);}if(aJ.documentArtPage){J.Fv(aJ.documentArtPage);}if(J.kY()===true){if(aJ.imGearPage){var Uo=aJ.imGearPage.get_pageWidth();var Tk=aJ.imGearPage.get_pageHeight();aJ.imGearPage.nd(gH.iH());if(!Uo){aJ.imGearPage.MQ(gH.get_pageWidth());}if(!Tk){aJ.imGearPage.NI(gH.get_pageHeight());}J.Ev(aJ.imGearPage);if(typeof(J.lC().AV==='function')){if(!J.lC().dC().Ac()){aJ.imGearPage.wy(gH.kS());setTimeout(J.lC().AV,1000);}}}if(aJ.transientArtPage){J.BO(aJ.transientArtPage);}}}aJ=null;if(sg){bB('pageClosed',sg);}Dh();bB('pageOpened',aM);};ap.ayW(J.tK(),J,oI);};this.aDY=function(){wz++;if(!(J.dM())){return;}var ap=J.dM();J.ze(undefined);this.dk();J.ze(ap);};this.We=function(Bh){J.We(Bh);};this.mk=function(h){J.mk(h);};this.eP=function(){return J.eP();};this.Fv=function(h){J.Fv(h);};this.Nx=function(){return J.Nx();};this.mT=function(){return J.mT();};this.BO=function(h){J.BO(h);};this.BB=function(){return J.BB();};this.aBD=function(h){J.aBD(h);};this.FT=function(h){J.FT(h);};this.uJ=function(){return J.uJ();};this.azT=function(h){anm=this.apN(h);};this.il=function(){return anm;};this.adQ=function(h){J.adQ(h);};this.Wh=function(){return J.Wh();};this.lU=function(){return J.lU();};this.oP=function(h){J.oP(h);};this.aaI=function(h){J.aaI(h);};this.ZF=function(){return J.ZF();};this.YL=function(ayn){J.YL(ayn);};this.Sx=function(){return J.Sx();};this.apN=function(bb){var bw='',Js='',Qt=function(aU){var sQ=0,bw;for(bw in aU){if(aU.hasOwnProperty(bw)){sQ+=1;}}return sQ;};for(bw in te){if(te.hasOwnProperty(bw)){if(typeof bb[bw]==='undefined'){bb[bw]=te[bw];}if(typeof bb[bw]==='object'){if(!Qt(bb[bw])){bb[bw]=te[bw];}else if(Qt(bb[bw])!==Qt(te[bw])){for(Js in te[bw]){if(typeof bb[bw][Js]==='undefined'){bb[bw][Js]=te[bw][Js];}}}}}}return bb;};this.aBc=function(aCy){if(aCy===false){IPCC.jd=false;J.ce([new IPCC.nB(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}else{IPCC.jd=true;IPCC.aaA=this.il();J.ce([new IPCC.nB(),new IPCC.cr(),new IPCC.gM(),new IPCC.dN(),new IPCC.ds(false)]);}};this.oy=function(){var bG=J.aW();if(!bG.xA()){return;}J.aW().oy();};this.apo=function(dh){IPCC.aS.C(dh,'pageRectangle');var ap=J.dM();if(ap){J.aW().showSelection(dh);}};this.CN=function(db){IPCC.aS.bJ(db,'imagePoint');if(J.dM()){J.aW().CN(new IPCC.Web.UI.Point(db.x,db.y));}};this.xY=function(db){IPCC.aS.bJ(db,'imagePoint');if(J.dM()){J.aW().xY(new IPCC.Web.UI.Point(db.x,db.y));}};this.xr=function(){if(J.dM()&&J.aW().xA()){return J.aW().xr();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.anE=function(){if(J.dM()&&J.aW().xA()){var dh=J.aW().xr();return J.aW().fH().zQ(dh);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.xA=function(){return! !(J.dM()&&J.aW().xA());};this.tK=function(){return J.tK();};this.YK=function(h){IPCC.aS.mP(h,'value');J.YK(h);};this.alC=function(){return Lv;};this.azL=function(h){IPCC.aS.mP(h,'value');Lv=h;};this.aoP=function(){return Jn;};this.aAt=function(h){Jn=h;};var va='';this.uF=function(h){J.uF(h);va=h;};this.nx=function(){return va;};this.aob=function(){return J.aW().get_magnifierMagnification();};this.aCi=function(h){IPCC.aS.ly(h,'value',1.5,8);J.aW().set_magnifierMagnification(h);};this.aoz=function(){return J.aW().wI().width;};this.aBA=function(h){IPCC.aS.ly(h,'value',25,500);var sQ=J.aW().wI();sQ.width=h;J.aW().set_magnifierWindowSize(sQ);};this.apd=function(){return J.aW().wI().height;};this.aCh=function(h){IPCC.aS.ly(h,'value',25,500);var sQ=J.aW().wI();sQ.height=h;J.aW().set_magnifierWindowSize(sQ);};this.Nv=function(){return J.aW().Nv();};this.Zk=function(h){IPCC.aS.ly(h,'value',-500,500);J.aW().Zk(h);};this.Oa=function(){return J.aW().Oa();};this.Zc=function(h){IPCC.aS.ly(h,'value',-500,500);J.aW().Zc(h);};this.Yv=function(){return J.aW().Yv();};this.Yt=function(h){IPCC.aS.ly(h,'value',0.1,0.5);J.aW().Yt(h);};this.zR=function(){return J.aW().zR();};this.Dn=function(h){J.aW().Dn(h);};this.raisePropertyChanged=function(cw,vH){if(J){J.bY(cw,vH);}};var cB= -1;this.ZT=function(){return cB;};this.aGw=function(h){J.ql=h;};this.EI=function(h){IPCC.aS.kq(h,'value',IPCC.Web.UI.MouseTool);if(cB!==h){cB=h;var jE="None";switch(cB){case IPCC.Web.UI.MouseTool.None:J.ce([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.jd===true){J.ce([new IPCC.sO(),new IPCC.cr(),new IPCC.gM(false,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.sO(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);jE="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.jd===true){J.ce([new IPCC.nB(),new IPCC.cr(),new IPCC.gM(false,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.nB(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.jd===true){J.ce([new IPCC.qE(),new IPCC.cr(),new IPCC.gM(false,this.il()),new IPCC.dN(),new IPCC.ds(true)]);}else{J.ce([new IPCC.qE(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(true)]);}jE="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.jd===true){J.ce([new IPCC.rj(),new IPCC.cr(),new IPCC.gM(false,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.rj(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Rectangle),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Rectangle),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Ellipse),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Ellipse),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.jd===true){J.ce([new IPCC.nU(),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.nU(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.jd===true){J.ce([new IPCC.jQ(IPCC.Web.UI.MarkType.Polyline),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.jQ(IPCC.Web.UI.MarkType.Polyline),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.jd===true){J.ce([new IPCC.nK(),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.nK(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.jd===true){J.ce([new IPCC.jQ(IPCC.Web.UI.MarkType.Polygon),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.jQ(IPCC.Web.UI.MarkType.Polygon),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Text),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Text),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.TextLine),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.TextLine),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);jE="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.jd===true){J.ce([new IPCC.nh(IPCC.Web.UI.MarkType.Text),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.nh(IPCC.Web.UI.MarkType.Text),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.jd===true){J.ce([new IPCC.EQ(IPCC.Web.UI.MarkType.Text),new IPCC.cr(),new IPCC.gM(false,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.EQ(IPCC.Web.UI.MarkType.Text),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Stamp),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.Stamp),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.jd===true){J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:J.FL=true;if(IPCC.jd===true){J.ce([new IPCC.mb(),new IPCC.cr(),new IPCC.gM(false,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.mb(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:J.FL=false;if(IPCC.jd===true){J.ce([new IPCC.mb(),new IPCC.cr(),new IPCC.gM(false,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.mb(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.jd===true){J.ce([new IPCC.mb(),new IPCC.cr(),new IPCC.gM(true,this.il()),new IPCC.dN(),new IPCC.ds(false)]);}else{J.ce([new IPCC.mb(),new IPCC.cr(),new IPCC.dN(),new IPCC.ds(false)]);}jE="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:jE});}};this.FI=function(asl){cB= -1;J.ce(asl);};this.aoe=function(){return J.aW().get_presentationQuality();};this.aCk=function(h){IPCC.aS.ly(h,'value',0,100);J.aW().set_presentationQuality(h);};this.alD=function(){return J.aW().get_scrollBars();};this.aCH=function(h){IPCC.aS.kq(h,'value',IPCC.Web.UI.ScrollBars);J.aW().set_scrollBars(h);};this.ark=function(db,atc){IPCC.aS.bJ(db,'imagePoint');if(!(J.dM())){return new IPCC.Web.UI.Point(0,0);}var cQ=J.aW().fH().transform(db);if(atc){cQ.constrain(J.dS());}return cQ;};this.OR=function(cQ,ass){IPCC.aS.bJ(cQ,'windowPoint');var ap=J.dM();if(!ap){return new IPCC.Web.UI.Point(0,0);}var pR=J.aW().fH();pR.wV();var db=pR.transform(cQ);if(ass){db.constrain(ap);}return db;};function azB(){var cC;cC=gH.nx();var akd=cC.clientWidth;var akg=cC.clientHeight;var avo=(fo&&fo.viewFitType===adc&&akd===acj&&akg===adi);if(avo){if(Lx>2){return;}Lx++;}else{adc=fo?fo.viewFitType: -1;acj=akd;adi=akg;Lx=0;}Sd();};function awJ(){fo=null;};function atd(ay,L){switch(L.eK){case IPCC.fb.aaw:gH.abS(1.25,L.WL.windowPoint);break;case IPCC.fb.abA:gH.aaf(1.25,L.WL.windowPoint);break;case IPCC.fb.Xk:gH.xf(L.h);break;case IPCC.fb.ajn:gH.aje();break;case IPCC.fb.afK:gH.aew();break;case IPCC.fb.abp:gH.SG(L.h);break;case IPCC.fb.adJ:gH.EI(L.h);break;}};this.kY=function(){return J.kY();};this.EW=function(h){J.EW(h);};this.dC=function(){return J.dC();};this.lC=function(){return J.lC();};this.Ev=function(h){J.Ev(h);};this.yp=function(){return J.get_requireRequestsOptimize();};this.FY=function(h){J.FY(h);};this.kS=function(){return J.kS();};this.wy=function(h){J.wy(h);};this.Ia=function(db){IPCC.aS.bJ(db,'imagePoint');return J.Ia(db);};this.Ah=function(cf){J.Ah(cf);};this.Ro=function(){J.Ro();};this.Og=function(tQ,cI){var Hw=J.dC().gm().dV();IPCC.aS.na(tQ,'tQ',0,Hw-1);J.Og(tQ,cI);};this.wd=function(cf){if(cf===undefined){J.aW().wd(cf);return false;}var Hw=J.dC().gm().dV();IPCC.aS.na(cf,'textIndex',0,Hw-1);J.wd(cf);return true;};this.FK=function(){return! !(J.dM()&&J.kY()&&J.dC().nA()===true&&J.aW().FK());};this.ZR=function(){var bG=J.aW();bG.ZR();};this.Ou=function(){if(J.kY()&&J.dC().nA()===true){return Math.min(J.aW().agK(),J.aW().CR());}};this.CC=function(){if(J.kY()&&J.dC().nA()===true){return J.aW().CC();}};this.CF=function(){if(J.kY()&&J.dC().nA()===true&&J.aW().FK()){return J.CF();}else{return "";}};this.CR=function(){return J.aW().CR();};this.alN=function(){return J.aW().get_cursor();};this.azj=function(h){J.aW().set_cursor(h);};this.AN=function(){return J.AN();};this.Zb=function(h){J.Zb(h);};this.iH=function(){return J.iH();};this.nd=function(h){J.nd(h);};this.aAL=function(){J.aW().hideMagnifier();};this.aoM=function(cQ){J.aW().showMagnifier(cQ);};this.wt=function(G){if(J.lN().igElements){J.wt(G);J.dk();}};this.Kc=function(){J.Kc();};this.CX=function(){return J.CX();};this.oh=function(){if(J.lN().igElements){J.oh(true);}};function azZ(ay,L){var vK=L.scaleFactor;var ac={scaleType:"scaledDown",pageNumber:L.pageNumber};if(Ik!==vK){if(vK>Ik){ac.scaleType="scaledUp";}Ik=vK;bB('scaleChanged',ac);}};this.initialize=function(){J.aAD(this.nx().id);J.uF(this.nx().id);if(cB=== -1){this.EI(IPCC.Web.UI.MouseTool.RectangleZoom);}qm('mouseDown');qm('mouseMove');qm('mouseUp');qm('contextMenu');qm('markCreating');qm('pageOpenFailed');qm('textPageReady');qm('pageDisplayed');qm('exceptionThrown');qm('selectTextMouseToolCompleted');HA('markAdded');HA('markChanged');HA('markRemoved');qm('textExtractionFailed');HA('markReordered');HA('marksLoaded');qm('markSelectionChanged');ami();J.azO(azB);J.azR(awJ);J.aBa(atd);J.add_scaleChanged(azZ);J.aEE();var cC=this.nx();cC.az=this;};rn=(rn!==false);J=new IPCC.avb(rn);J.aAn('PageView');J.aCL(LJ);};IPCC.Web.UI.PageView.prototype={dispose:function(){this._debug.aQ('dispose',arguments);this.Lf();},get_artServiceOption:function(){try{var aC=this.Sx();this._debug.aQ('get_artServiceOption',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_artServiceOption');throw e;}},set_artServiceOption:function(value){try{this._debug.aQ('set_artServiceOption',arguments);this.YL(value);}catch(e){this._debug.bd(e,'set_artServiceOption');throw e;}},add_pageOpening:function(handler){try{this.XL(handler);}catch(e){this._debug.bd(e,'add_pageOpening');throw e;}},remove_pageOpening:function(handler){try{this.RE(handler);}catch(e){this._debug.bd(e,'remove_pageOpening');throw e;}},add_pageOpened:function(handler){try{this.WI(handler);}catch(e){this._debug.bd(e,'add_pageOpened');throw e;}},remove_pageOpened:function(handler){try{this.RH(handler);}catch(e){this._debug.bd(e,'remove_pageOpened');throw e;}},add_pageClosed:function(handler){try{this.aza(handler);}catch(e){this._debug.bd(e,'add_pageClosed');throw e;}},remove_pageClosed:function(handler){try{this.awq(handler);}catch(e){this._debug.bd(e,'remove_pageClosed');throw e;}},add_pageOpenFailed:function(handler){try{this.Fo(handler);}catch(e){this._debug.bd(e,'add_pageOpenFailed');throw e;}},remove_pageOpenFailed:function(handler){try{this.FV(handler);}catch(e){this._debug.bd(e,'remove_pageOpenFailed');throw e;}},add_pageDisplayed:function(handler){try{this.Xo(handler);}catch(e){this._debug.bd(e,'add_pageDisplayed');throw e;}},remove_pageDisplayed:function(handler){try{this.Qk(handler);}catch(e){this._debug.bd(e,'remove_pageDisplayed');throw e;}},add_mouseDown:function(handler){try{this.Jb(handler);}catch(e){this._debug.bd(e,'add_mouseDown');throw e;}},remove_mouseDown:function(handler){try{this.PN(handler);}catch(e){this._debug.bd(e,'remove_mouseDown');throw e;}},add_mouseMove:function(handler){try{this.Jm(handler);}catch(e){this._debug.bd(e,'add_mouseMove');throw e;}},remove_mouseMove:function(handler){try{this.OP(handler);}catch(e){this._debug.bd(e,'remove_mouseMove');throw e;}},add_mouseUp:function(handler){try{this.LG(handler);}catch(e){this._debug.bd(e,'add_mouseUp');throw e;}},remove_mouseUp:function(handler){try{this.Ql(handler);}catch(e){this._debug.bd(e,'remove_mouseUp');throw e;}},add_contextMenu:function(handler){try{this.aDE(handler);}catch(e){this._debug.bd(e,'add_contextMenu');throw e;}},remove_contextMenu:function(handler){try{this.auC(handler);}catch(e){this._debug.bd(e,'remove_contextMenu');throw e;}},add_markAdded:function(handler){try{this.AP(handler);}catch(e){this._debug.bd(e,'add_markAdded');throw e;}},remove_markAdded:function(handler){try{this.At(handler);}catch(e){this._debug.bd(e,'remove_markAdded');throw e;}},add_markCreating:function(handler){try{this.Wx(handler);}catch(e){this._debug.bd(e,'add_markCreating');throw e;}},remove_markCreating:function(handler){try{this.Qh(handler);}catch(e){this._debug.bd(e,'remove_markCreating');throw e;}},add_markChanged:function(handler){try{this.EO(handler);}catch(e){this._debug.bd(e,'add_markChanged');throw e;}},remove_markChanged:function(handler){try{this.Kk(handler);}catch(e){this._debug.bd(e,'remove_markChanged');throw e;}},add_markRemoved:function(handler){try{this.AB(handler);}catch(e){this._debug.bd(e,'add_markRemoved');throw e;}},remove_markRemoved:function(handler){try{this.yN(handler);}catch(e){this._debug.bd(e,'remove_markRemoved');throw e;}},add_markReordered:function(handler){try{this.Gh(handler);}catch(e){this._debug.bd(e,'add_markReordered');throw e;}},remove_markReordered:function(handler){try{this.IG(handler);}catch(e){this._debug.bd(e,'remove_markReordered');throw e;}},add_marksLoaded:function(handler){try{this.WD(handler);}catch(e){this._debug.bd(e,'add_marksLoaded');throw e;}},remove_marksLoaded:function(handler){try{this.PS(handler);}catch(e){this._debug.bd(e,'remove_marksLoaded');throw e;}},add_markSelectionChanged:function(handler){try{this.Ga(handler);}catch(e){this._debug.bd(e,'add_markSelectionChanged');throw e;}},remove_markSelectionChanged:function(handler){try{this.IT(handler);}catch(e){this._debug.bd(e,'remove_markSelectionChanged');throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wf(handler);}catch(e){this._debug.bd(e,'add_selectTextMouseToolCompleted');throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.QM(handler);}catch(e){this._debug.bd(e,'remove_selectTextMouseToolCompleted');throw e;}},add_textPageReady:function(handler){try{this.zN(handler);}catch(e){this._debug.bd(e,'add_textPageReady');throw e;}},remove_textPageReady:function(handler){try{this.Cu(handler);}catch(e){this._debug.bd(e,'remove_textPageReady');throw e;}},add_exceptionThrown:function(handler){this.XY(handler);},remove_exceptionThrown:function(handler){this.Qa(handler);},add_scaleChanged:function(handler){try{this.Wn(handler);}catch(e){this._debug.bd(e,'add_scaleChanged');throw e;}},remove_scaleChanged:function(handler){try{this.QG(handler);}catch(e){this._debug.bd(e,'remove_scaleChanged');throw e;}},add_propertyChanged:function(handler){try{this.kX(handler);}catch(e){this._debug.bd(e,'add_propertyChanged');throw e;}},remove_propertyChanged:function(handler){try{this.nl(handler);}catch(e){this._debug.bd(e,'remove_propertyChanged');throw e;}},add_textExtractionFailed:function(handler){this.zr(handler);},remove_textExtractionFailed:function(handler){this.Cr(handler);},fitPage:function(type){try{this._debug.aQ('fitPage',arguments);this.SG(type);}catch(e){this._debug.bd(e,'fitPage');throw e;}},get_pageIsOpen:function(){try{var aC=this.eZ();this._debug.aQ('get_pageIsOpen',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_pageIsOpen');throw e;}},get_pageWidth:function(){try{var aC=this.ks();this._debug.aQ('get_pageWidth',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_pageWidth');throw e;}},get_pageHeight:function(){try{var aC=this.jj();this._debug.aQ('get_pageHeight',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_pageHeight');throw e;}},get_pageXResolution:function(){try{var aC=this.aoF();this._debug.aQ('get_pageXResolution',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_pageXResolution');throw e;}},get_pageYResolution:function(){try{var aC=this.aoU();this._debug.aQ('get_pageYResolution',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_pageYResolution');throw e;}},get_documentIdentifier:function(){try{var aC=this.Ko();this._debug.aQ('get_documentIdentifier',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_documentIdentifier');throw e;}},get_encodedDocumentIdentifier:function(){try{var aC=this.NH();this._debug.aQ('get_encodedDocumentIdentifier',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_encodedDocumentIdentifier');throw e;}},get_pageNumber:function(){try{var aC=this.oY();this._debug.aQ('get_pageNumber',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_pageNumber');throw e;}},get_documentPageCount:function(){try{var aC=this.amu();this._debug.aQ('get_documentPageCount',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_documentPageCount');throw e;}},get_displayedPageRectangle:function(){try{var aC=this.ahw();this._debug.aQ('get_displayedPageRectangle',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_displayedPageRectangle');throw e;}},get_currentState:function(){try{var aC=this.MW();this._debug.aQ('get_currentState',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_currentState');throw e;}},zoomIn:function(factor){try{this._debug.aQ('zoomIn',arguments);this.JD(factor);}catch(e){this._debug.bd(e,'zoomIn');throw e;}},zoomOut:function(factor){try{this._debug.aQ('zoomOut',arguments);this.Vs(factor);}catch(e){this._debug.bd(e,'zoomOut');throw e;}},set_sharpening:function(factor){try{this._debug.aQ('set_sharpening',arguments);this.CO(factor);}catch(e){this._debug.bd(e,'set_sharpening');throw e;}},set_gamma:function(factor){try{this._debug.aQ('set_gamma',arguments);this.DH(factor);}catch(e){this._debug.bd(e,'set_gamma');throw e;}},set_svgLineWidthMultiplier:function(factor){try{this._debug.aQ('set_svgLineWidthMultiplier',arguments);this.Ci(factor);}catch(e){this._debug.bd(e,'set_svgLineWidthMultiplier');throw e;}},zoom:function(factor){try{this._debug.aQ('zoom',arguments);this.ky(factor);}catch(e){this._debug.bd(e,'zoom');throw e;}},rotate:function(degreesClockwise){try{this._debug.aQ('rotate',arguments);this.xf(degreesClockwise);}catch(e){this._debug.bd(e,'rotate');throw e;}},showPageRectangle:function(imageRectangle){try{this._debug.aQ('showPageRectangle',arguments,1);this.aor(imageRectangle);}catch(e){this._debug.bd(e,'showPageRectangle');throw e;}},showPagePointAtCenter:function(imagePoint){try{this._debug.aQ('showPagePointAtCenter',arguments,1);this.apa(imagePoint);}catch(e){this._debug.bd(e,'showPagePointAtCenter');throw e;}},mirror:function(){try{this._debug.aQ('mirror',arguments);this.aew();}catch(e){this._debug.bd(e,'mirror');throw e;}},flip:function(){try{this._debug.aQ('flip',arguments);this.aje();}catch(e){this._debug.bd(e,'flip');throw e;}},display:function(){try{this._debug.aQ('display',arguments);this.dk();}catch(e){this._debug.bd(e,'display');throw e;}},openPage:function(parameters){try{this._debug.aQ('openPage',arguments,1);this.Le(parameters);}catch(e){this._debug.bd(e,'openPage');throw e;}},closePage:function(){try{this._debug.aQ('closePage',arguments);this.Lf();}catch(e){this._debug.bd(e,'closePage');throw e;}},hideSelection:function(){try{this._debug.aQ('hideSelection',arguments);this.oy();}catch(e){this._debug.bd(e,'hideSelection');throw e;}},showSelection:function(imageRectangle){try{this._debug.aQ('showSelection',arguments);this.apo(imageRectangle);}catch(e){this._debug.bd(e,'showSelection');throw e;}},showEmptySelection:function(imagePoint){try{this._debug.aQ('showEmptySelection',arguments);this.CN(imagePoint);}catch(e){this._debug.bd(e,'showEmptySelection');throw e;}},extendSelection:function(imagePoint){try{this._debug.aQ('extendSelection',arguments);this.xY(imagePoint);}catch(e){this._debug.bd(e,'extendSelection');throw e;}},saveArtPage:function(onSave){try{this._debug.aQ('saveArtPage',arguments);this.We(onSave);}catch(e){this._debug.bd(e,'saveArtPage');throw e;}},get_selectionPageRectangle:function(){try{var aC=this.xr();this._debug.aQ('get_selectionPageRectangle',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_selectionPageRectangle');throw e;}},get_selectionWindowRectangle:function(){try{var aC=this.anE();this._debug.aQ('get_selectionWindowRectangle',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_selectionWindowRectangle');throw e;}},get_selectionIsVisible:function(){try{var aC=this.xA();this._debug.aQ('get_selectionIsVisible',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_selectionIsVisible');throw e;}},get_controlStateElementId:function(){try{var aC=this.alC();this._debug.aQ('get_controlStateElementId',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_controlStateElementId');throw e;}},set_controlStateElementId:function(value){try{this._debug.aQ('set_controlStateElementId',arguments);this.azL(value);}catch(e){this._debug.bd(e,'set_controlStateElementId');throw e;}},get_includeArtInPostBack:function(){try{var aC=this.aoP();this._debug.aQ('get_includeArtInPostBack',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_includeArtInPostBack');throw e;}},set_includeArtInPostBack:function(value){try{this._debug.aQ('set_includeArtInPostBack',arguments);this.aAt(value);}catch(e){this._debug.bd(e,'set_includeArtInPostBack');throw e;}},get_artPage:function(){try{var aC=this.eP();this._debug.aQ('get_artPage',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_artPage');throw e;}},set_artPage:function(value){try{this._debug.aQ('set_artPage',arguments);this.mk(value);}catch(e){this._debug.bd(e,'set_artPage');throw e;}},get_documentArtPage:function(){try{var aC=this.Nx();this._debug.aQ('get_documentArtPage',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_documentArtPage');throw e;}},set_documentArtPage:function(value){try{this._debug.aQ('set_documentArtPage',arguments);this.Fv(value);}catch(e){this._debug.bd(e,'set_documentArtPage');throw e;}},get_transientArtPage:function(){try{var aC=this.mT();this._debug.aQ('get_transientArtPage',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_transientArtPage');throw e;}},set_transientArtPage:function(value){try{this._debug.aQ('set_transientArtPage',arguments);this.BO(value);}catch(e){this._debug.bd(e,'set_transientArtPage');throw e;}},get_imageHandlerUrl:function(){try{var aC=this.tK();this._debug.aQ('get_imageHandlerUrl',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_imageHandlerUrl');throw e;}},set_imageHandlerUrl:function(value){try{this._debug.aQ('set_imageHandlerUrl',arguments);this.YK(value);}catch(e){this._debug.bd(e,'set_imageHandlerUrl');throw e;}},get_resourcePath:function(){try{var aC=this.uJ();this._debug.aQ('get_resourcePath',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_resourcePath');throw e;}},set_resourcePath:function(h){try{this._debug.aQ('set_resourcePath',arguments);this.FT(h);}catch(e){this._debug.bd(e,'set_resourcePath');throw e;}},get_contextMenuLanguageDictionary:function(){try{var aC=this.il();this._debug.aQ('get_contextMenuLanguageDictionary',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_contextMenuLanguageDictionary');throw e;}},set_contextMenuLanguageDictionary:function(h){try{this._debug.aQ('set_contextMenuLanguageDictionary',arguments);this.azT(h);}catch(e){this._debug.bd(e,'set_contextMenuLanguageDictionary');throw e;}},get_textRequired:function(){try{var aC=this.kY();this._debug.aQ('get_textRequired',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_textRequired');throw e;}},set_textRequired:function(h){try{this._debug.aQ('set_textRequired',arguments);this.EW(h);}catch(e){this._debug.bd(e,'set_textRequired');throw e;}},get_textPage:function(){try{var aC=this.dC();this._debug.aQ('get_textPage',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_textPage');throw e;}},get_textSelectionIsVisible:function(){try{var aC=this.FK();this._debug.aQ('textSelectionIsVisible',arguments,aC,1);return aC;}catch(e){this._debug.bd(e,'textSelectionIsVisible');throw e;}},getSelectedText:function(){try{var aC=this.CF();this._debug.aQ('getSelectedText',arguments,aC,1);return aC;}catch(e){this._debug.bd(e,'getSelectedText');throw e;}},get_requireRequestsOptimize:function(){try{var aC=this.yp();this._debug.aQ('get_requireRequestsOptimize',arguments,aC);return aC;}catch(e){this._debug.bd(e,'yp');throw e;}},set_requireRequestsOptimize:function(value){try{this._debug.aQ('set_requireRequestsOptimize',arguments);this.FY(value);}catch(e){this._debug.bd(e,'set_requireRequestsOptimize');throw e;}},get_magnifierMagnification:function(){try{var aC=this.aob();this._debug.aQ('get_magnifierMagnification',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_magnifierMagnification');throw e;}},set_magnifierMagnification:function(value){try{this._debug.aQ('set_magnifierMagnification',arguments);this.aCi(value);}catch(e){this._debug.bd(e,'set_magnifierMagnification');throw e;}},get_magnifierWidth:function(){try{var aC=this.aoz();this._debug.aQ('get_magnifierWidth',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_magnifierWidth');throw e;}},set_magnifierWidth:function(value){try{this._debug.aQ('set_magnifierWidth',arguments);this.aBA(value);}catch(e){this._debug.bd(e,'set_magnifierWidth');throw e;}},get_magnifierHeight:function(){try{var aC=this.apd();this._debug.aQ('get_magnifierHeight',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_magnifierHeight');throw e;}},set_magnifierHeight:function(value){try{this._debug.aQ('set_magnifierHeight',arguments);this.aCh(value);}catch(e){this._debug.bd(e,'set_magnifierHeight');throw e;}},get_magnifierXOffset:function(){try{var aC=this.Nv();this._debug.aQ('get_magnifierXOffset',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_magnifierXOffset');throw e;}},set_magnifierXOffset:function(value){try{this._debug.aQ('set_magnifierXOffset',arguments);this.Zk(value);}catch(e){this._debug.bd(e,'set_magnifierXOffset');throw e;}},get_magnifierYOffset:function(){try{var aC=this.Oa();this._debug.aQ('get_magnifierYOffset',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_magnifierYOffset');throw e;}},set_magnifierYOffset:function(value){try{this._debug.aQ('set_magnifierYOffset',arguments);this.Zc(value);}catch(e){this._debug.bd(e,'set_magnifierYOffset');throw e;}},showMagnifier:function(windowPoint){try{this._debug.aQ('showMagnifier',arguments,1);this.aoM(windowPoint);}catch(e){this._debug.bd(e,'showMagnifier');throw e;}},hideMagnifier:function(){try{this._debug.aQ('hideMagnifier',arguments);this.aAL();}catch(e){this._debug.bd(e,'hideMagnifier');throw e;}},get_markHandleSize:function(){try{var aC=this.Yv();this._debug.aQ('get_markHandleSize',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_markHandleSize');throw e;}},set_markHandleSize:function(value){try{this._debug.aQ('set_markHandleSize',arguments);this.Yt(value);}catch(e){this._debug.bd(e,'set_markHandleSize');throw e;}},get_markHandleMode:function(){try{var aC=this.zR();this._debug.aQ('get_markHandleMode',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_markHandleMode');throw e;}},set_markHandleMode:function(value){try{this._debug.aQ('set_markHandleMode',arguments);this.Dn(value);}catch(e){this._debug.bd(e,'set_markHandleMode');throw e;}},get_mouseTool:function(){try{var aC=this.ZT();this._debug.aQ('get_mouseTool',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_mouseTool');throw e;}},set_mouseTool:function(value){try{this._debug.aQ('set_mouseTool',arguments);this.EI(value);}catch(e){this._debug.bd(e,'set_mouseTool');throw e;}},get_presentationQuality:function(){try{var aC=this.aoe();this._debug.aQ('get_presentationQuality',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_presentationQuality');throw e;}},set_presentationQuality:function(value){try{this._debug.aQ('set_presentationQuality',arguments);this.aCk(value);}catch(e){this._debug.bd(e,'set_presentationQuality');throw e;}},get_scrollBars:function(){try{var aC=this.alD();this._debug.aQ('get_scrollBars',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_scrollBars');throw e;}},set_scrollBars:function(value){try{this._debug.aQ('set_scrollBars',arguments);this.aCH(value);}catch(e){this._debug.bd(e,'set_scrollBars');throw e;}},get_imGearPage:function(){try{var aC=this.lC();this._debug.aQ('get_imGearPage',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_imGearPage');throw e;}},set_imGearPage:function(value){try{this._debug.aQ('set_imGearPage',arguments);this.Ev(value);}catch(e){this._debug.bd(e,'set_imGearPage');throw e;}},get_serviceResponseTimeout:function(){try{var aC=this.kS();this._debug.aQ('get_serviceResponseTimeout',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_serviceResponseTimeout');throw e;}},set_serviceResponseTimeout:function(value){try{this._debug.aQ('set_serviceResponseTimeout',arguments);this.wy(value);}catch(e){this._debug.bd(e,'set_serviceResponseTimeout');throw e;}},get_currentTextIndex:function(){try{var aC=this.CR();this._debug.aQ('get_currentTextIndex',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_currentTextIndex');throw e;}},get_cursor:function(){try{var aC=this.alN();this._debug.aQ('get_cursor',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_cursor');throw e;}},set_cursor:function(value){try{this._debug.aQ('set_cursor',arguments);this.azj(value);}catch(e){this._debug.bd(e,'set_cursor');throw e;}},get_encryption:function(){try{var aC=this.iH();this._debug.aQ('get_encryption',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_encryption');throw e;}},set_encryption:function(value){try{this._debug.aQ('set_encryption',arguments);this.nd(value);}catch(e){this._debug.bd(e,'set_encryption');throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var aC=this.ark(imagePoint,constrainResultToWindow);this._debug.aQ('transformPagePointToWindow',arguments,aC,1);return aC;}catch(e){this._debug.bd(e,'transformPagePointToWindow');throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var aC=this.OR(windowPoint,constrainResultToImage);this._debug.aQ('transformWindowPointToPage',arguments,aC,1);return aC;}catch(e){this._debug.bd(e,'transformWindowPointToPage');throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var aC=this.Ia(pagePoint);this._debug.aQ('transformPagePointToTextIndex',arguments,aC,1);return aC;}catch(e){this._debug.bd(e,'transformPagePointToTextIndex');throw e;}},removeAllHighlights:function(){try{this._debug.aQ('removeAllHighlights',arguments);this.Ro();}catch(e){this._debug.bd(e,'removeAllHighlights');throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this._debug.aQ('showTextSelection',arguments);this.Og(indexOfFirstCharacter,length);}catch(e){this._debug.bd(e,'showTextSelection');throw e;}},showEmptyTextSelection:function(textIndex){try{this._debug.aQ('showEmptyTextSelection',arguments);this.Ah(textIndex);}catch(e){this._debug.bd(e,'showEmptyTextSelection');throw e;}},extendTextSelection:function(textIndex){try{this._debug.aQ('extendTextSelection',arguments);this.wd(textIndex);}catch(e){this._debug.bd(e,'extendTextSelection');throw e;}},initializeViewControllers:function(showArtContextMenu){try{this._debug.aQ('initializeViewControllers',arguments);this.aBc(showArtContextMenu);}catch(e){this._debug.bd(e,'initializeViewControllers');throw e;}},get_autoUpdate:function(){try{var aC=this.AN();this._debug.aQ('get_autoUpdate',arguments,aC);return aC;}catch(e){this._debug.bd(e,'get_autoUpdate');throw e;}},set_autoUpdate:function(value){try{this._debug.aQ('set_autoUpdate',arguments);this.Zb(value);}catch(e){this._debug.bd(e,'set_autoUpdate');throw e;}}};IPCC.Web.UI.PageView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageView.registerClass('IPCC.Web.UI.PageView',IPCC.Sys.UI.Control);IPCC.eU=function(fO,ir,iT,gb,ez,fc){if(arguments.length===0){fO=gb=1;ir=iT=ez=fc=0;}this.aiK=function(){return fO*gb-ir*iT;};this.aGy=function(){return fO===1&&ir===0&&iT===0&&gb===1&&ez===0&&fc===0;};this.qY=function(){return fO;};this.qw=function(){return ir;};this.ra=function(){return iT;};this.rQ=function(){return gb;};this.xJ=function(){return ez;};this.xq=function(){return fc;};this.append=function(dq){var HT=fO*dq.qY()+ir*dq.ra();var Gw=fO*dq.qw()+ir*dq.rQ();var GO=iT*dq.qY()+gb*dq.ra();var GW=iT*dq.qw()+gb*dq.rQ();var Fk=ez*dq.qY()+fc*dq.ra()+dq.xJ();var Gx=ez*dq.qw()+fc*dq.rQ()+dq.xq();fO=HT;ir=Gw;iT=GO;gb=GW;ez=Fk;fc=Gx;};this.equals=function(h){if(fO!==h.qY()){return false;}if(ir!==h.qw()){return false;}if(iT!==h.ra()){return false;}if(gb!==h.rQ()){return false;}if(ez!==h.xJ()){return false;}if(fc!==h.xq()){return false;}return true;};this.wV=function(){if(!this.agT()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Bi=this.aiK();var HT=gb/Bi;var Gw= -ir/Bi;var GO= -iT/Bi;var GW=fO/Bi;var Fk=(iT*fc-gb*ez)/Bi;var Gx=(ir*ez-fO*fc)/Bi;fO=HT;ir=Gw;iT=GO;gb=GW;ez=Fk;fc=Gx;};this.Fe=function(dq){var HT=dq.qY()*fO+dq.qw()*iT;var Gw=dq.qY()*ir+dq.qw()*gb;var GO=dq.ra()*fO+dq.rQ()*iT;var GW=dq.ra()*ir+dq.rQ()*gb;var Fk=dq.xJ()*fO+dq.xq()*iT+ez;var Gx=dq.xJ()*ir+dq.xq()*gb+fc;fO=HT;ir=Gw;iT=GO;gb=GW;ez=Fk;fc=Gx;};this.wn=function(jz,pY,lW,mh){ez-=lW;fc-=mh;this.scale(jz,pY);ez+=lW;fc+=mh;};this.aBN=function(){fO=gb=1;ir=iT=ez=fc=0;};this.transform=function(bJ){var aL=bJ.x*fO+bJ.y*iT+ez;var dr=bJ.y*gb+bJ.x*ir+fc;return new IPCC.Web.UI.Point(aL,dr);};this.mj=function(XF,XQ){ez+=XF;fc+=XQ;};this.atX=function(h){if(Math.abs(fO-h.qY())>1e-8){return false;}if(Math.abs(ir-h.qw())>1e-8){return false;}if(Math.abs(iT-h.ra())>1e-8){return false;}if(Math.abs(gb-h.rQ())>1e-8){return false;}if(Math.abs(ez-h.xJ())>1e-8){return false;}if(Math.abs(fc-h.xq())>1e-8){return false;}return true;};this.toString=function(){return '{'+fO.toFixed(6)+', '+ir.toFixed(6)+', '+iT.toFixed(6)+', '+gb.toFixed(6)+', '+ez.toFixed(3)+', '+fc.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eU(fO,ir,iT,gb,ez,fc);};this.Pn=function(hG){fO=hG.qY();ir=hG.qw();iT=hG.ra();gb=hG.rQ();ez=hG.xJ();fc=hG.xq();};this.aBG=function(bU,bp){fO=1;gb=bp.gO*bU.gG/(bU.gO*bp.gG);ir=iT=ez=fc=0;};this.Vx=function(bv,bU,bp){switch(bv){case IPCC.Web.UI.FitType.FullImage:this.apX(bU,bp);break;case IPCC.Web.UI.FitType.FullWidth:this.aaF(bU,bp);break;case IPCC.Web.UI.FitType.FullHeight:this.aaN(bU,bp);break;case IPCC.Web.UI.FitType.ActualSize:this.acT(bU,bp);break;case IPCC.Web.UI.FitType.OneToOne:if(!(bU.qn)){this.acT(bU,bp);}else{this.asF(bU,bp);}break;}};this.aaF=function(bU,bp){var lH=this.nN(bU);var zH=bp.width-2;if(zH<1){zH=1;}var aj=zH/lH.width;this.scale(aj,aj);lH=this.nN(bU);if(lH.y<0){this.mj(0,-lH.y);}};this.aaN=function(bU,bp){var lH=this.nN(bU);var zH=bp.height-2;if(zH<1){zH=1;}var aj=zH/lH.height;this.scale(aj,aj);lH=this.nN(bU);if(lH.x<0){this.mj(-lH.x,0);}};this.apX=function(bU,bp){var jZ=this.clone();jZ.aaF(bU,bp);this.aaN(bU,bp);if(Math.max(Math.abs(fO),Math.abs(ir))>Math.max(Math.abs(jZ.qY()),Math.abs(jZ.qw()))){this.Pn(jZ);}};this.acT=function(bU,bp){var lH=this.nN({x:0,y:0,width:bU.gG,height:bU.gO});var aj=bp.gG/lH.width;this.scale(aj,aj);};this.asF=function(bU,bp){var lH=this.nN({x:0,y:0,width:1,height:1});var aj=1/Math.min(lH.width,lH.height);this.scale(aj,aj);if(Math.abs(fO-1)<0.0001){fO=1;}if(Math.abs(gb-1)<0.0001){gb=1;}};return this;};IPCC.eU.prototype.agT=function(){return Math.abs(this.aiK())>1e-14;};IPCC.eU.prototype.rotate=function(zG){this.acC(zG,0,0);};IPCC.eU.prototype.acC=function(zG,lW,mh){var IQ=zG*Math.PI*2/360;var hn=Math.sin(IQ);var fC=Math.cos(IQ);var dq=new IPCC.eU(fC,hn,-hn,fC,lW*(1-fC)+mh*hn,mh*(1-fC)-lW*hn);this.append(dq);};IPCC.eU.prototype.aDo=function(zG,lW,mh){var IQ=zG*Math.PI*2/360;var hn=Math.sin(IQ);var fC=Math.cos(IQ);var dq=new IPCC.eU(fC,hn,-hn,fC,lW*(1-fC)+mh*hn,mh*(1-fC)-lW*hn);this.Fe(dq);};IPCC.eU.prototype.aEb=function(zG){this.aDo(zG,0,0);};IPCC.eU.prototype.scale=function(jz,pY){var dq=new IPCC.eU(jz,0,0,pY,0,0);this.append(dq);};IPCC.eU.prototype.aDX=function(jz,pY,lW,mh){var dq=new IPCC.eU(jz,0,0,pY,lW*(1-jz),mh*(1-pY));this.Fe(dq);};IPCC.eU.prototype.aDz=function(jz,pY){var dq=new IPCC.eU(jz,0,0,pY,0,0);this.Fe(dq);};IPCC.eU.prototype.skew=function(oX,nP){var dq=new IPCC.eU(1,Math.tan(nP*Math.PI*2/360),Math.tan(oX*Math.PI*2/360),1,0,0);this.append(dq);};IPCC.eU.prototype.aEf=function(oX,nP){var dq=new IPCC.eU(1,Math.tan(nP*Math.PI*2/360),Math.tan(oX*Math.PI*2/360),1,0,0);this.Fe(dq);};IPCC.eU.prototype.aFP=function(XF,XQ){var dq=new IPCC.eU(1,0,0,1,XF,XQ);this.Fe(dq);};IPCC.eU.prototype.zQ=function(C){var dY=this.transform({x:C.x,y:C.y});var kL=dY.x;var mr=dY.x;var la=dY.y;var mx=dY.y;dY=this.transform({x:C.x+C.width,y:C.y});kL=Math.min(kL,dY.x);mr=Math.max(mr,dY.x);la=Math.min(la,dY.y);mx=Math.max(mx,dY.y);dY=this.transform({x:C.x+C.width,y:C.y+C.height});kL=Math.min(kL,dY.x);mr=Math.max(mr,dY.x);la=Math.min(la,dY.y);mx=Math.max(mx,dY.y);dY=this.transform({x:C.x,y:C.y+C.height});kL=Math.min(kL,dY.x);mr=Math.max(mr,dY.x);la=Math.min(la,dY.y);mx=Math.max(mx,dY.y);return new IPCC.Web.UI.Rectangle(kL,la,mr-kL,mx-la);};IPCC.eU.prototype.aqM=function(bU,bp,dW){var aiR=this.clone();aiR.wV();var axO=aiR.transform({x:dW.x+dW.width/2,y:dW.y+dW.height/2});var aj=Math.min(bp.width/dW.width,bp.height/dW.height);aj-=1e-10;var lp=this.rk();if(lp*aj>bU.ri){aj=bU.ri/lp;}if(lp*aj<bU.rr){aj=bU.rr/lp;}this.scale(aj,aj);this.aap(bp,axO);};IPCC.eU.prototype.Mg=function(bU,bp,dh){this.aqM(bU,bp,this.zQ(dh));};IPCC.eU.prototype.aDg=function(bp){this.wn(1,-1,bp.width/2,bp.height/2);};IPCC.eU.prototype.aqK=function(bp){this.wn(-1,1,bp.width/2,bp.height/2);};IPCC.eU.prototype.VQ=function(aqQ,aiq){var aiB=this.transform(aqQ);this.mj(aiq.x-aiB.x,aiq.y-aiB.y);};IPCC.eU.prototype.aap=function(bp,db){var ajv=this.transform(db);this.mj(bp.width/2-ajv.x,bp.height/2-ajv.y);};IPCC.eU.prototype.hY=function(ap,bp){var aL=0,dr=0,end;var nq=this.nN(ap);if(nq.width<bp.width){aL=(bp.width-nq.width)/2-nq.x;}else{end=nq.x+nq.width;if(end<bp.width){aL=bp.width-end;}if(nq.x>0){aL= -nq.x;}}if(nq.height<bp.height){dr=(bp.height-nq.height)/2-nq.y;}else{end=nq.y+nq.height;if(end<bp.height){dr=bp.height-end;}if(nq.y>0){dr= -nq.y;}}this.mj(aL,dr);};IPCC.eU.prototype.nN=function(ap){return this.zQ({x:0,y:0,width:ap.width,height:ap.height});};IPCC.eU.prototype.anL=function(){var fW,AD,jb,yW,adl,jC;fW=this.transform({x:0,y:0});AD=this.transform({x:0,y:1});jb=this.transform({x:1,y:0});yW=Math.atan2(AD.y-fW.y,AD.x-fW.x);adl=Math.atan2(jb.y-fW.y,jb.x-fW.x);jC=yW-adl;if(jC>Math.PI){jC=jC-2*Math.PI;}if(jC< -Math.PI){jC=jC+2*Math.PI;}return jC<0;};IPCC.eU.prototype.ajp=function(){var fW,AD,yW;fW=this.transform({x:0,y:0});AD=this.transform({x:0,y:1});yW=Math.atan2(AD.y-fW.y,AD.x-fW.x)-Math.PI/2;if(yW<0){yW=yW+2*Math.PI;}return yW*360/(Math.PI*2);};IPCC.eU.prototype.rk=function(){var gD;var fW,ou;var eh,eC,dG;fW=this.transform({x:0,y:0});ou=this.transform({x:1,y:0});eh=ou.x-fW.x;eC=ou.y-fW.y;gD=eh*eh+eC*eC;ou=this.transform({x:0,y:1});eh=ou.x-fW.x;eC=ou.y-fW.y;dG=Math.min(gD,eh*eh+eC*eC);ou=this.transform({x:1,y:1});eh=ou.x-fW.x;eC=ou.y-fW.y;dG=Math.min(gD,eh*eh+eC*eC);ou=this.transform({x:1,y: -1});eh=ou.x-fW.x;eC=ou.y-fW.y;dG=Math.min(gD,eh*eh+eC*eC);return Math.sqrt(gD);};IPCC.eU.aFj=function(){return new IPCC.eU(1,0,0,1,0,0);};IPCC.PB=function(bA,ao,gG,gO){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=bA;this.height=ao;this.gG=gG;this.gO=gO;return this;};IPCC.PB.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.gG+', '+this.gO+')';};IPCC.gd=function(ko,av,bA,ao,gG,gO){IPCC.PB.call(this,0,0,0,0);this.width=bA;this.height=ao;this.gG=gG;this.gO=gO;this.av=av||0;this.fM=0;this.qn=true;this.ath={};this.Ax=false;var K=this;this.av=av;this._debug=new IPCC.au("Image",null,this);this.get_url=function(hb,ek,aM){ek=ek||'Image';aM=aM||'';var BC=IPCC.gd.Hy(ko);var Do=false;if(/^[\x00-\x7F]*$/.test(BC)){Do=true;}if(aM===null||aM===''){if(ek==='Attributes'){var uc='';if(!IPCC.yu.JK()){uc='&ContentType=png';}if(!Do){return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=e'+ko+uc+'&svgCheck=true';}else{return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=u'+encodeURIComponent(BC)+uc+'&svgCheck=true';}}else{if(ek==='SvgImage'){if(!Do){return hb+'/Page/q/'+av.toString()+'?DocumentID=e'+ko+'&'+aM+'&svgCheck=true';}else{return hb+'/Page/q/'+av.toString()+'?DocumentID=u'+encodeURIComponent(BC)+'&'+aM+'&svgCheck=true';}}if(!Do){return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=e'+ko+'&'+aM+'&svgCheck=true';}else{return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=u'+encodeURIComponent(BC)+'&'+aM+'&svgCheck=true';}}}else{if(ek==='SvgImage'){if(!Do){return hb+'/Page/q/'+av.toString()+'?DocumentID=e'+ko+'&'+aM+'&svgCheck=true';}else{return hb+'/Page/q/'+av.toString()+'?DocumentID=u'+encodeURIComponent(BC)+'&'+aM+'&svgCheck=true';}}if(!Do){return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=e'+ko+'&'+aM+'&svgCheck=true';}else{return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=u'+encodeURIComponent(BC)+'&'+aM+'&svgCheck=true';}}};this.get_urlArt=function(hb,ek,aM){ek=ek||'Art';aM=aM||'';if(aM===null||aM===''){if(ek==='Art'){return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=e'+ko;}}else{return hb+'/Page/q/'+av.toString()+'/'+ek+'?DocumentID=e'+ko+'&'+aM;}};this.get_identifier=function(){return IPCC.gd.Hy(ko);};this.get_encodedIdentifier=function(){return ko;};this.toString=function(){return 'Image("'+ko+'", '+this.av+', '+this.width+' x '+this.height+', '+this.gG+', '+this.gO+')';};function Zy(amv,J){if(J.Wh()){K.qn=true;K.Ax=false;return;}var QE=amv.split(',');var hO=false;for(var bE=0;bE<QE.length;bE++){if(QE[bE]==="SVG"||QE[bE]==="svg"){if(IPCC.yu.JK()){K.Ax=true;K.qn=false;}else{K.Ax=false;}hO=true;break;}}if(!hO){K.Ax=false;K.qn=true;}if(J){if(J.MY){J.MY(K.Ax);}}};this.PM=function(hb,J,Ad){J.av=this.av;var mz=0;var nn=J.yp();if(nn){if(document.documentMode<9){nn=false;}}var qB=true;if(J.kS()===0){qB=false;}var oI=function(fD,aD){try{if(fD===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fD.errorCode){if(fD.errorCode==='SvgNotAvailable'){nn=false;K.width= +(fD.pageAttributes.imageWidth);K.height= +(fD.pageAttributes.imageHeight);K.gG= +(fD.pageAttributes.imageXResolution);if(K.gG<=0){K.gG=72;}K.gO= +(fD.pageAttributes.imageYResolution);if(K.gO<=0){K.gO=72;}K.fM= +(fD.pageAttributes.pageCount);K.qn=fD.pageAttributes.isRaster!=='false';Zy(fD.pageAttributes.contentType,J);}}else{K.width= +(fD.imageWidth);K.height= +(fD.imageHeight);K.gG= +(fD.imageXResolution);if(K.gG<=0){K.gG=72;}K.gO= +(fD.imageYResolution);if(K.gO<=0){K.gO=72;}K.fM= +(fD.pageCount);K.qn=fD.isRaster!=='false';Zy(fD.contentType,J);}var og=aD.getResponseHeader("Accusoft-Data-Encrypted");var Fw=false;if(og==="true"){Fw=true;}J.adI(Fw);if(Ad){Ad();}}catch(e){K._debug.bd(e,'openPage');if(typeof(J.bB)==='function'){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};function KH(){nn=false;if(mz<1){var hs={method:'GET',url:K.get_url(hb,'Attributes'),headers:{'Content-Type':'application/json'}};if(qB===true){hs.timeout=J.kS();}IPCC.V.mR.fB(hs).then(ee,fl);mz++;}};var ayl=function(eJ,aD){var bA;var ao;function anJ(){var KI;try{if(typeof JSON!=='undefined'){KI=JSON.parse(eJ);}else{KI=IPCC.cP.oE(eJ);}}catch(ad){KI=undefined;nn=true;}return KI;};try{bA=eJ.match(/width=\"([0-9.]+)\"/);ao=eJ.match(/height=\"([0-9.]+)\"/);if(bA&&ao){bA=Number(bA[1]);ao=Number(ao[1]);}else{throw "error";}if(isNaN(bA)||isNaN(ao)){throw "error";}K.width=bA;K.height=ao;K.gG=72;K.gO=72;K.Ax=true;K.qn=false;if(J){if(typeof(J.MY==='function')){J.MY(K.Ax);}}if(Ad){Ad();}}catch(e){var aV=anJ();if(aV){oI(aV,aD);return;}if(nn){if(mz<1){nn=false;setTimeout(KH,10);return;}}K._debug.bd(e,'openPage');if(typeof(J.bB)==='function'){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};function ee(aD){var aV=null,dz;try{if(!nn){if(typeof JSON!=='undefined'){aV=JSON.parse(aD.responseText);}else{aV=IPCC.cP.oE(aD.responseText);}oI(aV,aD);}else{var mX;var og=aD.getResponseHeader("Accusoft-Data-Encrypted");if(og==='true'&&J.iH()===true){var xa=IPCC.Web.gY.pL.tO(aD.getResponseHeader("Accusoft-Data-SK"));var bw=IPCC.Web.Hs(xa,jf);var eR=IPCC.Web.GI(aD);var ub=IPCC.Web.Bj(eR,bw,jf);mX=IPCC.Web.gY.Gm.lX(ub);}else{mX=aD.responseText;}var SZ;if(mX.length>=1000){SZ=mX.substring(0,1000);}else{SZ=mX.substring(0,mX.length);}ayl(SZ,aD);}}catch(ex){if(nn){nn=false;if(mz<1){setTimeout(KH,10);return;}}dz="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dz);}};function fl(aV){try{var dz,lK,nc;if(!aV.response){throw new IPCC.Web.UI.ImGearHttpException(aV.response.status,"Client timed out on load");}if(aV.response.status===403){mz++;if(aV.response.statusText&&aV.response.statusText!==""){dz="Expired viewer session ID, error message from the server: "+aV.response.statusText;}else{dz="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(aV.response.status,dz);}if(nn){nn=false;if(mz<1){setTimeout(KH,10);return;}}nc=aV.response.getResponseHeader('Accusoft-Status-Message');if(nc){var qM;lK=aV.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yj(lK)){qM=parseInt(lK,10);}throw new IPCC.Web.UI.ImGearHttpException(aV.response.status,nc,qM);}else{if(aV.response.statusText&&aV.response.statusText!==""){dz="Error message from the service: "+aV.response.statusText;}else{dz="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(aV.response.status,dz);}}catch(e){if(nn){nn=false;if(mz<1){setTimeout(KH,10);return;}}K._debug.bd(e,'openPage');if(typeof(J.bB)==='function'){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};var jf=IPCC.Web.FQ.ajb(4,IPCC.Web.OQ());var nI=IPCC.Web.gY.HM.lX(jf);var hs={method:'GET',cache:true};if(!nn){hs.url=this.get_url(hb,'Attributes');hs.headers={'Content-Type':'application/json'};}else{var bg;if(J.iH()===true){jf=IPCC.Web.FQ.Yn(4,IPCC.Web.OQ());nI=IPCC.Web.gY.HM.lX(jf);bg=this.get_url(hb,'SvgImage','Scale=1&ContentType='+IPCC.V.SV+'&iv='+nI);}else{bg=this.get_url(hb,'SvgImage','Scale=1&ContentType='+IPCC.V.SV);}hs.url=bg;}IPCC.V.mR.fB(hs).then(ee,fl);};this.ayW=function(hb,J,Ad){J.av=this.av;var mz=0;var qB=true;if(J.kS()===0){qB=false;}var oI=function(fD,aD){try{if(fD===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}K.width= +(fD.imageWidth);K.height= +(fD.imageHeight);K.gG= +(fD.imageXResolution);if(K.gG<=0){K.gG=72;}K.gO= +(fD.imageYResolution);if(K.gO<=0){K.gO=72;}K.fM= +(fD.pageCount);K.qn=true;var og=aD.getResponseHeader("Accusoft-Data-Encrypted");var Fw=false;if(og==="true"){Fw=true;}J.adI(Fw);if(Ad){Ad();}}catch(e){K._debug.bd(e,'openPage');if(typeof(J.bB)==='function'){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};function ee(aD){try{var ha=aD.status,aV,dz;if(ha===200){aV=null;try{if(typeof JSON!=='undefined'){aV=JSON.parse(aD.responseText);}else{aV=IPCC.cP.oE(aD.responseText);}oI(aV,aD);}catch(ex){dz="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dz);}}}catch(e){K._debug.bd(e,'openPageForRaster');if(typeof(J.bB)==='function'){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};function fl(aV){try{var ha=aV.response.status,dz,nc,lK;if(!aV.response){throw new IPCC.Web.UI.ImGearHttpException(ha,"Client timed out on load");}if(ha===403){mz++;if(aV.response.statusText&&aV.response.statusText!==""){dz="Expired viewer session ID, error message from the server: "+aV.response.statusText;}else{dz="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ha,dz);}nc=aV.response.getResponseHeader('Accusoft-Status-Message');if(nc){var qM;lK=aV.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yj(lK)){qM=parseInt(lK,10);}throw new IPCC.Web.UI.ImGearHttpException(ha,nc,qM);}else{if(aV.response.statusText&&aV.response.statusText!==""){dz="Error message from the service: "+aV.response.statusText;}else{dz="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ha,dz);}}catch(e){K._debug.bd(e,'openPageForRaster');if(typeof(J.bB)==='function'){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};var adG={method:'GET',url:this.get_url(hb,'Attributes'),headers:{'Content-Type':'application/json'}};if(qB===true){adG.timeout=J.kS();}IPCC.V.mR.fB(adG).then(ee,fl);};return this;};IPCC.gd.prototype.clone=function(){var QV=new IPCC.gd(this.get_encodedIdentifier(),this.av,this.width,this.height,this.gG,this.gO);QV.fM=this.fM;QV.qn=this.qn;return QV;};IPCC.gd.prototype.equals=function(h){if(this.get_encodedIdentifier()!==h.get_encodedIdentifier()){return false;}if(this.av!==h.av){return false;}return true;};IPCC.gd.prototype.ri=8;IPCC.gd.prototype.rr=0.000001;IPCC.gd.aiX=function(aM){var Ii=aM.referenceDocumentIdentifier;var adh=IPCC.gd.sJ(Ii);var hA=aM.encodedDocumentIdentifier;var ki=aM.documentIdentifier;var fJ;if(hA===''){hA=undefined;}if(ki===''){ki=undefined;}if(Ii&&Ii!==''){if(hA===adh){hA=undefined;}if(ki===Ii){ki=undefined;}}if(ki){fJ=IPCC.gd.sJ(ki);if(hA){if(hA!==fJ){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{hA=fJ;}}else{if(hA){ki=IPCC.gd.Hy(hA);}}if(!hA){ki=Ii;hA=adh;}var aY=aM.pageNumber;var aci=aM.referencePageNumber;if(aY===aci){aY=undefined;}if(aY!==0&& !aY){aY=aci;}aM.encodedDocumentIdentifier=hA;aM.documentIdentifier=ki;aM.pageNumber=aY;};IPCC.gd.sJ=function(iy){if(!iy||iy===''){return '';}var lZ=[];var H;for(H=0;H<iy.length;H++){lZ.push(iy.charCodeAt(H)%256);lZ.push(Math.floor(iy.charCodeAt(H)/256));}lZ.push(0);lZ.push(0);var PV='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var oz=[],rS;for(H=0;H<lZ.length-1;H+=3){rS=lZ[H]*0x10000+lZ[H+1]*0x100+lZ[H+2];oz.push(PV.charAt(Math.floor(rS/0x40000)));oz.push(PV.charAt(Math.floor(rS/0x1000)%0x40));oz.push(PV.charAt(Math.floor(rS/0x40)%0x40));oz.push(PV.charAt(rS%0x40));}var TJ=Math.ceil(iy.length*16/6);while(oz.length>TJ){oz.pop();}if((oz.length%4)===3){oz.push('1');}else if((oz.length%4)===2){oz.push('2');}else if((oz.length%4)===0){oz.push('0');}return oz.join('');};IPCC.gd.Hy=function(ko){if(!ko||ko===''){return '';}var afy=ko.length-1;var IO=[],rS;var qL,lZ=[],oe=[];var H;for(H=0;H<afy;H++){qL=ko.charCodeAt(H);if(qL>64&&qL<91){oe.push(qL-65);}else if(qL>96&&qL<123){oe.push(qL-97+26);}else if(qL>47&&qL<58){oe.push(qL-48+52);}else if(qL===45){oe.push(62);}else if(qL===95){oe.push(63);}else{return '';}}oe.push(0);oe.push(0);oe.push(0);for(H=0;H<oe.length-3;H+=4){rS=oe[H]*0x40000+oe[H+1]*0x1000+oe[H+2]*0x40+oe[H+3];lZ.push(Math.floor(rS/0x10000));lZ.push(Math.floor(rS/0x100)%256);lZ.push(rS%256);}for(H=0;H<lZ.length-1;H+=2){IO.push(String.fromCharCode(lZ[H]+lZ[H+1]*0x100));}var TJ=Math.floor(afy*6/16);while(IO.length>TJ){IO.pop();}return IO.join('');};IPCC.sO=function(){this.aX=false;this.J=false;};IPCC.sO.prototype.mB=function(J){J.aW().set_cursor(IPCC.bz.Magnifier);this.J=J;};IPCC.sO.prototype.ft=function(){this.J=false;};IPCC.sO.prototype.bN=function(){if(this.aX){this.J.aW().hideMagnifier();this.J.aW().set_cursor(this.jv);this.aX=false;}};IPCC.sO.prototype.qg=function(){this.bN();};IPCC.sO.prototype.kF=function(L){this.bN();if(L.domEvent.button===0){this.jv=this.J.aW().get_cursor();this.J.aW().set_cursor(IPCC.bz.None);this.aX=true;this.J.aW().showMagnifier(L.windowPoint);this.J.dk();}};IPCC.sO.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){this.J.aW().showMagnifier(L.windowPoint);this.J.dk();}};IPCC.sO.prototype.iZ=function(){this.bN();this.J.dk();};IPCC.sO.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.nB=function(){this.aX=false;this.J=false;};IPCC.nB.prototype.mB=function(J){J.aW().set_cursor(IPCC.bz.RectangleZoom);this.J=J;};IPCC.nB.prototype.ft=function(){this.J=false;};IPCC.nB.prototype.bN=function(){if(this.aX){this.J.aW().oy();this.J.aW().set_cursor(this.jv);this.aX=false;this.J.dk();}};IPCC.nB.prototype.qg=function(){this.bN();this.J.dk();};IPCC.nB.prototype.kF=function(L){this.bN();if(L.domEvent.button===0){var bG=this.J.aW();this.jv=bG.get_cursor();bG.set_cursor(IPCC.bz.RectangleZoom);this.aX=true;bG.CN(L.constrainedImagePoint);this.sM=L.windowPoint;this.J.dk();}};IPCC.nB.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){var bG=this.J.aW();bG.xY(L.constrainedImagePoint);this.J.dk();}};IPCC.nB.prototype.iZ=function(L){if(this.aX&&L.domEvent.button===0){var fJ=L.windowPoint.x-this.sM.x;var gD=fJ*fJ;fJ=L.windowPoint.y-this.sM.y;gD+=fJ*fJ;if(gD>25){var J=this.J;var bG=J.aW();var bh=bG.fH();var bp=J.dS();var ayf=bp.width;var axC=bp.height;var bU=J.dM();bG.xY(L.constrainedImagePoint);var jg=bG.xr();bG.oy();J.bB('userModifiedViewState',{});bh.Mg(bU,bp,jg);bh.hY(bU,bp);bG.iC(bh);J.dk();if(ayf!==bp.width||axC!==bp.height){bh=bG.fH();bh.Mg(bU,bp,jg);bh.hY(bU,bp);bG.iC(bh);}}}this.bN();};IPCC.nB.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.nB.prototype.nu=function(){this.bN();};IPCC.qE=function(){this.aX=false;this.J=false;};IPCC.qE.prototype.mB=function(J){J.aW().set_cursor(IPCC.bz.HandOpen);this.J=J;};IPCC.qE.prototype.ft=function(){this.J=false;};IPCC.qE.prototype.bN=function(){if(this.aX){this.J.aW().set_cursor(this.jv);this.aX=false;}};IPCC.qE.prototype.qg=function(){this.bN();};IPCC.qE.prototype.kF=function(L){this.bN();if(L.domEvent.button===0){this.jv=this.J.aW().get_cursor();this.J.aW().set_cursor(IPCC.bz.HandClosed);this.aX=true;this.Kf=L.imagePoint;}};IPCC.qE.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){var J=this.J;var bG=J.aW();var bh=bG.fH();var bp=J.dS();bh.VQ(this.Kf,L.windowPoint);bh.hY(J.dM(),bp);J.bB('userModifiedViewState',{});bG.iC(bh);J.dk();}};IPCC.qE.prototype.iZ=function(){this.bN();};IPCC.qE.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.qE.prototype.nu=function(){this.bN();};IPCC.rj=function(){this.aX=false;this.J=false;};IPCC.rj.prototype.mB=function(J){J.aW().set_cursor(IPCC.bz.Crosshair);this.J=J;};IPCC.rj.prototype.ft=function(){this.J=false;};IPCC.rj.prototype.bN=function(){if(this.aX){this.J.oy();this.J.aW().set_cursor(this.jv);this.aX=false;this.J.dk();}};IPCC.rj.prototype.qg=function(){this.bN();};IPCC.rj.prototype.kF=function(L){this.bN();if(L.domEvent.button===0){var bG=this.J.aW();this.jv=bG.get_cursor();bG.set_cursor(IPCC.bz.Crosshair);this.aX=true;bG.CN(L.constrainedImagePoint);this.J.dk();}};IPCC.rj.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){var bG=this.J.aW();bG.xY(L.constrainedImagePoint);this.J.dk();}};IPCC.rj.prototype.iZ=function(L){if(L.domEvent.button===0){this.aX=false;}this.bN();};IPCC.rj.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.rj.prototype.nu=function(){this.bN();};IPCC.cr=function(){this.J=false;this.arf=1.5;};IPCC.cr.prototype.mB=function(J){this.J=J;};IPCC.cr.prototype.ft=function(){this.J=false;};IPCC.cr.prototype.bN=function(){};IPCC.cr.prototype.nu=function(L){var bG=this.J.aW();var bU=this.J.dM();var bp=this.J.dS();var bh=bG.fH();var OE=L.wheelDelta/120;if(L.domEvent.ctrlKey){L.domEvent.preventDefault();var aj=((this.arf-1)/2)+1;if(OE<0){aj=1/aj;}var lp=bh.rk();if(lp*aj>bU.ri){aj=bU.ri/lp;}if(lp*aj<bU.rr){aj=bU.rr/lp;}bh.wn(aj,aj,L.windowPoint.x,L.windowPoint.y);bh.hY(bU,bp);this.J.bB('userModifiedViewState',{});bG.iC(bh);}else{var Zg=bh.transform({x:0,y:0});bh.mj(0,OE*bp.gO);bh.hY(bU,bp);var ZH=bh.transform({x:0,y:0});if(Math.abs(Zg.x-ZH.x)>0.001||Math.abs(Zg.y-ZH.y)>0.001){L.domEvent.preventDefault();this.J.bB('userModifiedViewState',{});bG.iC(bh);}}this.J.dk();};IPCC.eW=function(af){this.aX=false;this.J=false;this.af=af;switch(this.af){case IPCC.Web.UI.MarkType.Rectangle:this.ab=IPCC.bz.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.ab=IPCC.bz.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.ab=IPCC.bz.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.ab=IPCC.bz.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.ab=IPCC.bz.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.ab=IPCC.bz.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.ab=IPCC.bz.AddRectangleMark;break;}};IPCC.eW.prototype.mB=function(J){J.aW().set_cursor(this.ab);this.J=J;};IPCC.eW.prototype.ft=function(){this.J=false;};IPCC.eW.prototype.bN=function(){if(this.aX){this.G=null;this.J.po(null);this.J.aW().set_cursor(this.jv);this.aX=false;this.J.dk();}};IPCC.eW.prototype.qg=function(){this.bN();};IPCC.eW.prototype.kF=function(L){this.bN();if(L.domEvent.button===0){var bG=this.J.aW();this.jv=bG.get_cursor();bG.set_cursor(this.ab);this.aX=true;this.G=new IPCC.Web.UI.Mark(this.af);this.G.set_rectangle({x:L.imagePoint.x,y:L.imagePoint.y,width:0,height:0});this.J.po(this.G);this.ro=L.imagePoint;this.sM=L.windowPoint;}};IPCC.eW.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){var jN={x:Math.min(L.imagePoint.x,this.ro.x),y:Math.min(L.imagePoint.y,this.ro.y)};jN.width=Math.max(L.imagePoint.x,this.ro.x)-jN.x;jN.height=Math.max(L.imagePoint.y,this.ro.y)-jN.y;this.G.set_rectangle(jN);this.J.dk();}};IPCC.eW.prototype.iZ=function(L){if(this.aX&&L.domEvent.button===0){var fJ=L.windowPoint.x-this.sM.x;var gD=fJ*fJ;fJ=L.windowPoint.y-this.sM.y;gD+=fJ*fJ;if(gD>25){var jN={x:Math.min(L.imagePoint.x,this.ro.x),y:Math.min(L.imagePoint.y,this.ro.y)};jN.width=Math.max(L.imagePoint.x,this.ro.x)-jN.x;jN.height=Math.max(L.imagePoint.y,this.ro.y)-jN.y;this.J.po(null);this.G.set_rectangle(jN);var aw=this.G;var J=this.J;var qe={clientX:L.domEvent.clientX,clientY:L.domEvent.clientY};this.J.eP().addMark(this.G,qe);if(aw.hT()===IPCC.Web.UI.MarkType.Text||aw.hT()===IPCC.Web.UI.MarkType.TextLine||aw.hT()===IPCC.Web.UI.MarkType.TextAreaSignature){J.wt(aw);}J.dk();}}this.bN();};IPCC.eW.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.eW.prototype.nu=function(){this.bN();};IPCC.nU=function(){this.aX=false;this.J=false;this.ab=IPCC.bz.AddLineMark;};IPCC.nU.prototype.mB=function(J){J.aW().set_cursor(this.ab);this.J=J;};IPCC.nU.prototype.ft=function(){this.J=false;};IPCC.nU.prototype.bN=function(){if(this.aX){this.G=null;this.J.po(null);this.J.aW().set_cursor(this.jv);this.aX=false;this.J.dk();}};IPCC.nU.prototype.qg=function(){this.bN();};IPCC.nU.prototype.kF=function(L){this.bN();if(L.domEvent.button===0){var bG=this.J.aW();this.jv=bG.get_cursor();bG.set_cursor(this.ab);this.aX=true;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.G.get_points().setPoint(0,L.imagePoint);this.G.get_points().setPoint(1,L.imagePoint);this.J.po(this.G);this.ro=L.imagePoint;this.sM=L.windowPoint;}};IPCC.nU.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){this.G.get_points().setPoint(1,L.imagePoint);this.J.dk();}};IPCC.nU.prototype.iZ=function(L){if(this.aX&&L.domEvent.button===0){var fJ=L.windowPoint.x-this.sM.x;var gD=fJ*fJ;fJ=L.windowPoint.y-this.sM.y;gD+=fJ*fJ;if(gD>25){var J=this.J;var qe={clientX:L.domEvent.clientX,clientY:L.domEvent.clientY};this.G.get_points().setPoint(1,L.imagePoint);this.J.po(null);this.J.eP().addMark(this.G,qe);J.dk();}}this.bN();};IPCC.nU.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.nU.prototype.nu=function(){this.bN();};IPCC.nK=function(){this.aX=false;this.J=false;this.ab=IPCC.bz.AddFreehandMark;};IPCC.nK.prototype.mB=function(J){J.aW().set_cursor(this.ab);this.J=J;};IPCC.nK.prototype.ft=function(){this.J=false;};IPCC.nK.prototype.bN=function(){if(this.aX){this.G=null;this.pn=null;this.J.po(null);this.J.aW().set_cursor(this.jv);this.aX=false;}};IPCC.nK.prototype.qg=function(){this.bN();};IPCC.nK.prototype.kF=function(L){this.bN();if(L.domEvent.button===0){var bG=this.J.aW();this.jv=bG.get_cursor();bG.set_cursor(this.ab);this.aX=true;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.G.get_points().addPoint(L.imagePoint);this.pn=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.J.po(this.G,this.pn);this.G.set_lineWidth(this.pn.co);this.G.set_lineColor(this.pn.kH);this.G.set_opacity(this.pn.cA);this.ro=L.imagePoint;this.sM=L.windowPoint;this.J.dk();}};IPCC.nK.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){this.G.get_points().addPoint(L.imagePoint);this.J.dk();}};IPCC.nK.prototype.iZ=function(L){if(this.aX&&L.domEvent.button===0){this.G.get_points().addPoint(L.imagePoint);var afa=this.G.get_points();var ai=[];var jy=Number.MAX_VALUE,jb=0,_top=Number.MAX_VALUE,kj=0;var H=0;for(H=0;H<afa.get_length();H++){var rz=afa.getPoint(H);if(rz.x<jy){jy=rz.x;}if(rz.x>jb){jb=rz.x;}if(rz.y<_top){_top=rz.y;}if(rz.y>kj){kj=rz.y;}ai.push({x:rz.x,y:rz.y});}var xK=3;var rN;var pK=(ai.length<xK)?ai:IPCC.V.filter(ai,function(cn){if(rN){var aL=cn.x-rN.x,dr=cn.y-rN.y,eV=aL*aL+dr*dr;if(Math.sqrt(eV)<4){return false;}}cn.x=cn.x-jy;cn.y=cn.y-_top;rN=cn;return true;});if(pK.length<xK){pK=[ai[0],ai[ai.length-1]];}var cc='';rN=undefined;if(pK.length<xK){cc+=this.My(pK);}else{cc='M'+IPCC.V.bspline(pK);cc=cc.replace(/\d*\.?\d*/g,function(bM){var HQ=bM.indexOf('.');if(bM.length&&HQ>0){return bM.substr(0,HQ+3);}else if(bM!==""){return bM;}else{return bM;}});}var bA=jb-jy;var ao=kj-_top;var qe={clientX:L.domEvent.clientX,clientY:L.domEvent.clientY};this.pn.set_rectangle({x:jy,y:_top,width:bA,height:ao});this.pn.set_pathString(cc);this.pn.set_pathWidth(bA);this.pn.set_pathHeight(ao);this.J.po(null);this.J.eP().addMark(this.pn,qe);this.J.dk();}this.bN();};IPCC.nK.prototype.My=function(hx,FM){var RQ=(FM&&IPCC.V.Di)?'m':'M';var PL=(FM&&IPCC.V.Di)?'l':'L';return IPCC.V.map(hx,function(cn,H){if(H===0){return RQ+cn.x+','+cn.y;}else{return PL+cn.x+','+cn.y;}}).join('');};IPCC.nK.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.nK.prototype.nu=function(){this.bN();};IPCC.jQ=function(af){this.aX=false;this.J=false;this.af=af;switch(this.af){case IPCC.Web.UI.MarkType.Polygon:this.ab=IPCC.bz.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.ab=IPCC.bz.AddPolylineMark;this.Re=false;break;}};IPCC.jQ.prototype.mB=function(J){J.aW().set_cursor(this.ab);this.J=J;};IPCC.jQ.prototype.ft=function(){this.J=false;};IPCC.jQ.prototype.bN=function(){if(this.aX){if(arguments[0]){if(arguments[0]===true){if(this.G&&this.Re===false){this.J.eP().addMark(this.G);this.Re=true;this.J.dk();}}}this.G=null;this.J.po(null);this.J.aW().set_cursor(this.jv);this.aX=false;this.J.dk();}};IPCC.jQ.prototype.qg=function(){this.bN();};IPCC.jQ.prototype.kF=function(L){if(L.domEvent.button===0){if(!this.aX){var bG=this.J.aW();this.jv=bG.get_cursor();bG.set_cursor(this.ab);this.aX=true;this.G=new IPCC.Web.UI.Mark(this.af);this.G.get_points().addPoint(L.imagePoint);this.J.po(this.G);}var ai=this.G.get_points();if(ai.get_length()>0){ai.setPoint(ai.get_length()-1,L.imagePoint);}ai.addPoint(L.imagePoint);this.ro=L.imagePoint;this.sM=L.windowPoint;this.J.dk();}else{this.bN();}};IPCC.jQ.prototype.vG=function(L){if(this.aX&&L.domEvent.button===0){var ai=this.G.get_points(),bX=ai.get_length(),Xh,XW;if(bX>2){var acf=true;while(acf){bX=ai.get_length();Xh=ai.getPoint(bX-1);XW=ai.getPoint(bX-2);if(Xh.x===XW.x&&Xh.y===XW.y){ai.removePoint(bX-1);}else{acf=false;}}}if(ai.get_length()>0){ai.setPoint(ai.get_length()-1,L.imagePoint);}this.J.po(null);var qe={clientX:L.domEvent.clientX,clientY:L.domEvent.clientY};this.J.eP().addMark(this.G,qe);this.Re=true;this.J.dk();}this.bN();};IPCC.jQ.prototype.lc=function(L){if(L.domEvent.button!==0){this.bN();}if(this.aX){var ai=this.G.get_points();if(ai.get_length()>0){ai.setPoint(ai.get_length()-1,L.imagePoint);}this.J.dk();}};IPCC.jQ.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.jQ.prototype.nu=function(){this.bN();};IPCC.jd=true;IPCC.fb={aaw:1,abA:2,Xk:3,ajn:4,afK:5,EY:6,Or:7,aeI:8,aeA:9,agb:10,ahB:11,agr:12,agJ:13,agZ:14,abp:15,adJ:16};IPCC.aaA=null;IPCC.gM=function(Xs,axU){this.J=false;this.Xs=Xs;var lb=IPCC.Web.UI;var bb=axU;if(!bb||bb===null){bb=IPCC.aaA;}this.bb=bb;var apc={an:bb.zoomInMenuItem,eK:IPCC.fb.aaw,h:1.25};var aoK={an:bb.zoomOutMenuItem,eK:IPCC.fb.abA,h:1.25};var amh={an:bb.fullImageMenuItem,h:lb.FitType.FullImage};var amb={an:bb.fullWidthMenuItem,h:lb.FitType.FullWidth};var amD={an:bb.fullHeightMenuItem,h:lb.FitType.FullHeight};var ayi={an:bb.oneToOneRatioMenuItem,h:lb.FitType.OneToOne};var aEJ={an:bb.actualSizeMenuItem,h:lb.FitType.ActualSize};var aDC={an:bb.rotateRightMenuItem,eK:IPCC.fb.Xk,h:90};var aDP={an:bb.rotateLeftMenuItem,eK:IPCC.fb.Xk,h: -90};var atL={an:bb.mirrorHorizontalMenuItem,eK:IPCC.fb.ajn};var auJ={an:bb.mirrorVerticalMenuItem,eK:IPCC.fb.afK};var Vg={an:bb.panToolMenuItem,h:lb.MouseTool.HandPan};var TS={an:bb.areaSelectionToolMenuItem,h:lb.MouseTool.Select};var Uu={an:bb.zoomRectangleToolMenuItem,h:lb.MouseTool.RectangleZoom};var SF={an:bb.flyingMagnifierToolMenuItem,h:lb.MouseTool.Magnifier};var aoX={an:bb.createTextMarkToolMenuItem,h:lb.MouseTool.CreateTextMark};var arj={an:bb.createLineMarkToolMenuItem,h:lb.MouseTool.CreateLineMark};var apU={an:bb.createRectangleMarkToolMenuItem,h:lb.MouseTool.CreateRectangleMark};var apI={an:bb.createEllipseMarkToolMenuItem,h:lb.MouseTool.CreateEllipseMark};var arl={an:bb.editMarksToolMenuItem,h:lb.MouseTool.EditMarks};var aog={an:bb.createStampMarkToolMenuItem,h:lb.MouseTool.CreateStampMark};var aqx={an:bb.createHighlightMarkToolMenuItem,h:lb.MouseTool.CreateHighlightTextMark};var abb={bA:55,cK:[{an:bb.thicknessMenu.item1,h:1},{an:bb.thicknessMenu.item2,h:2},{an:bb.thicknessMenu.item3,h:3},{an:bb.thicknessMenu.item4,h:4},{an:bb.thicknessMenu.item5,h:5},{an:bb.thicknessMenu.item6,h:6},{an:bb.thicknessMenu.item7,h:7},{an:bb.thicknessMenu.item8,h:8}]};var aAm={bA:145,cK:[{an:bb.opacityMenu.translucent,h:127},{an:bb.opacityMenu.opaque,h:255}]};var KV={an:bb.borderThicknessMenuItem,eK:IPCC.fb.EY,aN:'lineWidth',mI:abb};var KG={an:bb.borderColorMenuItem,eK:IPCC.fb.Or,aN:'lineColor'};var Gn={an:bb.fillColorMenuItem,eK:IPCC.fb.Or,aN:'fillColor'};var aeR={an:bb.lineThicknessMenuItem,eK:IPCC.fb.EY,aN:'lineWidth',mI:abb};var aez={an:bb.lineColorMenuItem,eK:IPCC.fb.Or,aN:'lineColor'};var atj={an:bb.fontMenuItem,eK:IPCC.fb.aeI};var KE={an:bb.opacityMenuItem,eK:IPCC.fb.EY,aN:'opacity',mI:aAm};var atP={an:bb.moveToBackMenuItem,eK:IPCC.fb.agb};var atn={an:bb.moveBackwardMenuItem,eK:IPCC.fb.ahB};var auG={an:bb.moveForwardMenuItem,eK:IPCC.fb.agr};var auz={an:bb.moveToFrontMenuItem,eK:IPCC.fb.agJ};var uI={an:bb.deleteMarkMenuItem,eK:IPCC.fb.agZ};var aoq={bA:180,cK:[amh,amb,amD,ayi,aEJ]};var aoH={an:bb.zoomToFitMenuItem,eK:IPCC.fb.abp,mI:aoq};var aAA={bA:200,cK:[aDC,aDP,atL,auJ]};var azm={an:bb.orientationMenuItem,mI:aAA};var OA;if(IPCC.dJ){if(IPCC.jd===false){OA={bA:180,cK:[Vg,Uu,SF,TS,null]};}else{OA={bA:180,cK:[Vg,Uu,SF,TS,null,arl,aoX,arj,apU,apI,aog,aqx]};}}else{OA={bA:180,cK:[Vg,Uu,SF,TS]};}var auB={an:bb.mouseToolsMenuItem,eK:IPCC.fb.adJ,mI:OA};var atH={bA:150,cK:[Gn,KV,KG,null,KE]};var arx={bA:150,cK:[Gn,KV,KG,null,null]};var atC={bA:150,an:bb.rectangleMarkPropertiesMenuItem,mI:atH};var asu={bA:150,an:bb.rectangleMarkPropertiesMenuItem,mI:arx};var asP={bA:150,cK:[atj,Gn,KV,KG,null,null,null,KE]};var asI={an:bb.textMarkPropertiesMenuItem,mI:asP};var avR={bA:150,cK:[Gn,KV,KG,null,KE]};var awP={an:bb.polygonMarkPropertiesMenuItem,mI:avR};var ayz={bA:140,cK:[aeR,aez,null,KE]};var awD={an:bb.polylineMarkPropertiesMenuItem,mI:ayz};var avT={bA:140,cK:[aeR,aez,null,null]};var awG={an:bb.lineMarkPropertiesMenuItem,mI:avT};var awy={bA:140,cK:[auz,auG,atn,atP]};var wK={an:bb.markOrderingMenuItem,mI:awy};var ank={bA:150,cK:[Gn]};var abk={an:bb.stampMarkPropertiesMenuItem,mI:ank};this.ato={bA:180,cK:[apc,aoK,aoH,azm,auB]};this.arw={bA:140,cK:[asI,wK,uI]};this.atz={bA:140,cK:[atC,wK,uI]};this.anw={bA:140,cK:[abk,wK,uI]};this.anB={bA:140,cK:[null,wK,uI]};this.art={bA:140,cK:[asu,wK,uI]};this.awT={bA:140,cK:[awP,wK,uI]};this.axz={bA:140,cK:[awD,wK,uI]};this.avN={bA:140,cK:[awG,wK,uI]};this.aAB={bA:140,cK:[abk,null,uI]};};IPCC.gM.prototype.mB=function(J){this.J=J;};IPCC.gM.prototype.ft=function(){this.J=false;};IPCC.gM.prototype.bN=function(){};IPCC.gM.prototype.RJ=function(L){var jc;if(L.mark&&this.Xs){var Ln=L.mark.hW();switch(L.mark.get_type()){case IPCC.Web.UI.MarkType.Line:jc=this.avN;break;case IPCC.Web.UI.MarkType.Polyline:jc=this.axz;break;case IPCC.Web.UI.MarkType.Rectangle:jc=this.atz;break;case IPCC.Web.UI.MarkType.Ellipse:jc=this.art;break;case IPCC.Web.UI.MarkType.Polygon:jc=this.awT;break;case IPCC.Web.UI.MarkType.Text:jc=this.arw;break;case IPCC.Web.UI.MarkType.Stamp:if(Ln===true){jc=this.anB;}else{jc=this.anw;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(L.mark.kI==='y'){jc=this.aAB;}break;}}if(!jc){jc=this.ato;}var su=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var sF=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var abe=new IPCC.Web.UI.Point(L.domEvent.clientX+su,L.domEvent.clientY+sF);var K=this;function vx(ad){if(sP){var am=ad.target;if(am&&am===null){return;}var CL,ajO;while(am&&am!==document.body&&am.parentNode!==null){if(am&&am!==null){if(am===sP){ajO=true;}if(!CL&&am.ImGearCommand){CL=am.ImGearCommand;}am=am.parentNode;}}if(!ajO||CL){IPCC.Web.UI.ar.removeHandler(document.body,'mousedown',vx);IPCC.Web.UI.ar.removeHandler(document.body,'mousemove',acJ);document.body.removeChild(sP);sP=null;if(CL){CL.WL=L;K.arA(CL);}}}};function Rq(GT,AJ,zi,FZ){var cd=false,H,am;for(H=0;H<AJ.length;H++){if(GT===AJ[H]){cd=true;}}if(!cd&&GT.ImGearType==='menu'){GT.style.display='none';}else{GT.style.display='block';}am=GT.firstChild;while(am){if(am.ImGearType==='menuItemHighlight'){if(am===FZ){am.style.display='block';}else{am.style.display='none';}}if(am.firstChild){Rq(am,AJ,zi,FZ);}am=am.nextSibling;}};function acJ(ad){if(sP){var am=ad.target;if(am&&am===null){return;}var AJ=[sP],zi,FZ;while(am&&am!==document.body&&am.parentNode!==null){if(!zi&&am.ImGearType==='menuItem'){zi=am;}if(am.ImGearType==='menu'){AJ.push(am);}am=am.parentNode;}if(zi){am=zi.firstChild;while(am){if(am.ImGearType==='menuItemHighlight'){FZ=am;}else if(am.ImGearType==='menu'){AJ.push(am);}am=am.nextSibling;}}Rq(sP,AJ,zi,FZ);}};var bO;if(window.innerWidth){bO={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bO={x:su,y:sF,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bO={x:su,y:sF,width:document.body.clientWidth,height:document.body.clientHeight};}var sP=this.afB(jc,false,false,abe,abe,true,bO,document.body,L.mark);Rq(sP,[sP],null,null);document.body.appendChild(sP);IPCC.Web.UI.ar.addHandler(document.body,'mousedown',vx);IPCC.Web.UI.ar.addHandler(document.body,'mousemove',acJ);};IPCC.gM.prototype.afB=function(jc,eK,aN,Xv,WR,Bv,bO,axS,G){var agN=24,aeg=1;var H,Ov=0;for(H=0;H<jc.cK.length;H++){var awZ=jc.cK[H];if(awZ){Ov+=agN;}else{Ov+=aeg;}}var KJ;if(Bv){KJ=WR.x+jc.bA;if(KJ>bO.x+bO.width){Bv=false;}}if(!Bv){KJ=Xv.x-jc.bA;if(KJ<bO.x){Bv=true;}}var qC={x:WR.x,y:WR.y};if(!Bv){qC={x:Xv.x-jc.bA-2,y:Xv.y-2};}var akH=bO.y+bO.height-Ov-8;if(qC.y>akH){qC.y=akH;}if(qC.y<bO.y+2){qC.y=bO.y+2;}function hH(qF){var wB=document.createElement('div');var H;for(H in qF){if(qF.hasOwnProperty(H)){wB.style[H]=qF[H];}}return wB;};var Oj=hH({zIndex:2,width:jc.bA+'px',left:qC.x+'px',top:qC.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Oj.ImGearType='menu';for(H=0;H<jc.cK.length;H++){var xZ=jc.cK[H];var tx;if(xZ){tx=hH({position:'relative',height:'24px'});tx.ImGearType='menuItem';var zo=hH({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});tx.appendChild(zo);var ahn=hH({textOverflow:'ellipsis',whiteSpace:'nowrap',width:jc.bA-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});tx.appendChild(ahn);var agu=hH({display:'none',position:'absolute',height:'24px',width:jc.bA+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});agu.ImGearType='menuItemHighlight';tx.appendChild(agu);ahn.appendChild(document.createTextNode(xZ.an));var KF=xZ.eK||eK;var Db=xZ.aN||aN;if(Db){if(KF===IPCC.fb.EY){var aEA=G['get_'+Db]();if(aEA===xZ.h){if(this.J.uJ()){zo.style.backgroundImage='url(\''+this.J.uJ()+'/MenuIcons.png'+'\')';}else{zo.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}zo.style.backgroundPosition='0px';}}else if(KF===IPCC.fb.aeA){var aDk=G['get_'+Db]();if(aDk){if(this.J.uJ()){zo.style.backgroundImage='url(\''+this.J.uJ()+'/MenuIcons.png'+'\')';}else{zo.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}zo.style.backgroundPosition='24px 0px';}}}if(!xZ.mI){tx.ImGearCommand={eK:KF,aN:Db,h:xZ.h};}else{var avc={x:bO.x-qC.x,y:bO.y-qC.y,width:bO.width,height:bO.height};this.afB(xZ.mI,KF,Db,{x:0,y: -1},{x:jc.bA,y: -1},Bv,avc,tx,G);}qC.y+=agN;}else{tx=hH({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});qC.y+=aeg;}Oj.appendChild(tx);}axS.appendChild(Oj);return Oj;};IPCC.gM.prototype.aqi=function(G,cw,J){var su=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var sF=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bO;if(window.innerWidth){bO={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bO={x:su,y:sF,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bO={x:su,y:sF,width:document.body.clientWidth,height:document.body.clientHeight};}var lW=bO.x+bO.width/2;var mh=bO.y+bO.height/2;var ia=document.createElement('div');ia.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mh-85)+'px;left:'+(lW-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bb.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bb.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bb.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bb.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bb.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bb.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ia);var Sh=document.getElementById('ImGearColorRed');var aiw=document.getElementById('ImGearColorGreen');var akw=document.getElementById('ImGearColorBlue');var Hc=document.getElementById('ImGearColorOKButton');var Jw=document.getElementById('ImGearColorCancelButton');var Zf=G['get_'+cw]();var Jx;if(Zf.length===7&&Zf.charAt(0)==='#'){Jx=parseInt(Zf.slice(1),16);}Sh.value=(Jx>>16);aiw.value=((Jx>>8)&255);akw.value=(Jx&255);function Xy(Vc){var h=Math.floor(+(Vc.value));if(!isFinite(h)){h=0;}if(h<0){h=0;}if(h>255){h=255;}return h;};function xG(){IPCC.Web.UI.ar.removeHandler(Hc,'click',Hi);IPCC.Web.UI.ar.removeHandler(Jw,'click',Hl);IPCC.Web.UI.ar.removeHandler(document.body,'mousedown',vx);};function Hi(){var cV=Xy(Sh)*65536+Xy(aiw)*256+Xy(akw);G['set_'+cw]('#'+(0x1000000+cV).toString(16).slice(1));xG();document.body.removeChild(ia);ia=null;J.dk();};function Hl(){xG();document.body.removeChild(ia);ia=null;};function vx(ad){if(ia){var am=ad.target;var GJ;while(am!==document.body){if(am===ia){GJ=true;}am=am.parentNode;}if(!GJ){xG();document.body.removeChild(ia);ia=null;}}};IPCC.Web.UI.ar.addHandler(Hc,'click',Hi);IPCC.Web.UI.ar.addHandler(Jw,'click',Hl);IPCC.Web.UI.ar.addHandler(document.body,'mousedown',vx);Sh.focus();};IPCC.gM.prototype.arh=function(G,J){var su=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var sF=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bO;if(window.innerWidth){bO={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bO={x:su,y:sF,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bO={x:su,y:sF,width:document.body.clientWidth,height:document.body.clientHeight};}var lW=bO.x+bO.width/2;var mh=bO.y+bO.height/2;var ia=document.createElement('div');ia.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mh-85)+'px;left:'+(lW-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bb.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bb.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bb.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bb.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bb.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bb.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bb.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bb.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bb.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ia);var TN=document.getElementById('ImGearFontFamily');var aiM=document.getElementById('ImGearFontSize');var aih=document.getElementById('ImGearFontItalic');var ajF=document.getElementById('ImGearFontBold');var ahM=document.getElementById('ImGearFontUnderline');var ajE=document.getElementById('ImGearFontStrikeout');var Hc=document.getElementById('ImGearFontOKButton');var Jw=document.getElementById('ImGearFontCancelButton');var axi=G.get_fontName();var ayR=G.get_fontSize();var sh=G.get_fontStyle();TN.value=axi;aiM.value=ayR;aih.checked=sh&IPCC.Web.UI.FontStyle.Italic;ajF.checked=sh&IPCC.Web.UI.FontStyle.Bold;ahM.checked=sh&IPCC.Web.UI.FontStyle.Underline;ajE.checked=sh&IPCC.Web.UI.FontStyle.Strikeout;function awB(Vc){var h=Math.floor(+(Vc.value));if(!isFinite(h)){h=12;}if(h<0.1){h=0.1;}if(h>288){h=288;}return h;};function xG(){IPCC.Web.UI.ar.removeHandler(Hc,'click',Hi);IPCC.Web.UI.ar.removeHandler(Jw,'click',Hl);IPCC.Web.UI.ar.removeHandler(document.body,'mousedown',vx);};function Hi(){G.set_fontName(TN.value);var dH=awB(aiM);G.set_fontSize(dH);var fq=0;if(aih.checked){fq|=IPCC.Web.UI.FontStyle.Italic;}if(ajF.checked){fq|=IPCC.Web.UI.FontStyle.Bold;}if(ahM.checked){fq|=IPCC.Web.UI.FontStyle.Underline;}if(ajE.checked){fq|=IPCC.Web.UI.FontStyle.Strikeout;}G.set_fontStyle(fq);xG();document.body.removeChild(ia);ia=null;J.dk();};function Hl(){xG();document.body.removeChild(ia);ia=null;};function vx(ad){if(ia){var am=ad.target;var GJ;while(am!==document.body){if(am===ia){GJ=true;}am=am.parentNode;}if(!GJ){xG();document.body.removeChild(ia);ia=null;}}};IPCC.Web.UI.ar.addHandler(Hc,'click',Hi);IPCC.Web.UI.ar.addHandler(Jw,'click',Hl);IPCC.Web.UI.ar.addHandler(document.body,'mousedown',vx);TN.focus();};IPCC.gM.prototype.arA=function(L){var G=L.WL.mark;switch(L.eK){case IPCC.fb.EY:G['set_'+L.aN](L.h);this.J.dk();break;case IPCC.fb.Or:this.aqi(G,L.aN,this.J);break;case IPCC.fb.aeI:this.arh(G,this.J);break;case IPCC.fb.aeA:G['set_'+L.aN](!G['get_'+L.aN]());this.J.dk();break;case IPCC.fb.agb:G.moveToBack();this.J.dk();break;case IPCC.fb.ahB:G.moveBackward();this.J.dk();break;case IPCC.fb.agr:G.moveForward();this.J.dk();break;case IPCC.fb.agJ:G.moveToFront();this.J.dk();break;case IPCC.fb.agZ:G.removeFromPage();this.J.dk();break;default:this.J.auV(L);break;}};IPCC.dN=function(){this.J=false;this.Kj=0;this.ayF=1;this.act=2;this.adD=3;};IPCC.dN.prototype.mB=function(J){this.J=J;this.bW=this.Kj;};IPCC.dN.prototype.ft=function(){this.J=false;};IPCC.dN.prototype.bN=function(){this.bW=this.Kj;};IPCC.dN.prototype.afC=function(L){var aqn=new Date()-this.aqf;if(aqn<750){var eh=this.abO.x-L.windowPoint.x;var eC=this.abO.y-L.windowPoint.y;var gD=eh*eh+eC*eC;if(gD<2500){return true;}}return false;};IPCC.dN.prototype.acW=function(L){this.aqf=new Date();this.abO=new IPCC.Web.UI.Point(L.windowPoint.x,L.windowPoint.y);};IPCC.dN.prototype.Lp=function(L){var ad=L.domEvent.rawEvent;if(ad.touches.length===1){if(this.bW===this.act&&this.afC(L)){this.bW=this.adD;}else{this.bW=this.ayF;}this.acW(L);this.J.hD('kF',L);}else{this.bW=this.Kj;this.J.hD('qg',L);}};IPCC.dN.prototype.Kt=function(L){var ad=L.domEvent.rawEvent;if(ad.touches.length===1){this.J.hD('lc',L);}};IPCC.dN.prototype.Qc=function(L){var ad=L.domEvent.rawEvent;if(ad.touches.length===0){if(this.afC(L)){if(this.bW===this.adD){this.bW=this.Kj;this.J.hD('iZ',L);this.J.hD('vG',L);}else{this.acW(L);this.bW=this.act;this.J.hD('iZ',L);}}else{this.bW=this.Kj;this.J.hD('iZ',L);}}};IPCC.dN.prototype.Gg=function(L){this.J.hD('qg',L);};IPCC.ds=function(aip){this.aip=aip;this.Rm=0;this.Jv=1;this.Ks=2;this.Qr=3;this.Si=4;this.bW=this.Rm;this.J=false;this.sf=0;};IPCC.ds.prototype.mB=function(J){this.J=J;this.bG=J.aW();};IPCC.ds.prototype.ft=function(){this.J=false;};IPCC.ds.prototype.bN=function(){if(this.bW===this.Ks){this.J.aW().hideMagnifier();}this.bW=this.Rm;};IPCC.ds.prototype.Lp=function(L){var ad=L.domEvent.rawEvent;switch(this.bW){case this.Rm:if(ad.touches.length===1){this.atQ(L);}else if(ad.touches.length===2){this.afo(L);}else if(ad.touches.length===3){this.QS(L);}else{this.bN();}break;case this.Jv:if(ad.touches.length===2){this.afo(L);}else if(ad.touches.length===3){this.QS(L);}else{this.bN();}break;case this.Si:if(ad.touches.length!==3){this.bN();}break;case this.Ks:this.bN();break;case this.Qr:if(ad.touches.length===3){this.QS(L);}else if(ad.touches.length!==2){this.bN();}break;}};IPCC.ds.prototype.Kt=function(L){switch(this.bW){case this.Jv:this.sf++;break;case this.Ks:this.ace(L);break;case this.Qr:this.awu(L);break;case this.Si:this.apB(L);break;}};IPCC.ds.prototype.Qc=function(){this.bN();};IPCC.ds.prototype.Gg=function(){this.bN();};IPCC.ds.prototype.atQ=function(L){this.bW=this.Jv;this.sf++;var ayh=this.sf;var K=this;function ats(){if(K.bW===this.Jv&&ayh===K.sf){K.atb(L);}};setTimeout(ats,1000);};IPCC.ds.prototype.atb=function(L){this.J.hD('qg',L);this.ace(L);this.bW=this.Ks;};IPCC.ds.prototype.QS=function(L){var ad=L.domEvent.rawEvent;if(ad.touches.length!==3){this.bN();return;}var ge=ad.touches[0];var cQ={x:ge.screenX,y:ge.screenY};var dq=this.bG.fH();dq.wV();this.Ji=cQ;this.aAP=cQ;this.Vd=dq.transform(cQ);this.bW=this.Si;this.aEg=this.bG.fH();this.afE=true;this.afH=true;};IPCC.ds.prototype.apB=function(L){var ad=L.domEvent.rawEvent;if(ad.touches.length!==3){this.bN();return;}var ge=ad.touches[0];var cQ={x:ge.screenX,y:ge.screenY};var avV=Math.abs(cQ.x-this.Ji.x);var awL=Math.abs(cQ.y-this.Ji.y);if(avV>35){this.afH=false;}if(awL>35){this.afE=false;}if(this.afE){cQ.y=this.Ji.y;}if(this.afH){cQ.x=this.Ji.x;}this.aAP=cQ;var bh=this.bG.fH();var bp=this.J.dS();var bU=this.J.dM();bh.VQ(this.Vd,cQ);bh.hY(bU,bp);this.bG.iC(bh);};IPCC.ds.prototype.aEv=function(){};IPCC.ds.prototype.aiz=function(L){var ad=L.domEvent.rawEvent;if(ad.touches.length!==2){this.bN();return{};}var Pe=ad.touches[0];var PK=ad.touches[1];var eh=Pe.screenX-PK.screenX;var eC=Pe.screenY-PK.screenY;var vN=Math.sqrt(eh*eh+eC*eC);var jC=Math.atan2(eh,eC)*180/Math.PI;var bJ={x:(Pe.screenX+PK.screenX)/2,y:(Pe.screenY+PK.screenY)/2};return{vN:vN,jC:jC,ahl:bJ};};IPCC.ds.prototype.afo=function(L){this.bW=this.Qr;this.aEy=this.aiz(L);this.OB=this.aEy;var dq=this.bG.fH();dq.wV();this.Vd=dq.transform(this.OB.ahl);this.FJ=this.OB.jC;};IPCC.ds.prototype.ace=function(L){var ad=L.domEvent.rawEvent;var ge=ad.touches[0];var cQ={x:ge.screenX,y:ge.screenY};this.bG.showMagnifier(cQ);};IPCC.ds.prototype.awu=function(L){var vD=this.aiz(L);var dG=vD.vN/this.OB.vN;var bh=this.bG.fH();var bp=this.J.dS();var bU=this.J.dM();bh.scale(dG,dG);var CK=this.FJ-vD.jC;var agA=this.FJ-vD.jC-360;var ahe=this.FJ-vD.jC+360;if(Math.abs(CK)>Math.abs(agA)){CK=agA;}if(Math.abs(CK)>Math.abs(ahe)){CK=ahe;}if(CK< -40){bh.rotate(-90);this.FJ=vD.jC;}else if(CK>40){bh.rotate(90);this.FJ=vD.jC;}bh.VQ(this.Vd,vD.ahl);bh.hY(bU,bp);this.bG.iC(bh);this.OB=vD;};IPCC.ds.prototype.aEx=function(L){var bh=this.bG.fH();var bp=this.J.dS();var bU=this.J.dM();bh.Vx(IPCC.Web.UI.FitType.FullImage,bU,bp);bh.hY(bU,bp);this.bG.iC(bh);};IPCC.ds.prototype.nu=function(){this.bN();};IPCC.mb=function(){this.aX=false;this.J=false;};IPCC.mb.prototype.mB=function(J){J.aW().set_cursor(IPCC.bz.Text);this.J=J;};IPCC.mb.prototype.ft=function(){this.J=false;};IPCC.mb.prototype.bN=function(){if(this.aX){this.J.aW().ZR();this.J.aW().set_cursor(this.jv);this.aX=false;}};IPCC.mb.prototype.qg=function(){this.bN();};IPCC.mb.prototype.kF=function(L){if(L.domEvent.button===0){var bG=this.J.aW();this.jv=bG.get_cursor();bG.set_cursor(IPCC.bz.Text);this.aX=true;var cf=this.J.Ia(L.constrainedImagePoint);this.J.gC=cf;if(!cf){return;}this.J.Ah(cf);bG.Ah(cf);bG.wd(undefined);this.J.dk();}};IPCC.mb.prototype.lc=function(L){var J=this.J;J.aDe=true;if(L.domEvent.button!==0){this.bN();}if(this.aX){var bG=J.aW();var cf=J.Ia(L.constrainedImagePoint);var gu=bG.CR();if(gu===cf){return;}J.wd(cf);J.dk();}};IPCC.mb.prototype.iZ=function(L){if(L.domEvent.button===0){this.aX=false;}var J=this.J;var bG=this.J.aW();var cI=bG.iz.length;if(cI===0){this.bN();return;}var aq=bG.iz[0].cf;var dn=bG.iz[cI-1].cf;if(J.FL===true){if(aq>dn){aq=dn;}var H;var jO=IPCC.FD();this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.G.aq=aq;this.G.cz=J.CF();this.G.dA=cI;this.G.set_fillColor(J.ql);this.G.kI='y';this.G.aa=jO;for(H=0;H<bG.iz.length;H++){var aU=bG.iz[H];var zB=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var yB=aU.G.di();zB.set_fillColor(J.ql);zB.set_opacity(aU.G.get_opacity());zB.set_rectangle(yB);zB.aa=jO;zB.kI='y';this.J.eP().addMark(zB);}bG.iz=[];if(cI>0){this.J.eP().addMark(this.G);}J.mT().removeAllMarks();}cI=bG.iz.length;var YY=new IPCC.Web.UI.TextSelectedEventArgs();YY.text=J.CF();J.bB('selectTextMouseToolCompleted',YY);J.dk();this.bN();};IPCC.mb.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.mb.prototype.nu=function(){this.bN();};IPCC.avb=function(rn){var bG;var ap;var ll;var bp;var bL=this;var gF;var alc='';var mK=[];var bj=new IPCC.Web.UI.iS();var aH;var ff;var nT=null;var HB=false;var vM=false;var wC;var afi=IPCC.Web.UI.ImGearArtDataServices.None;var IC=false;var va='';var pG;var aiF=false;var abn=false;var wf=0;var sN=true;var iP;var en;var tC=false;var ahG=true,pf=false;var ahL=false;var AO=null;var LJ;this._debug=new IPCC.au("ViewerModel",function(){return gF;},this);this.KN=0.0;this.EV=function(G){var gw=this.lN().igElements,fw=null;if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){fw=gw.gI;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fw=gw.cU;}else if(G.get_type()===IPCC.Web.UI.MarkType.Text){fw=gw.fw;}return fw;};this.aAn=function(h){alc=h;};this.ama=function(){return alc;};this.aAD=function(h){gF=h;};this.aCL=function(h){LJ=h;};this.aox=function(){return LJ;};this.ce=function(auW){this.oh(false);var H;for(H=mK.length-1;H>=0;H--){if(mK[H]instanceof IPCC.jQ){mK[H].bN(true);}else{mK[H].bN();}if(mK[H]instanceof IPCC.nh){mK[H].ft(true);}else{mK[H].ft();}}mK=auW;bG.set_cursor(IPCC.bz.Default);for(H=0;H<mK.length;H++){mK[H].mB(this);}};this.aCZ=function(){var H;for(H=0;H<mK.length;H++){mK[H].bN();}};this.hD=function(aeB,L){var H;for(H=0;H<mK.length;H++){if(L&&L.ahE&&L.ahE()){return;}if(mK[H][aeB]){mK[H][aeB](L);}}};this.axk=function(ju,bP){switch(ju){case 'touchstart':ll.aaj&&ll.aaj(bP);break;case 'touchmove':ll.abT&&ll.abT(bP);break;case 'touchend':ll.abB&&ll.abB(bP);break;case 'doubleTap':ll.ZW&&ll.ZW(bP);break;}};this.kX=function(R){bj.addHandler('propertyChanged',R);};this.nl=function(R){bj.removeHandler('propertyChanged',R);};this.add_mouseDown=function(R){bj.addHandler('mouseDown',R);};this.remove_mouseDown=function(R){bj.removeHandler('mouseDown',R);};this.add_mouseMove=function(R){bj.addHandler('mouseMove',R);};this.remove_mouseMove=function(R){bj.removeHandler('mouseMove',R);};this.add_mouseUp=function(R){bj.addHandler('mouseUp',R);};this.remove_mouseUp=function(R){bj.removeHandler('mouseUp',R);};this.add_contextMenu=function(R){bj.addHandler('contextMenu',R);};this.remove_contextMenu=function(R){bj.removeHandler('contextMenu',R);};this.aBa=function(R){bj.addHandler('contextMenuCommand',R);};this.aGr=function(R){bj.removeHandler('contextMenuCommand',R);};this.add_mouseWheel=function(R){bj.addHandler('mouseWheel',R);};this.remove_mouseWheel=function(R){bj.removeHandler('mouseWheel',R);};this.add_mouseOut=function(R){bj.addHandler('mouseOut',R);};this.remove_mouseOut=function(R){bj.removeHandler('mouseOut',R);};this.azO=function(R){bj.addHandler('resize',R);};this.aFf=function(R){bj.removeHandler('resize',R);};this.azR=function(R){bj.addHandler('userModifiedViewState',R);};this.aGz=function(R){bj.removeHandler('userModifiedViewState',R);};this.add_scaleChanged=function(R){bj.addHandler('scaleChanged',R);};this.remove_scaleChanged=function(R){bj.removeHandler('scaleChanged',R);};this.add_markAdded=function(R){bj.addHandler('markAdded',R);};this.remove_markAdded=function(R){bj.removeHandler('markAdded',R);};this.add_markCreating=function(R){bj.addHandler('markCreating',R);};this.remove_markCreating=function(R){bj.removeHandler('markCreating',R);};this.add_markChanged=function(R){bj.addHandler('markChanged',R);};this.remove_markChanged=function(R){bj.removeHandler('markChanged',R);};this.add_inProgressMarkChanged=function(R){bj.addHandler('inProgressMarkChanged',R);};this.remove_inProgressMarkChanged=function(R){bj.removeHandler('inProgressMarkChanged',R);};this.add_markRemoved=function(R){bj.addHandler('markRemoved',R);};this.remove_markRemoved=function(R){bj.removeHandler('markRemoved',R);};this.add_markReordered=function(R){bj.addHandler('markReordered',R);};this.remove_markReordered=function(R){bj.removeHandler('markReordered',R);};this.add_marksLoaded=function(R){bj.addHandler('marksLoaded',R);};this.remove_marksLoaded=function(R){bj.removeHandler('marksLoaded',R);};this.add_marksSaved=function(R){bj.addHandler('marksSaved',R);};this.remove_marksSaved=function(R){bj.removeHandler('marksSaved',R);};this.add_markSelectionChanged=function(R){bj.addHandler('markSelectionChanged',R);};this.remove_markSelectionChanged=function(R){bj.removeHandler('markSelectionChanged',R);};this.add_markTextSelectionChanged=function(R){bj.addHandler('markTextSelectionChanged',R);};this.remove_markTextSelectionChanged=function(R){bj.removeHandler('markTextSelectionChanged',R);};this.add_pageOpenFailed=function(R){bj.addHandler('pageOpenFailed',R);};this.add_pageDisplayed=function(R){bj.addHandler('pageDisplayed',R);};this.remove_pageOpenFailed=function(R){bj.removeHandler('pageOpenFailed',R);};this.add_textPageReady=function(R){bj.addHandler('textPageReady',R);};this.remove_textPageReady=function(R){bj.removeHandler('textPageReady',R);};this.add_selectTextMouseToolCompleted=function(R){bj.addHandler('selectTextMouseToolCompleted',R);};this.remove_selectTextMouseToolCompleted=function(R){bj.removeHandler('selectTextMouseToolCompleted',R);};this.add_exceptionThrown=function(R){bj.da('exceptionThrown',R);};this.remove_exceptionThrown=function(R){bj.cF('exceptionThrown',R);};this.add_textExtractionFailed=function(R){bj.da('textExtractionFailed',R);};this.remove_textExtractionFailed=function(R){bj.cF('textExtractionFailed',R);};this.bY=function(cw,vH){var R=bj.getHandler("propertyChanged");if(R){R(this,new IPCC.rC(cw,vH));}};this.lN=function(){var _parent=document.getElementById(gF);return _parent;};this.aW=function(){return bG;};this.aGm=function(){return bj;};function Ew(ay,L){IC=true;L.pageIndex=bL.av;bL.bB('markAdded',L);bL.hD('kC',L);};function Dq(ay,L){IC=true;L.pageIndex=bL.av;bL.bB('markChanged',L);bL.hD('qD',L);};function aes(ay,L){L=new IPCC.Web.UI.MarkEventArgs();L.mark=nT;L.pageIndex=bL.av;bL.bB('inProgressMarkChanged',L);bL.hD('_onInProgressMarkChanged',L);};function Eg(ay,L){IC=true;L.pageIndex=bL.av;bL.bB('markRemoved',L);bL.hD('Aj',L);};function avF(ay,L){bL.bB('textPageReady',L);};function auT(ay,L){bL.bB('textExtractionFailed',L);};function Ck(ay,L){IC=true;L.pageIndex=bL.av;bL.bB('markReordered',L);bL.hD('YF',L);};function Dw(ay,L){L.pageIndex=bL.av;bL.bB('marksLoaded',L);bL.hD('YX',L);};function BW(ay,L){L.pageIndex=bL.av;bL.bB('markSelectionChanged',L);bL.hD('CP',L);};function adg(ay,L){L.pageIndex=bL.av;bL.bB('markTextSelectionChanged',L);};this.atm=function(ay,L){this.hD('_onTextMarkEditCompleted',L);};function EJ(ay,L){L.pageIndex=bL.av;bL.bB('propertyChanged',L);};this.mk=function(h){if(h===aH){return;}if(aH){aH.remove_markAdded(Ew);aH.remove_markChanged(Dq);aH.remove_markRemoved(Eg);aH.remove_markReordered(Ck);aH.remove_marksLoaded(Dw);aH.remove_markSelectionChanged(BW);aH.nl(EJ);aH.Ee(true);}aH=h;if(aH){aH.add_markAdded(Ew);aH.add_markChanged(Dq);aH.add_markRemoved(Eg);aH.add_markReordered(Ck);aH.add_marksLoaded(Dw);aH.add_markSelectionChanged(BW);aH.add_markTextSelectionChanged(adg);aH.kX(EJ);}this.bY('artPage');};this.eP=function(){return aH;};this.Fv=function(h){if(h===ff){return;}if(ff){ff.remove_markAdded(Ew);ff.remove_markChanged(Dq);ff.remove_markRemoved(Eg);ff.remove_markReordered(Ck);ff.remove_marksLoaded(Dw);ff.remove_markSelectionChanged(BW);ff.nl(EJ);ff.Ee(true);}ff=h;if(ff){ff.add_markAdded(Ew);ff.add_markChanged(Dq);ff.add_markRemoved(Eg);ff.add_markReordered(Ck);ff.add_marksLoaded(Dw);ff.add_markSelectionChanged(BW);ff.add_markTextSelectionChanged(adg);ff.kX(EJ);}this.bY('documentArtPage');};this.Nx=function(){return ff;};this.mT=function(){return en;};this.BO=function(h){if(h===en){return;}if(en){en.remove_markAdded(Ew);en.remove_markChanged(Dq);en.remove_markRemoved(Eg);en.remove_markReordered(Ck);en.remove_marksLoaded(Dw);en.remove_markSelectionChanged(BW);en.nl(EJ);}en=h;if(en){en.add_markAdded(Ew);en.add_markChanged(Dq);en.add_markRemoved(Eg);en.add_markReordered(Ck);en.add_marksLoaded(Dw);en.add_markSelectionChanged(BW);en.kX(EJ);}this.bY('transientArtPage');};var gf;this.BB=function(){if(!gf){if(IPCC.Web.UI.Mark){gf=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gf.set_opacity(100);gf.set_fillColor('#3366CC');gf.set_fillVisible(true);}}return gf;};this.YL=function(h){afi=h;this.bY('artServiceOption');};this.Sx=function(){return afi;};this.po=function(G,pn){if(nT===G){return;}if(nT){nT.remove_propertyChanged(aes);}if(G&& !nT){var L=new IPCC.Web.UI.MarkEventArgs();L.mark=pn?pn:G;L.pageIndex=this.av;this.bB('markCreating',L);}nT=G;if(nT){nT.add_propertyChanged(aes);}this.bY('inProgressMark');};this.aoO=function(){return nT;};this.ze=function(h){if(h===ap){return;}ap=h;this.vn=false;bG.oy();this.bY('image');};this.dM=function(){return ap;};this.adO=function(h){if(h===HB){return;}HB=h;this.bY('HB');};this.agY=function(){return HB;};this.Kc=function(){var wC=this.En();var Yg=this.EV(wC);var arH=Yg.value;setTimeout(function(){Yg.setSelectionRange(0,arH.length);},1);};this.wt=function(G){this.oh(false);ll.avG(G);vM=true;wC=G;this.bY('vM');};this.afA=function(aq,cI){if(this.kY()&&this.dC().nA()===true){var gR=this.dC().gm();var H=aq;for(;H<aq+cI;H++){var eo=gR.kk(H);var uK='#3366CC';var Fh='#3366CC';en.RZ(eo.bO,Fh,uK,false,H);}}};this.aEh=function(bo){var H;try{var aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gf){gf=bL.BB();}for(H in gf){if(gf.hasOwnProperty(H)){aw[H]=gf[H];}}aw.set_rectangle({x:bo.x,y:bo.y,width:bo.width,height:bo.height});bL.po(aw);en.addMark(aw);return aw;}catch(arr){var atK=arr.message;window.console.log(atK);}};this.Ia=function(db){var GS;var gR;var WC;GS=bL.dC();gR=bL.dC().gm();function aCz(SK){var rU=SK.uZ();if((db.x>=rU.x-10&&db.x<=rU.x+rU.width+1)&&(db.y>=rU.y-1&&db.y<=rU.y+rU.height+1)){return true;}rU=undefined;};if(!WC){for(var H=0;H<gR.dV();H++){if(aCz(gR.kk(H))){WC=H;break;}}}return WC;};this.aDe=false;this.Ah=function(cf){if(cf===undefined){return;}if(bL.kY()&&bL.dC().nA()===true){var Hw=bL.dC().gm().dV();IPCC.aS.na(cf,'textIndex',0,Hw);bL.aW().Ah(cf);bL.mT().CQ(function(G){if(G.yX!==true&&G.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){bL.mT().tZ(G);}});if(bL.AN()===true){bL.dk();}}};this.Ro=function(){var Bl=bL.aW().get_transientHighlightMarks();while(Bl.length>0){bL.mT().removeMark(Bl.pop());}};this.Og=function(tQ,cI){if(bL.kY()&&bL.dC().nA()===true){var H=tQ;var gR=this.dC().gm();var dn=tQ+cI;if(!gf){gf=bL.BB();}var Bl=bL.aW().get_transientHighlightMarks();for(;H<dn;H++){var eo=gR.kk(H);Bl.push(en.aqy(eo.bO,gf,H));}}};this.aEd=function(aDV,cI){var bG=bL.aW();for(var bF=cI-1;bF>cI;bF--){var aU=bG.iz[bF];en.removeMark(aU.G);}};this.wd=function(cf){if(cf===undefined){return;}var eo;var bG=bL.aW();var gu=bG.CR();var uK='#3366CC';var Fh='#3366CC';var cA=100;if(!gf){gf=bL.BB();}cA=gf.get_opacity();if(!cA){cA=100;}uK=gf.get_fillColor();if(uK===undefined){uK='#3366CC';}var gR=bL.dC().gm();if(gu===undefined){eo=gR.kk(cf);var G=en.RZ(eo.bO,Fh,uK,false,cA,cf);bG.wd(cf,G,eo.jY);return;}var bF;function alr(bV,apZ){for(bF=bG.iz.length-1;bF>=0;bF--){var aU=bG.iz[bF];if(aU.cf===bV){bG.iz.splice(bF,1);en.removeMark(aU.G);bG.azw(apZ);bG.aCN(bV);return bF;}}return-1;};function Ld(bV){eo=gR.kk(bV);var aer=en.RZ(eo.bO,Fh,uK,false,cA,bV);if(bG.wd(bV,aer,eo.jY)===false){en.removeMark(aer);}};var Jp=bG.agK();var H;if(cf>gu){for(H=gu;H<=cf;H++){if(H===cf){if(H<Jp){continue;}Ld(H);}else if(H>=Jp){if(H===gu){continue;}Ld(H);}else{alr(H,cf);}}}else if(cf<gu){for(H=gu;H>=cf;H--){if(H===cf){if(H>=Jp){continue;}Ld(H);}else if(H<Jp){if(H===gu){continue;}Ld(H);}else{alr(H,cf);}}}};this.CF=function(){var ado="";try{var bG=bL.aW();if(bL.aW().FK()){var asZ=bL.dC().gm();if(bG.iz.length>0){var Bn=[];for(var H=0;H<bG.iz.length;H++){Bn.push(bG.iz[H].cf);}if(Bn[0]>Bn[1]){Bn.reverse();}for(H=0;H<Bn.length;H++){ado+=asZ.kk(Bn[H]).amG();}}}return ado;}catch(e){window.console.log(e.message);}};this.oh=function(aCW){if(vM){if(aCW){ll.aCV();}vM=false;wC=null;this.atm();this.bY('vM');bL.dk();}};this.agQ=function(){return vM;};this.En=function(){return wC;};this.CX=function(){var wC=this.En();if(!wC){return null;}var Tc=wC.hT();if(Tc===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(Tc===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(Tc===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.adQ=function(h){abn=h;};this.Wh=function(){return abn;};this.ZI=function(h){AO=h;};this.amo=function(){return AO;};this.aaI=function(h){if(h===wf){return;}wf=h;this.bY('wf');};this.ZF=function(){return wf;};this.Ee=function(h){if(aH){aH.Ee(h);}};this.NS=function(){if(aH){return aH.NS();}return true;};this.aEE=function(aDh){var bp=ll.apQ(this.lN());this.aBj(bp);};this.aBj=function(h){if(h===bp){return;}bp=h;this.bY('windowSpace');};this.dS=function(){return bp;};this.dk=function(){ll.dk(ap,bG,bp);};this.Ib=function(){if(this.qc()===false){var lg=bG.fH();var J=this;var om=lg.nN(ap);var cC=J.lN();var dE=cC.igElements;var ba=dE.oW;var Ez=Math.max(0,-om.x);var DP=Math.max(0,-om.y);var mc=Math.max(0,om.x);var mw=Math.max(0,om.y);var fa=bG.fH();fa.mj(Ez-mc,DP-mw);ll.afe(ba,bp,lg,fa);}};this.FT=function(h){pG=h;};this.uJ=function(){return pG;};this.dC=function(){return iP.dC();};var mp=0;this.lC=function(){return iP;};this.Ev=function(h){if(h===this.lC()){return;}iP=h;if(iP){iP.zN(avF);iP.zr(auT);}};this.kY=function(){return sN;};this.EW=function(h){sN=h;this.bY('textRequired');};this.yp=function(){return tC;};this.FY=function(h){if(tC===h){return;}tC=h;this.bY('requireRequestsOptimize');};this.AN=function(){return ahG;};this.Zb=function(h){ahG=h;this.bY('autoUpdate');};var pM=false;this.lU=function(){return pM;};this.oP=function(h){if(typeof h!=="boolean"){return;}if(h===pM){return;}pM=h;if(aH){var adB=false;aH.forEachMark(function(G){if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){adB=true;}});if(adB===true){aH.oP(pM);}}};this.kS=function(){return mp;};this.wy=function(h){if(mp===h){return;}if(isNaN(h)){return;}mp=h;this.bY('serviceResponseTimeout');};var op='';this.Wq=function(ek,aM){if(ek!==''){ek='/'+ek;}aM=aM||'';if(aM===null||aM===''){if(ek==='/Attributes'){if(/^[\x00-\x7F]*$/.test(ap.get_identifier())){return op+'/Page/q/'+ap.av.toString()+ek+'?DocumentID=u'+encodeURIComponent(ap.get_identifier());}else{return op+'/Page/q/'+ap.av.toString()+ek+'?DocumentID=e'+ap.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(ap.get_identifier())){return op+'/Page/q/'+ap.av.toString()+ek+'?DocumentID=u'+encodeURIComponent(ap.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return op+'/Page/q/'+ap.av.toString()+ek+'?DocumentID=e'+ap.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(ap.get_identifier())){return op+'/Page/q/'+ap.av.toString()+ek+'?DocumentID=u'+encodeURIComponent(ap.get_identifier())+'&'+aM+'&svgCheck=true';}else{return op+'/Page/q/'+ap.av.toString()+ek+'?DocumentID=e'+ap.get_encodedIdentifier()+'&'+aM+'&svgCheck=true';}}};this.apq=function(ek,aM){ek=ek||'Art';aM=aM||'';if(aM===null||aM===''){if(ek==='Art'){return op+'/Page/q/'+ap.av.toString()+'/'+ek+'?DocumentID=e'+ap.get_encodedIdentifier();}}else{return op+'/Page/q/'+ap.av.toString()+'/'+ek+'?DocumentID=e'+ap.get_encodedIdentifier()+'&'+aM;}};this.We=function(Bh){if(IC===false){if(Bh){Bh();}return;}IPCC.V.mR.fB({method:'POST',url:this.apq('Art'),headers:{'Content-Type':'application/json'},body:aH.saveToJson()}).then(function(){if(Bh){Bh();}});};this.tK=function(){return op;};this.YK=function(h){op=h;this.bY('imageHandlerUrl');};this.qc=function(){return aiF;};this.MY=function(h){aiF=h;};this.aoi=function(){return ahL;};this.adI=function(h){ahL=h;};this.nx=function(){return va;};this.uF=function(h){va=h;va.tabIndex= -1;};this.iH=function(){return pf;};this.nd=function(h){if(typeof h!=="boolean"){return;}if(h===pf){return;}pf=h;};this.auh=function(L){if(vM){this.oh(true);}else{this.bB('mouseDown',L);this.hD('kF',L);}};this.aul=function(L){this.bB('mouseMove',L);this.hD('lc',L);};this.auR=function(L){this.bB('mouseUp',L);this.hD('iZ',L);};this.aup=function(L){this.bB('mouseWheel',L);this.hD('nu',L);};this.atJ=function(L){this.bB('mouseDoubleClick',L);this.hD('vG',L);};this.avg=function(L){this.bB('contextMenu',L);this.hD('RJ',L);};this.auV=function(L){this.bB('contextMenuCommand',L);};this.auY=function(L){this.bB('mouseOut',L);this.hD('oB',L);};this.auq=function(L){this.bB('touchStart',L);this.hD('kF',L);};this.atU=function(L){this.bB('touchMove',L);this.hD('lc',L);};this.atR=function(L){this.bB('touchEnd',L);this.hD('iZ',L);};this.auI=function(L){this.bB('touchCancel',L);this.hD('Gg',L);};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(bL,L);}};var ajB=function(J,rn){bG=new IPCC.auL();function zT(ay,L){bL.bB('propertyChanged',L);};bG.kX(zT);ll=new IPCC.fs(J,rn);if(IPCC.dJ){ll.qG=new IPCC.dJ.cG(J);ll.arL=new IPCC.dJ.cG(J);}};if(rn===false){ajB(this,false);}else{ajB(this,true);}return this;};IPCC.yu={JK:function(){var ud=IPCC.yu;if(ud.wT===null){
/*@cc_on@if(@_jscript)ud.wT=document.documentMode>8;@else@*/ ud.wT=true;/*@end@*/}return ud.wT;},wT:null};IPCC.bz={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fk:function(ab){switch(ab){case IPCC.bz.Default:case IPCC.bz.Magnifier:case IPCC.bz.None:case IPCC.bz.RunMarks:return 'auto';case IPCC.bz.Arrow:case IPCC.bz.EditMarks:return 'default';case IPCC.bz.Crosshair:case IPCC.bz.RectangleZoom:case IPCC.bz.AddRectangleMark:case IPCC.bz.AddEllipseMark:case IPCC.bz.AddLineMark:case IPCC.bz.AddFreehandLineMark:case IPCC.bz.AddPolygonMark:case IPCC.bz.AddPolylineMark:case IPCC.bz.AddTextMark:case IPCC.bz.AddRectangleRedactionMark:case IPCC.bz.AddImageStampMark:case IPCC.bz.AddStampMark:return 'crosshair';case IPCC.bz.Link:return 'pointer';case IPCC.bz.HandOpen:case IPCC.bz.HandClosed:case IPCC.bz.Move:return 'move';case IPCC.bz.ResizeN:return 'n-resize';case IPCC.bz.ResizeE:return 'e-resize';case IPCC.bz.ResizeS:return 's-resize';case IPCC.bz.ResizeW:return 'w-resize';case IPCC.bz.ResizeNW:return 'nw-resize';case IPCC.bz.ResizeNE:return 'ne-resize';case IPCC.bz.ResizeSE:return 'se-resize';case IPCC.bz.ResizeSW:return 'sw-resize';case IPCC.bz.Text:return 'text';}return 'auto';}};IPCC.auL=function(){var qZ=0;var pH=1;var ke=1;var yo=false;var dq=new IPCC.eU();var BI=false;var tu;var qX;var JE=false;var Bd=new IPCC.PB(200,150,96,96);var ts={x:0,y:0};var Mt=3;var PU=0,OS=0;var gs=0.2;var st=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var BM=new IPCC.eU();var Hj=0;var Hm=0;var BP=false;var UB;this.iz=[];var WE=IPCC.Web.UI.ScrollBars.Auto;var Bl=[];this.get_transientHighlightMarks=function(){return Bl;};this.get_scrollBars=function(){return WE;};this.get_overflow=function(){switch(WE){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(h){WE=h;this.bY('scrollBars');};var bj=new IPCC.Web.UI.iS();this.kX=function(R){bj.addHandler('propertyChanged',R);};this.nl=function(R){bj.removeHandler('propertyChanged',R);};this.bY=function(cw){var R=bj.getHandler('propertyChanged');if(R){R(this,new IPCC.rC(cw));}};var onSelectionChanged=function(bG){var L={};L.selectionIsVisible=BI;L.selectionRectangle=bG.xr();bG.bY('selection');};this.oy=function(){tu={x:0,y:0};qX={x:0,y:0};if(!BI){return;}BI=false;onSelectionChanged(this);};this.showSelection=function(dh){tu.x=dh.x;tu.y=dh.y;qX.x=dh.x+dh.width;qX.y=dh.y+dh.height;BI=true;onSelectionChanged(this);};this.CN=function(db){tu.x=db.x;tu.y=db.y;qX.x=db.x;qX.y=db.y;BI=true;onSelectionChanged(this);};this.xY=function(db){qX.x=db.x;qX.y=db.y;onSelectionChanged(this);};this.xA=function(){return BI;};this.xr=function(){var C=new IPCC.Web.UI.Rectangle(Math.min(tu.x,qX.x),Math.min(tu.y,qX.y),0,0);C.width=Math.max(tu.x,qX.x)-C.x;C.height=Math.max(tu.y,qX.y)-C.y;return C;};var HJ=function(){if(!JE){BM.aBN();return;}BM.Pn(dq);BM.mj(-ts.x,-ts.y);BM.scale(Mt,Mt);BM.mj(Bd.width/2,Bd.height/2);};this.hideMagnifier=function(){JE=false;HJ();this.bY('magnifierIsVisible');};this.showMagnifier=function(cQ){ts.x=cQ.x;ts.y=cQ.y;JE=true;HJ();this.bY('magnifierWindowPosition');this.bY('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return JE;};this.get_magnifierWindowPosition=function(){return{x:ts.x,y:ts.y};};this.get_magnifierMagnification=function(){return Mt;};this.set_magnifierMagnification=function(h){Mt=h;HJ();this.bY('magnifierMagnification');};this.Nv=function(){return PU;};this.Zk=function(h){PU=h;this.bY('magnifierXOffset');};this.Oa=function(){return OS;};this.Zc=function(h){OS=h;this.bY('magnifierYOffset');};this.wI=function(){return{width:Bd.width,height:Bd.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Bd.width=newMagnifierSize.width;Bd.height=newMagnifierSize.height;HJ();this.bY('magnifierWindowSize');};this.anN=function(){return BM.clone();};this.fH=function(){return dq.clone();};this.Yv=function(){return gs;};this.Yt=function(h){gs=h;this.bY('markHandleSize');};this.zR=function(){return st;};this.Dn=function(h){st=h;this.bY('markHandleMode');};this.iC=function(h){if(h===dq||h.atX(dq)){return;}if(!h.agT()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dq.Pn(h);HJ();this.bY('displayedPageRectangle');};var Yr='0';this.get_presentationQuality=function(){return Yr;};this.set_presentationQuality=function(h){Yr=h;this.bY('presentationQuality');};this.aod=function(){return pH;};this.DH=function(h){pH=h;};this.anc=function(){return qZ;};this.CO=function(h){qZ=h;};this.alY=function(){return ke;};this.Ci=function(h){if(h!==ke){yo=true;}ke=h;};this.aAk=function(h){yo=h;};this.agP=function(){return yo;};var ab=IPCC.bz.Default;this.get_cursor=function(){return ab;};this.set_cursor=function(h){if(ab!==h&&ab!== -1){ab=h;this.bY('cursor');}};var Pp=IPCC.bz.Default;this.Jy=function(){if(Pp===IPCC.bz.Default){return ab;}return Pp;};this.Df=function(h){if(Pp!==h){Pp=h;this.bY('markCursor');}};this.Ah=function(cf){Hj=cf;BP=false;Hm=0;};this.Og=function(tQ,cI){if(tQ!==Hj){Hj=tQ;}Hm=cI;BP=true;};this.ZR=function(){if(BP===true){for(var H=0;H<this.iz.length;H++){this.iz[H].G.set_visible(false);}BP=false;}};this.FK=function(){return BP;};this.wd=function(cf,G,jY){UB=cf;if(cf!==undefined){if(this.iz.length>0&&this.iz[this.iz.length-1].cf===cf){return false;}this.iz.push({cf:cf,G:G,jY:jY});BP=true;Hm++;}else{this.iz=[];Hm=0;}return true;};this.CR=function(){return UB;};this.azw=function(h){if(h===undefined){return;}UB=h;};var aef;this.aFU=function(){return aef;};this.aCN=function(h){if(h===undefined){return;}aef=h;};this.agK=function(){return Hj;};this.aFO=function(){return Hj+Hm;};this.CC=function(){return this.iz.length;};this.oy();this.hideMagnifier();return this;};IPCC.uk=function(){this.fI=[];return this;};IPCC.uk.prototype.azk=function(dq,dh){var dG=dq.rk();var H,lF,oa;var cA=1;var Lg;var wJ=[];var uG=[];var vR=[];var Av,Ok;oa=this.fI.length;for(H=0;H<this.fI.length;H++){if(this.fI[H].dG>dG){oa=H;break;}}lF=oa-1;if(lF<0){lF=0;}if(oa>=this.fI.length){oa=this.fI.length-1;}if(lF!==oa){Lg=(dG-this.fI[lF].dG)/(this.fI[oa].dG-this.fI[lF].dG);cA=Lg*1.0;if(cA>=0.15){cA=1;lF=oa;}if(cA<=0.15){cA=1;oa=lF;}}uG=this.fI[lF].ND(dh);vR=this.fI[oa].ND(dh);var MR=function(mt){var H;for(H=0;H<mt.length;H++){mt[H].level.pool.QU(mt[H]);}};var XT=function(mt){var aec=[];var H;for(H=0;H<mt.length;H++){if(!mt[H].get_isLockedAndLoaded()){aec.push(mt[H]);}}return aec;};var aiZ=function(mt){var aeH=[];var H;for(H=0;H<mt.length;H++){if(mt[H].get_isLockedAndLoaded()){aeH.push(mt[H]);}}return aeH;};if(lF>0&&lF===oa&&this.fI[oa].tiles.length>1){lF=oa-1;uG=this.fI[lF].ND(dh);}MR(uG);wJ=XT(uG);if(wJ.length>0){for(Av=lF-1;Av>=0;Av--){Ok=this.fI[Av].ND(dh);MR(Ok);if(XT(Ok).length<1){break;}}if(Av<0){uG=aiZ(uG);}else{lF=Av;uG=Ok;cA=1;}}else{MR(vR);wJ=XT(vR);}MR(vR);vR=aiZ(vR);if(wJ.length>3){wJ.splice(3,wJ.length-3);}function asc(){var aV;function UK(Dr){var aV='',H,bm;if(Dr.length<1){return '';}bm=Dr[0].level;aV+='level '+bm.id.toString()+' - ';for(H=0;H<Dr.length;H++){if(H>0){aV+=', ';}aV+='('+(Dr[H].x/bm.mF).toString()+','+(Dr[H].y/bm.zv).toString()+')';if(Dr[H].get_isLockedAndLoaded()){aV+='*';}}return aV;};aV='tilesToRequest: '+UK(wJ)+'<br/>';aV+='opaqueTiles: '+UK(uG)+'<br/>';aV+='translucentTiles: '+UK(vR)+'<br/>';aV+='opacity: '+cA.toString()+'<br/>';aV+='amq: '+dG.toString()+'<br/>';aV+='dq: '+dq.toString()+'<br/>';return aV;};return{opaqueTiles:uG,translucentTiles:vR,opacity:cA,tilesToRequest:wJ,toString:asc,amq:dG,dq:dq.toString()};};IPCC.uk.prototype.awg=function(nL){var Eh=[];var sL=[];var H,j;var bm,tile;for(H=0;H<this.fI.length;H++){bm=this.fI[H];for(j=0;j<bm.tiles.length;j++){tile=bm.tiles[j];if(tile.poolItem!==undefined){Eh.push(tile);}}}var aiG=function(UO,akE){var H,j,Uq,VH;for(H=0;H<akE.length;H++){Uq=akE[H];VH=true;for(j=0;j<UO.length;j++){if(Uq===UO[j]){VH=false;break;}}if(VH){UO.push(Uq);}}};sL=nL.tilesToRequest.concat();aiG(sL,nL.opaqueTiles);aiG(sL,nL.translucentTiles);for(H=Eh.length-1;H>=0;H--){var anl=Eh[H];for(j=0;j<sL.length;j++){if(sL[j]===anl){Eh.splice(H,1);break;}}}for(H=0;H<Eh.length;H++){Eh[H].unlock();}for(H=0;H<sL.length;H++){sL[H].relock();}for(H=0;H<sL.length;H++){if(sL[H].poolItem===undefined){sL[H].lock();}}};IPCC.uk.prototype.unlockAllItems=function(){var H,j,bm;for(H=0;H<this.fI.length;H++){bm=this.fI[H];for(j=0;j<bm.tiles.length;j++){if(bm.tiles[j].poolItem!==undefined){bm.pool.aaH(bm.tiles[j]);}}}};IPCC.uk.prototype.aFX=function(){var H;for(H=0;H<this.fI.length;H++){this.fI[H].pool.aqo();}};IPCC.uk.prototype.toString=function(){var aV='',H,j,bm;for(H=0;H<this.fI.length;H++){bm=this.fI[H];aV+='Level '+H.toString()+':   scaleFactor='+bm.dG.toString()+'  image='+bm.width.toString()+'x'+bm.height.toString()+'  tile='+bm.mF.toString()+'x'+bm.zv.toString()+'\n';for(j=0;j<bm.tiles.length;j++){if(j>0){aV+=', ';}aV+='('+bm.tiles[j].x.toString()+', '+bm.tiles[j].y.toString()+')';}aV+='\n';}return aV;};IPCC.uk.prototype.expandTile=function(fm,XJ,YH,abx,abR,bm){fm.x=IPCC.V.NM(XJ-fm.yH,0,XJ,XJ-fm.yH);fm.y=IPCC.V.NM(YH-fm.wE,0,YH,YH-fm.wE);fm.bA=IPCC.V.OJ(abx+(2*fm.yH),bm.width,abx);fm.ao=IPCC.V.OJ(abR+(2*fm.wE),bm.height,abR);if(fm.x+fm.bA>bm.width){fm.x=fm.x-fm.yH;fm.bA=bm.width-fm.x;fm.yH=0;}if(fm.y+fm.ao>bm.height){fm.y=fm.y-fm.wE;fm.wE=0;fm.ao=bm.height-fm.y;}return fm;};IPCC.uk.prototype.createPyramid=function(ll,J){var avl=6000000;var afU=5000;var mF=1024;var axa=mF*mF*3*150;var adn=0.5;var atV=2;var ap=J.dM();var yr=ap.width*ap.height*3;var yK;var bm;var dG;var H;var aL,dr;var tile;var BX,CI;this.fI=[];if(ap.qn){dG=1.0;yK=yr*dG*dG;while(this.fI.length<atV||yK>afU){bm=new IPCC.Mk();bm.dG=dG;this.fI.unshift(bm);dG*=adn;yK=yr*dG*dG;}}else{if(J.qc()===true){yr=ap.width*ap.height;}dG=Math.sqrt(afU/yr);var aBp=dG*ap.gG;dG=Math.ceil(aBp)/ap.gG;yK=yr*dG*dG;if(J.qc()===false){while(yK<axa){bm=new IPCC.Mk();bm.dG=dG;this.fI.push(bm);dG/=adn;yK=yr*dG*dG;}}else{bm=new IPCC.Mk();bm.dG=1;this.fI.push(bm);}}ap.ri=this.fI[this.fI.length-1].dG*8;for(H=0;H<this.fI.length;H++){bm=this.fI[H];bm.PH=85;if(H===this.fI.length-1){bm.PH=100;}bm.pyramid=this;bm.id=H;bm.pool=new IPCC.aiD();bm.pool.uiDirector=ll;yK=yr*bm.dG*bm.dG;bm.width=Math.round(ap.width*bm.dG);bm.height=Math.round(ap.height*bm.dG);bm.mF=bm.width;bm.zv=bm.height;if(H>2&&H>this.fI.length-2){bm.mF=Math.min(mF/2,bm.width);bm.zv=Math.min(mF/2,bm.height);}if(yK>avl){bm.mF=Math.min(mF,bm.width);bm.zv=Math.min(mF,bm.height);}bm.tiles=[];BX=bm.mF;for(aL=0;aL<bm.width;aL+=BX){BX=bm.mF;if(aL+BX*1.25>bm.width){BX=bm.width-aL;}CI=bm.zv;for(dr=0;dr<bm.height;dr+=CI){CI=bm.zv;if(dr+CI*1.25>bm.height){CI=bm.height-dr;}tile=new IPCC.IZ();tile.level=bm;if(J.qc()===false){var Lh='jpeg';if(bm.PH>=100){Lh='png';}tile.contentType=Lh;tile.wE=2;tile.yH=2;tile=this.expandTile(tile,aL,dr,BX,CI,bm);if(tile.bA!==bm.width||tile.ao!==bm.height){tile.url=J.Wq('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.bA.toString()+'/'+tile.ao.toString(),'Scale='+bm.dG.toString()+'&Quality='+bm.PH+'&ContentType='+Lh);}else{tile.url=J.Wq('','Scale='+bm.dG.toString()+'&Quality='+bm.PH+'&ContentType='+Lh);}}else{tile.url=J.Wq('','Scale='+bm.dG.toString()+'&ContentType='+IPCC.V.SV);tile.aDN=ll.ajM();}tile.right=tile.x+tile.bA;tile.bottom=tile.y+tile.ao;bm.tiles.push(tile);}}}};IPCC.Mk=function(){this.dG=1;this.width=0;this.height=0;this.mF=0;this.zv=0;this.pool=undefined;return this;};IPCC.Mk.prototype.ND=function(dh){if(dh.width<1||dh.height<1){return[];}var kL=Math.floor(dh.x*this.dG);var la=Math.floor(dh.y*this.dG);var mr=Math.ceil((dh.x+dh.width)*this.dG);var mx=Math.ceil((dh.y+dh.height)*this.dG);var mt=[];var H,fm;var bX=this.tiles.length;for(H=0;H<bX;H++){fm=this.tiles[H];if(fm.x<=mr&&fm.right>=kL&&fm.y<=mx&&fm.bottom>=la){mt.push(fm);}}return mt;};IPCC.IZ=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.bA=0;this.ao=0;this.yH=0;this.wE=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};IPCC.IZ.prototype.unlock=function(){this.level.pool.aaH(this);};IPCC.IZ.prototype.lock=function(){this.level.pool.lockTile(this);};IPCC.IZ.prototype.relock=function(){return this.level.pool.QU(this);};IPCC.IZ.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};IPCC.aiD=function(){this.cK=[];this.parentElementID='';this.lockTile=function(fm){var du,H,VU,Tg;if(this.QU(fm)){return;}VU=0;for(H=this.cK.length-1;H>=0;H--){if(!(this.cK[H].locked)){VU++;Tg=H;}}if(VU>4){du=this.cK[Tg];this.uiDirector.agV(du);this.cK.splice(Tg,1);}du=new IPCC.aAN();du.pool=this;this.uiDirector.aqb(du);this.cK.push(du);du.locked=true;du.tile=fm;fm.poolItem=du;return;};this.QU=function(fm){var du,H;if(this.locked){return true;}for(H=0;H<this.cK.length;H++){if(this.cK[H].tile===fm){du=this.cK[H];du.locked=true;fm.poolItem=du;return true;}}return false;};this.aaH=function(fm){var je,H;je=fm.poolItem;if(je!==undefined&&je.locked){this.uiDirector.aAz(je);je.locked=false;fm.poolItem=undefined;for(H=0;H<this.cK.length;H++){if(this.cK[H]===je){this.cK.splice(H,1);this.cK.push(je);return;}}}};return this;};IPCC.aiD.prototype.aqo=function(){var H;for(H=0;H<this.cK.length;H++){if(!this.cK[H].locked){this.uiDirector.agV(this.cK[H]);}}};IPCC.aAN=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};(function(vb){var V={};V.YN=(function(){var jR={};var xW=[];jR.get=function aEY(qQ){if(xW.length===0){return;}for(var i=0;i<qQ.length;i++){if(xW[i]&&xW[i].qQ===qQ){return xW[i].hS;}}};jR.set=function aFg(qQ,hS){xW.push({qQ:qQ,hS:hS});if(xW.length>10){xW.shift();}};jR.contains=function iK(qQ){return jR.get(qQ)!==undefined;};jR.cacheReponse=function aFH(qQ,hS){if(hS.readyState===4){jR.set(qQ,hS);}else{var avW=hS.onreadystatechange;hS.onreadystatechange=function(){if(hS.readyState===XMLHttpRequest.DONE&&hS.status===200){jR.set(qQ,hS);}avW();};}};return jR;})();V.Xz=false;V.anx=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();V.MZ=(function(){var MZ=false;var sj=navigator.userAgent,VE=((sj.indexOf('Mozilla/5.0')> -1&&sj.indexOf('Android ')> -1&&sj.indexOf('AppleWebKit')> -1)&& !(sj.indexOf('Chrome')> -1)),adL=new RegExp(/AppleWebKit\/([\d.]+)/),avZ=adL.exec(sj),aeM=(avZ===null?null:parseFloat(adL.exec(sj)[1]));MZ=VE&&aeM!==null&&aeM<537;return MZ;})();V.aBk=(function(){var aja=false;var sj=navigator.userAgent,VE=/Android/i.test(sj),aBx=/iPhone|iPad|iPod/i.test(sj),aCt=/IEMobile/i.test(sj);aja=(VE||aBx||aCt);return aja;})();V.DI=(function(){var DI=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){DI=true;}return DI;})();V.SV=(function(){var apw=navigator.userAgent;if(document.documentMode===10||V.MZ){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(apw)&& !V.aBk){return 'svga';}else{return 'svgb';}})();V.Di=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();V.zj=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();V.Ie=V.zj||(function(){return('ontouchstart'in document.documentElement);})();V.aBv=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();V.agp=function(){return V.aqe.btoa((Math.random().toString(36).slice(-4))+'_'+V.wD(new Date())+'_'+(Math.random().toString(36).slice(-6)));};V.inArray=function(cS,du){for(var i=0,l=cS.length;i<l;i++){if(cS[i]===du){return true;}}return false;};V.forEach=function(aU,aB,dK){var nY=[].forEach,aAZ=Object.prototype.hasOwnProperty;if(nY&&aU.forEach===nY){aB&&aU.forEach(aB,dK);}else if(aU.length=== +aU.length){for(var i=0,length=aU.length;i<length;i++){aB&&aB.call(dK,aU[i],i,aU);}}else{for(var aN in aU){if(aAZ.call(aU,aN)){aB&&aB.call(dK,aU[aN],aN,aU);}}}};V.map=function(cS,aB,dK){var nY=[].map,uD=[];if(nY&&cS.map===nY){uD=cS.map(aB,dK);}else{V.forEach(cS,function(el,i){uD.push(aB.call(dK,el,i,cS));});}return uD;};V.filter=function(cS,aB,dK){var nY=[].filter,uD=[],YC=false;if(nY&&cS.filter===nY){uD=cS.filter(aB,dK);}else{V.forEach(cS,function(cn,i){YC=aB.call(dK,cn,i,cS);if(YC){uD.push(cn);}});}return uD;};V.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};V.remove=function(cS,aB,dK){var RC=[];var aom=V.filter(cS,aB,dK);V.forEach(aom,function(du){var bV=V.indexOf(cS,du);if(bV=== -1){return;}RC=RC.concat(cS.splice(bV,1));});return RC;};V.keys=function(aU){if(Object&&Object.keys){return Object.keys(aU);}else{var oU=[];for(var H in aU){if(aU.hasOwnProperty&&aU.hasOwnProperty(H)){oU.push(H);}}return oU;}};V.indexOf=function(cS,aeD,aiP){if(Array.prototype.indexOf){return cS.indexOf(aeD,aiP);}var k;if(cS==null){throw new TypeError('"cS" is null or not defined');}var O=Object(cS);var len=O.length>>>0;if(len===0){return-1;}var n= +aiP||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===aeD){return k;}k++;}return-1;};V.reduce=function(cS,aB,fj,dK){var nY=[].reduce;var GN=(arguments.length===2)?undefined:fj;if(nY&&typeof nY==='function'&&cS.reduce===nY&&dK===undefined){if(fj!==undefined){return cS.reduce(aB,fj,dK);}return cS.reduce(aB);}IPCC.V.forEach(cS,function(bM,bk){if(GN===undefined){GN=bM;return;}GN=aB.call(dK,GN,bM,bk,cS);});return GN;};V.reduceLeft=function(cS,aB,fj,dK){var uD=cS.reverse();return V.reduce.call(undefined,uD,aB,fj,dK);};V.contains=function(cS,bM){var cI=cS.length;while(cI--){if(cS[cI]===bM){return true;}}return false;};V.arQ=function(Ud,afw){if(Ud.length!==afw.length){return false;}for(var i=0,l=Ud.length;i<l;i++){if(Ud[i]!==afw[i]){return false;}}return true;};V.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};V.trim=function(cc){if(String.prototype.trim){return cc.trim();}return cc.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};V.getPageFromPoint=function(aL,dr,dK){var asL=function(gS){return gS.left<=aL&&aL<=gS.right&&gS.top<=dr&&dr<=gS.bottom;};var arI=function(){return V.filter(dK.querySelectorAll('[id*=__pViewId]'),function(hZ){return asL(hZ.getBoundingClientRect());});};if(!dK){dK=document;}return arI(aL,dr)[0];};V.ZB=function ZB(vX,ase,ahQ){var sz;return function(){var dK=this,bP=arguments;var aDZ=function(){sz=undefined;if(!ahQ){vX.apply(dK,bP);}};var anq=ahQ&& !sz;clearTimeout(sz);sz=setTimeout(aDZ,ase);if(anq){vX.apply(dK,bP);}};};V.abu=function abu(aP,ss){if(aP.classList){aP.classList.add(ss);}else{aP.className+=' '+ss;}};V.amy=function amy(aP,ss){if(aP.classList){aP.classList.remove(ss);}else{aP.className=aP.className.replace(ss,'');}};V.ZD=function(jp){return{width:jp.width||(jp.right-jp.left),height:jp.height||(jp.bottom-jp.top),top:jp.top,bottom:jp.bottom,left:jp.left,right:jp.right};};V.aiQ=function(alphabet,size){var Ce='';for(var H=0;H<size;H++){Ce+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return Ce;};V.alH=function(){var apA='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aEj='AQgw';return V.aiQ(apA,21)+V.aiQ(aEj,1);};V.aiA=function(){var hg={'Accusoft-Gid':V.alH(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return hg;};V.nH=function(aD){if(aD instanceof V.nH){return aD;}this.hg=V.reduce(aD.headers||{},function(pF,bM,bw){bw=bw.toLowerCase();if(pF[bw]){pF[bw]+=', '+bM;}else{pF[bw]=bM;}return pF;},{});this.status=aD.status;this.statusText=aD.statusText;this.responseText=aD.responseText;if(typeof aD.responseBody!=='undefined'){this.responseBody=aD.responseBody;}return this;};V.nH.prototype.getResponseHeader=function(Es){var aD=this.hg[Es.toLowerCase()];return aD!==undefined?aD:null;};V.mR=(function(){var vb={};vb.hg={};vb.Pw=undefined;function ajV(ago){var hg={};if(!ago){return hg;}var agh=ago.split('\u000d\u000a');for(var H=0,bX=agh.length;H<bX;H++){var Yf=agh[H];var bV=Yf.indexOf('\u003a\u0020');if(bV>0){var bw=Yf.substring(0,bV);var bM=Yf.substring(bV+2);if(hg[bw]){hg[bw]+=', '+bM;}else{hg[bw]=bM;}}}return hg;};vb.fB=function(awM){var TG={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},lv=IPCC.Deferred(),cT=lv.getPromise(),qP;var bH=V.extend({},TG,awM);bH.headers=V.extend({},vb.hg,bH.headers);if(typeof vb.Pw==='function'){qP=vb.Pw(bH);if(typeof qP==='object'&&typeof qP.then==='function'){qP.then(function(aV){lv.resolve(aV);},function(aV){lv.reject(aV);});return cT;}}if(bH.cache&&V.YN.contains(bH.url)){var hS=V.YN.get(bH.url);var aD,wb={};wb={status:hS.status,headers:ajV(hS.getAllResponseHeaders())};try{wb.responseText=hS.responseText;}catch(e){}if(typeof hS.responseBody!=='undefined'){wb.responseBody=hS.responseBody;}aD=new V.nH(wb);if(hS.status>=200&&hS.status<300||status===304){lv.resolve(aD);}else{lv.reject({response:aD,error:new IPCC.Error("Error","An AJAX problem occurred: "+hS.status+" "+hS.statusText)});}return cT;}var iU,sz;try{iU=new XMLHttpRequest();}catch(e){lv.reject(new IPCC.Error("Error",e.message));}if(iU){iU.open(bH.method,bH.url,true);if(bH.timeout){sz=window.setTimeout(function(){iU.abort();lv.reject({error:new IPCC.Error("Error","Request timed out")});},bH.timeout);}iU.onreadystatechange=function(){var aD,wb={};if(iU.readyState===4){if(sz){window.clearTimeout(sz);}wb={status:iU.status,headers:ajV(iU.getAllResponseHeaders())};try{wb.responseText=iU.responseText;}catch(e){}if(typeof iU.responseBody!=='undefined'){wb.responseBody=iU.responseBody;}aD=new V.nH(wb);if(iU.status>=200&&iU.status<300||status===304){lv.resolve(aD);}else{lv.reject({response:aD,error:new IPCC.Error("Error","An AJAX problem occurred: "+iU.status+" "+iU.statusText)});}}};var RA=V.extend({},bH.headers,V.aiA());for(var bw in RA){if(RA.hasOwnProperty(bw)){iU.setRequestHeader(bw,RA[bw]);}}if(typeof bH.mimeType==='string'&&typeof iU.overrideMimeType==='function'){iU.overrideMimeType(bH.mimeType);}if(bH.cache){V.YN.cacheReponse(bH.url,iU);}iU.send(bH.body);}return cT;};return vb;})();V.UF=function(gR,hK,ft){var gi=[],sU=null,um=null,bF;var aCA=function(um,sU){if(!sU){return false;}else{return Math.abs(um.y-sU.y)<1&&Math.abs(um.height-sU.height)<1&&um.x+um.width>=sU.x+sU.width;}};for(bF=hK;bF<ft+1;bF++){um=gR.kk(bF).bO;if(aCA(um,sU)){sU.union(um);}else{sU=um.clone();gi.push(sU);}}return gi;};V.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};V.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};V.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(ai){var auX=V.map(ai,function(cn){return[cn.x,cn.y];});return d3_svg_lineBasis(auX);};})();V.aDm=function(cc){if(cc.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aBU=V.filter(cc.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var atx=V.map(aBU,function(el){var amn=el.replace(/[a-zA-Z]/g,'|').split('|');return V.map(amn,function(eK){var akc=eK.split(',');return{x: +akc[0],y: +akc[1]};});});return atx;};V.ajz=function(cc,iY,ip,iO,bH){bH.dH="12px";var iQ=V.tm(cc,iY,bH),vI=12*ip/(iQ.width||1),vu=12*iO/(iQ.height||1),aoW=Math.min(vI,vu);bH.dH=aoW;return V.ahI(cc,iY,ip,iO,bH);};V.ahI=function(cc,iY,ip,iO,bH,Ja){Ja=Ja||1;var ph={},iQ=V.tm(cc,iY,bH),dH=bH.dH;ph.width=iQ.width;ph.height=iQ.height;ph.fontSize=dH;if(Ja>3){return ph;}if((iQ.width<ip+1)&&(iQ.height<iO+1)){return ph;}else{var vI=dH*ip/(iQ.width||1),vu=dH*iO/(iQ.height||1),Ab=Math.min(vI,vu);if(Ab>=bH.dH){return ph;}else{bH.dH=Ab;return V.ahI(cc,iY,ip,iO,bH,Ja+1);}}};V.tm=function(cc,iY,bH){bH=bH||{};if(document.createElementNS){return V.aCc(cc,iY,bH);}else{return V.agl(cc,iY,bH);}};V.aCc=function(cc,iY,bH){var svg,ahq=false;if(bH.fv){svg=bH.fv;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');ahq=true;document.body.appendChild(svg);}var dH=bH.dH||"12px";if(typeof dH==="number"){dH=dH+"px";}var dI=document.createElementNS("http://www.w3.org/2000/svg","text");V.forEach({x:0,y:0,'font-size':dH,'stroke':"none",'fill':"#000000",'font-family':iY},function(value,name){dI.setAttribute(name,value);});if(bH.tX){dI.setAttribute('style','white-space:'+bH.tX);}var mG=document.createTextNode(cc);dI.appendChild(mG);svg.appendChild(dI);var uT=dI.getBBox(),HN=uT.width,HZ=uT.height;svg.removeChild(dI);if(ahq){document.body.removeChild(svg);}if(HN===0&&HZ===0&&cc!=="M"){return V.tm("M",iY,bH);}else{return{width:HN,height:HZ};}};V.agl=function(cc,iY,bH){var mG=document.createTextNode(cc),Cp=document.createElement('div');var dH=bH.dH||"12px";if(typeof dH==="number"){dH=dH+"px";}V.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:dH,fontFamily:iY},function(value,name){Cp.style[name]=value;});if(bH.tX){Cp.style.whiteSpace=bH.tX;}Cp.appendChild(mG);document.body.appendChild(Cp);var uT=Cp.getBoundingClientRect(),HN=uT.width||uT.right-uT.left,HZ=uT.height||uT.bottom-uT.top;document.body.removeChild(Cp);if(HN===0&&HZ===0&&cc!=="M"){return V.agl("M",iY,dH);}else{return{width:HN,height:HZ};}};V.Yw=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};V.zE=(V.anx)?{SVG:function SVG(Uw){var fv=document.createElementNS("http://www.w3.org/2000/svg","svg");fv.setAttribute('viewBox',Uw);return fv;},Path:function Path(sc,fP){var gP=document.createElementNS("http://www.w3.org/2000/svg","path");gP.style.fill='none';gP.style.stroke=fP.color||'#000000';gP.style.strokeWidth=fP.thickness||4;if(sc){gP.setAttribute('d',sc.toString().trim());}return gP;},Rect:function Rect(bA,ao,fq){var bo=document.createElementNS("http://www.w3.org/2000/svg","rect");bo.setAttribute('width',bA||0);bo.setAttribute('height',ao||0);if(fq){bo.setAttribute('style',fq);}return bo;}}:{SVG:function(Uw,LK){var aP=document.createElement("div");aP.style.left="0px";aP.style.top="0px";aP.style.position="relative";aP.baseInit=false;aP.baseX=0;aP.baseY=0;var aye=aP.setAttribute;aP.setAttribute=function(bw,h){if(bw==="width"){this.style.width=h*(+LK||1);}else if(bw==="height"){this.style.height=h*(+LK||1);}else if(bw==="x"){this.style.left=h;}else if(bw==="y"){this.style.top=h;}else if(bw==="viewBox"){var pV=h.split(" ");this.style.height= +pV.pop()*(+LK||1)+'px';this.style.width= +pV.pop()*(+LK||1)+'px';}else{aye(bw,h);}};aP.setAttribute('viewBox',Uw);aP.setAttribute('data-pcc-mark','signature');return aP;},Path:function(sc,fP){var aP=document.createElement("v:shape");aP.style.width=fP.width*(+fP.multiplier||1);aP.style.height=fP.height*(+fP.multiplier||1);aP.coordsize=[fP.width,fP.height].join(', ');aP.style.position="absolute";aP.setAttribute=function(bw,h){if(bw==="d"){var Cj=0;var CG=0;h=h.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var MP=h.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var akr="",hx=[];for(var i=0;i<MP.length;i++){var eK=MP[i].substring(0,1);var lT=MP[i].substring(1,MP[i].length);lT=lT.split(/[, ]/);for(var j=0;j<lT.length;j++){lT[j]=Math.round(lT[j]);}lT=lT.join();switch(eK){case "M":eK="m";hx=lT.split(/[, ]/);Cj=parseInt(hx[0],10);CG=parseInt(hx[1],10);break;case "m":eK="t";hx=lT.split(/[, ]/);hx[0]=parseInt(hx[0],10)+parseInt(Cj,10);hx[1]=parseInt(hx[1],10)+parseInt(CG,10);Cj=parseInt(hx[0],10);CG=parseInt(hx[1],10);break;case "A":eK="ae";var bP=lT.split(/[, ]+/);bP[0]=parseInt(bP[0],10);bP[1]=parseInt(bP[1],10);bP[2]=parseInt(bP[2],10);bP[3]=parseInt(bP[3],10);bP[4]=parseInt(bP[4],10);bP[5]=parseInt(bP[5],10);lT=bP[4]+" "+bP[5]+" "+bP[2]*2+" "+bP[3]*2+" 0 360";break;case "L":eK="l";hx=lT.split(/[, ]+/);Cj=parseInt(hx[0],10);CG=parseInt(hx[1],10);break;case "l":eK="r";hx=lT.split(/[, ]+/);hx[0]=parseInt(hx[0],10)+parseInt(Cj,10);hx[1]=parseInt(hx[1],10)+parseInt(CG,10);Cj=parseInt(hx[0],10);CG=parseInt(hx[1],10);break;case "c":eK="v";break;case "z":eK="xe";lT="";break;default:eK=eK.toLowerCase();}akr+=eK+lT;}this.path=akr;return;}else if(bw==="stroke"){this.stroked=(h==="none"?0:1);this.strokecolor=h;return;}else if(bw==="stroke-width"){this.strokeweight=parseFloat(h)/1.2+"pt";return;}else if(bw==="fill"){this.filled=(h==="none"?0:1);this.fillcolor=h;return;}};if(sc){aP.setAttribute('d',sc);}aP.setAttribute('stroke-width',fP.thickness||4);aP.setAttribute('stroke',fP.color||'#000000');aP.filled=0;aP.fillcolor='none';return aP;},Rect:function(bA,ao){var aP=document.createElement("v:roundrect");aP.rxy=0;aP.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};aP.setAttribute=function(bw,h,aoD){if(this.svg2vmlStyle[bw]){this.svg2vmlStyle[bw]["value"]=h;this.svg2vmlStyle[bw]["valueSource"]=(aoD||"user");}if(bw==="x"){this.style.left=parseInt(h,10)+'px';return;}else if(bw==="y"){this.style.top=parseInt(h,10)+'px';return;}else if(bw==="stroke"){this.stroked=(h==="none"?0:1);this.strokecolor=h;return;}else if(bw==="stroke-width"){this.strokeweight=parseFloat(h)/1.2+"pt";return;}else if(bw==="fill"){this.filled=(h==="none"?0:1);this.fillcolor=h;return;}else if(bw==="width"||bw==="height"||bw==="rx"||bw==="ry"){if(bw==="width"){this.style.width=parseInt(h,10)+'px';}else if(bw==="height"){this.style.height=parseInt(h,10)+'px';}else if(bw==="rx"||bw==="ry"){if(parseInt(h,10)){this.rxy=parseInt(h,10);}}if(this.rxy!==0){var Iw=parseInt(this.style.width,10);var Pz=parseInt(this.style.height,10);if(!Iw){Iw=0;}if(!Pz){Pz=0;}if(Pz<Iw){Iw=Pz;}var Lg=this.rxy/Iw;this.arcsize=Lg;}else{this.arcsize=0;}return;}};if(bA){aP.setAttribute('width',bA);}if(ao){aP.setAttribute('height',ao);}for(var bw in aP.svg2vmlStyle){if((aP.svg2vmlStyle[bw]["value"])&&(aP.svg2vmlStyle[bw]["valueSource"]==="default")){aP.setAttribute(bw,aP.svg2vmlStyle[bw]["value"],"default");}}return aP;}};V.GH=function GH(mP){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(mP);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(mP+' cannot be parsed as an ISO 8601 date.');}};V.wD=function aGv(fE){if(fE.toISOString&&typeof fE.toISOString==='function'){return fE.toISOString();}else if(fE instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return fE.getUTCFullYear()+'-'+pad(fE.getUTCMonth()+1)+'-'+pad(fE.getUTCDate())+'T'+pad(fE.getUTCHours())+':'+pad(fE.getUTCMinutes())+':'+pad(fE.getUTCSeconds())+'.'+(fE.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(fE+' is not a Date object.');}};V.wq=function wq(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};V.NF=function NF(o){if(V.wq(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};V.Tn=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};V.ahf=function(bM){bM=String(bM).replace(/[^0-9a-f]/gi,"");if(bM.length<6){bM=bM[0]+bM[0]+bM[1]+bM[1]+bM[2]+bM[2];}var Rk=function(cc){return parseInt(cc,16);};var r=Rk(bM.substring(0,2));var g=Rk(bM.substring(2,4));var b=Rk(bM.substring(4,6));return{r:r,g:g,b:b};};V.avL=function(bM){var Ob="";var Qj=function(n){while(n.length<2){n='0'+n;}return n;};var QA=function(n){return Qj(n.toString(16));};Ob+=QA(Math.floor(bM.r));Ob+=QA(Math.floor(bM.g));Ob+=QA(Math.floor(bM.b));return '#'+Ob;};V.aoV=function(aqU,anM,aqm){var DA=aqm,QB=V.ahf(aqU),oc=V.ahf(anM);oc.r=(1-DA)*oc.r+(QB.r*DA);oc.g=(1-DA)*oc.g+(QB.g*DA);oc.b=(1-DA)*oc.b+(QB.b*DA);oc.r=Math.floor(oc.r);oc.g=Math.floor(oc.g);oc.b=Math.floor(oc.b);return V.avL(oc);};V.afu=function(alM,tz){var asg=V.reduceLeft(alM,function(fj,cV){if(cV.opacity===undefined){cV.opacity=127;}var aAT=cV.opacity/255;return V.aoV(cV.color,fj,aAT);},tz);return asg;};V.abh=function(fY){if(fY.length===0){return fY;}var fF=fY.slice(0);fF.sort(function(a,b){return a.startIndex-b.startIndex;});var OW=null;var kw=[];var VM=0,Lz=[];var H=fF[0].startIndex;while(fF.length>0){VM=0;Lz=null;Lz=[];var bF=0;while(bF<fF.length&&fF[bF].startIndex<=H){if(H<=fF[bF].startIndex+fF[bF].length-1){VM++;Lz.push(fF[bF]);bF++;}else{fF.splice(bF,1);}}if(VM>0){var DW=V.afu(Lz,'#ffffff');if(DW===OW){kw[kw.length-1].endIndex=H;}else{kw.push({startIndex:H,endIndex:H,color:DW});}OW=DW;H++;}else{if(fF.length>0){H=fF[0].startIndex;}OW=null;}}return kw;};V.IR=function(TI){return TI.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};V.Qj=function(ho,cI){var cc=""+ho;while(cc.length<cI){cc='0'+cc;}return cc;};V.aED=function(eV){var hC=eV.getTimezoneOffset();hC=((hC<0?'+':'-')+V.Qj(parseInt(Math.abs(hC/60),10),2)+V.Qj(Math.abs(hC%60),2));return hC;};V.aga=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];V.QF=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];V.ZV=function(VJ){var atI=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aV=atI.exec(VJ),agz,Ef,agI,ahg,agy,xh,Ku;if(!aV){return null;}else{agz=aV[1].toLowerCase();agI=aV[2];ahg=aV[3];agy=aV[4];xh=aV[5];Ku=aV[6];for(Ef=0;Ef<12;Ef++){if(V.QF[Ef].toLowerCase()===agz){break;}}if(Ef>=12){return null;}return new Date(Date.UTC(Ku,Ef,agI,ahg,agy,xh));}};V.ajl=function(eV){return(V.aga[eV.getUTCDay()]+" "+V.QF[eV.getUTCMonth()]+" "+eV.getUTCDate()+" "+eV.getUTCHours()+':'+eV.getUTCMinutes()+':'+eV.getUTCSeconds()+" "+"GMT+0000 "+eV.getUTCFullYear());};V.aoo=function(eV){return(V.aga[eV.getUTCDay()]+" "+V.QF[eV.getUTCMonth()]+" "+eV.getUTCDate()+" "+eV.getUTCFullYear());};V.aur=function(eV){return(eV.getUTCHours()+':'+eV.getUTCMinutes()+':'+eV.getUTCSeconds()+" "+"GMT+0000");};V.ny=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};V.wM=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};V.aqe=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();V.pj=(function(){var pj=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var abt={};pj.forEach(function(aax){abt[aax]='pointer'+aax;});return abt;}if(window.navigator.msPointerEnabled){var agf={};for(var H=0;H<pj.length;H++){var Zq=pj[H];var atY='MSPointer'+Zq.charAt(0).toUpperCase()+Zq.slice(1);agf[Zq]=atY;}return agf;}return{};})();V.IW=(function(){return{PP: ! !navigator.userAgent.match('Edge'),aFS:document.documentMode!==undefined,aEO:document.documentMode===8,aFQ:document.documentMode===9,aDb:document.documentMode===10,aDn:document.documentMode===11,aBR:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i))};})();V.KX=(function(nJ){if(!nJ|| !IPCC.V.trim(nJ)){return 'regular';}return IPCC.V.trim(nJ).toLowerCase();});V.aFm=function(arg,value){return typeof arg!=='undefined'?arg:value;};V.Je=function(value){return Number(value.replace(/[a-z]+$/,''));};V.Ot=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};V.aiT=function(){if(this.qR===undefined){this.qR=document.createTextNode('');}return this.qR;};V.ais=function(){if(this.cU===undefined){this.cU=document.createElement('textarea');this.qR=document.createTextNode('');this.cU.appendChild(V.qR);this.cU.style.position='absolute';this.cU.style.overflow='hidden';this.cU.style.width='80px';this.cU.style.height='80px';this.cU.style.resize='none';this.cU.style.top='-9999px';this.cU.style.left='-9999px';this.cU.style.whiteSpace='pre-wrap';this.cU.style.border=0;this.cU.style.padding='2px';document.body.appendChild(this.cU);}return this.cU;};V.Ub=function(cU,De,al){var Rv=0.1;var IY;if(De===0||De>al){De=al;}while(Rv<=De){IY=(Rv+De)/2;cU.style.fontSize=IY+'px';if(cU.scrollHeight<=cU.offsetHeight){Rv=IY+0.1;}else{De=IY-0.1;}}var ahO=(IY-0.5)*0.95;cU.style.fontSize=ahO+'px';return ahO;};V.Lb=function(vX,qS,Vw,qP){if(vX(qS,Vw)!==Vw){return typeof(qP)==='number'?qP:Vw;}return qS;};V.NM=function(qS,auD,qP){return V.Lb(Math.min,qS,auD,qP);};V.OJ=function(qS,avt,qP){return V.Lb(Math.max,qS,avt,qP);};vb.V=V;})(IPCC||{});IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MarkType=function(){};IPCC.Web.UI.MarkType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};IPCC.Web.UI.MarkType.registerEnum('IPCC.Web.UI.MarkType',false);IPCC.Web.UI.HighLightType=function(){};IPCC.Web.UI.HighLightType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HighLightType.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};IPCC.Web.UI.HighLightType.registerEnum('IPCC.Web.UI.HighLight',false);IPCC.Web.UI.MarkInteractionMode=function(){};IPCC.Web.UI.MarkInteractionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkInteractionMode.prototype={Full:0,SelectionDisabled:1};IPCC.Web.UI.MarkInteractionMode.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);IPCC.Web.UI.LineStyle=function(){};IPCC.Web.UI.LineStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};IPCC.Web.UI.LineStyle.registerEnum('IPCC.Web.UI.LineStyle',false);IPCC.Web.UI.LineHeadType=function(){};IPCC.Web.UI.LineHeadType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};IPCC.Web.UI.LineHeadType.registerEnum('IPCC.Web.UI.LineHeadType',false);IPCC.Web.UI.CalloutType=function(){};IPCC.Web.UI.CalloutType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.CalloutType.prototype={Line:0,Triangle:1};IPCC.Web.UI.CalloutType.registerEnum('IPCC.Web.UI.CalloutType',false);IPCC.Web.UI.FontStyle=function(){};IPCC.Web.UI.FontStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};IPCC.Web.UI.FontStyle.registerEnum('IPCC.Web.UI.FontStyle',true);IPCC.Web.UI.HorizontalAlignment=function(){};IPCC.Web.UI.HorizontalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};IPCC.Web.UI.HorizontalAlignment.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);IPCC.Web.UI.VerticalAlignment=function(){};IPCC.Web.UI.VerticalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};IPCC.Web.UI.VerticalAlignment.registerEnum('IPCC.Web.UI.VerticalAlignment',false);IPCC.Web.UI.Orientation=function(){};IPCC.Web.UI.Orientation.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};IPCC.Web.UI.Orientation.registerEnum('IPCC.Web.UI.Orientation',false);IPCC.Web.UI.MarkEventArgs=function(){return this;};IPCC.Web.UI.MarkEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkEventArgs.prototype={};IPCC.Web.UI.MarkEventArgs.registerClass('IPCC.Web.UI.MarkEventArgs');IPCC.Web.UI.MarkCollection=function(){var bn=[];var bj=new IPCC.Web.UI.iS();this.Pb=function(G){if(this.Gb(G)=== -1){bn.push(G);var L=new IPCC.Web.UI.MarkEventArgs();L.mark=G;this.bB('markAdded',L);}};this.azH=function(AG){var L=new IPCC.Web.UI.MarkEventArgs();L.length=AG.get_length();var K=this;function lM(G){if(K.Gb(G)=== -1){bn.push(G);}};AG.forEach(lM,{});if(L.length>0){this.bB('markAdded',L);}};this.kT=function(hU,dK){var Hq=[].concat(bn);var H;for(H=0;H<Hq.length;H++){hU.call(dK,Hq[H],H,this);}};this.dV=function(){return bn.length;};this.tZ=function(G){var H=this.Gb(G);if(H> -1){bn.splice(H,1);var L=new IPCC.Web.UI.MarkEventArgs();L.mark=G;this.bB('markRemoved',L);}};this.Gb=function(G){var H;for(H=0;H<bn.length;H++){if(bn[H]===G){return H;}}return-1;};this.AP=function(R){bj.addHandler('markAdded',R);};this.At=function(R){bj.removeHandler('markAdded',R);};this.AB=function(R){bj.addHandler('markRemoved',R);};this.yN=function(R){bj.removeHandler('markRemoved',R);};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(this,L);}};return this;};IPCC.Web.UI.MarkCollection.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Pb(mark);},addMarks:function(markCollection){this.azH(markCollection);},forEach:function(method,context){this.kT(method,context);},get_length:function(){return this.dV();},contains:function(mark){return this.Gb(mark)> -1;},removeMark:function(mark){this.tZ(mark);},removeAllMarks:function(){this.kT(function(G,bV,AG){AG.tZ(G);});},add_markAdded:function(handler){this.AP(handler);},remove_markAdded:function(handler){this.At(handler);},add_markRemoved:function(handler){this.AB(handler);},remove_markRemoved:function(handler){this.yN(handler);}};IPCC.Web.UI.MarkCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkCollection.registerClass('IPCC.Web.UI.MarkCollection');IPCC.Web.UI.awm=1;IPCC.Web.UI.Mark=function(type){var bv=type;type=undefined;var sd=new Date();var rK=new Date();var aH=null;var C;var ai;var cj;var dB=new IPCC.Web.UI.Data();var bj=new IPCC.Web.UI.iS();var K=this;var jl;this.fK=function(ie,cw){if((jl&ie)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cw+' is not a valid property for this type of Mark.');}};if(bv===IPCC.Web.UI.MarkType.SignatureText){this.kH='#000000';this.hB=IPCC.Web.UI.LineStyle.Solid;this.co=0;}else{this.kH='#000000';this.hB=IPCC.Web.UI.LineStyle.Solid;this.co=1;}this.cA=255;this.pl=IPCC.Web.UI.MarkInteractionMode.Full;var kD=false;switch(bv){case IPCC.Web.UI.MarkType.Line:kD=true;ai=new IPCC.Web.UI.PointCollection();ai.addPoint({x:0,y:0});ai.addPoint({x:0,y:0});jl=1;this.kH='#18385F';this.co=6;break;case IPCC.Web.UI.MarkType.Polyline:kD=true;this.sX=false;ai=new IPCC.Web.UI.PointCollection();jl=2;this.co=2;break;case IPCC.Web.UI.MarkType.Rectangle:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=4;this.cN='#FB0404';this.co=4;break;case IPCC.Web.UI.MarkType.Ellipse:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=8;this.cN='#FB0404';this.co=4;break;case IPCC.Web.UI.MarkType.Polygon:ai=new IPCC.Web.UI.PointCollection();jl=16;this.co=2;this.cN='#FB0404';break;case IPCC.Web.UI.MarkType.Text:this.Ba='#000000';this.yL=false;this.rF=IPCC.Web.UI.LineStyle.Solid;this.Ey=1;this.lP=new IPCC.Web.UI.Point(0,0);this.Ek=IPCC.Web.UI.CalloutType.Triangle;this.yZ=false;this.hq='Arial';this.dH=12;this.dF=IPCC.Web.UI.FontStyle.Regular;this.hB=IPCC.Web.UI.LineStyle.Solid;this.fr=0;C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.an='';this.jo=IPCC.Web.UI.HorizontalAlignment.Left;this.wu=IPCC.Web.UI.VerticalAlignment.Top;this.oR='#000000';this.yQ=255;this.yD=IPCC.Web.UI.Orientation.TopLeft;this.fF=[];this.co=4;this.cA=127;this.cN='#FFFFFF';jl=32;break;case IPCC.Web.UI.MarkType.Stamp:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=128;break;case IPCC.Web.UI.MarkType.Highlight:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aa='';this.kI='n';this.aq=0;this.cz='';this.dA=0;this.cA=127;jl=256;break;case IPCC.Web.UI.MarkType.HighlightText:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aa='';this.kI='n';this.aq=0;this.cz='';this.dA=0;this.cA=127;this.cN='#FFFF00';jl=512;this.fF=[];this.cL=[];break;case IPCC.Web.UI.MarkType.Freehand:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=64;this.co=4;this.kH='#000000';this.iL=false;this.Uf=1;this.Ts=1;this.uW='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=1024;this.jo=IPCC.Web.UI.HorizontalAlignment.Center;this.co=4;this.kH='#000000';this.iL=false;this.Uf=1;this.Ts=1;this.uW='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=2048;this.jo=IPCC.Web.UI.HorizontalAlignment.Center;this.an='John Doe';this.oR='#000000';this.cN='#000000';this.hq="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=4096;this.hq='Arial';this.dH=8;this.dF=IPCC.Web.UI.FontStyle.Regular;this.an='';this.jo=IPCC.Web.UI.HorizontalAlignment.Center;this.wu=IPCC.Web.UI.VerticalAlignment.Center;this.cN='#000000';this.oR='#FFFFFF';this.yQ=255;this.yD=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.cL=[];this.aa='';this.eL='';this.an='';this.hq='Arial';this.dH=8;this.aq=0;this.dA=0;jl=8192;this.fF=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.oK='';this.co=2;this.cz='';this.aa='';this.kI='n';this.aq=0;this.dA=0;this.cN='#3B00FF';jl=1<<14;this.fF=[];this.cL=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jl=16384;this.ap='';this.rd='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.oK='';this.KQ='';this.xB='';this.HE=0;this.JL=0;this.qu=255;jl=32768;break;case IPCC.Web.UI.MarkType.TextLine:jl=65536;C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.jo=IPCC.Web.UI.HorizontalAlignment.Left;this.an='';this.oR='#000000';this.hq="Courier New";this.co=1;this.iL=true;this.fr=0;this.Bp=0;this.JI=false;var iQ=IPCC.V.tm("M",this.hq,{tX:'pre'});this.yh=iQ.width;this.AA=iQ.height;this.iG=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.Ba='#000000';this.yL=false;this.rF=IPCC.Web.UI.LineStyle.Solid;this.Ey=1;this.lP=new IPCC.Web.UI.Point(0,0);this.Ek=IPCC.Web.UI.CalloutType.Triangle;this.yZ=false;this.hq='Courier New';this.iu=0;this.fr=0;this.dH=12;this.dF=IPCC.Web.UI.FontStyle.Regular;C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.an='';this.jo=IPCC.Web.UI.HorizontalAlignment.Left;this.wu=IPCC.Web.UI.VerticalAlignment.Top;this.oR='#000000';this.yQ=255;this.yD=IPCC.Web.UI.Orientation.TopLeft;this.fF=[];this.co=1;this.iL=false;this.cN='#FFFFFF';this.cA=0;jl=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aa='';this.kH='#000000';this.co=2;this.kI='n';this.aq=0;this.cz='';this.dA=0;jl=1<<17;this.fF=[];this.cL=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bv);}if(bv!==IPCC.Web.UI.MarkType.SignaturePath&&bv!==IPCC.Web.UI.MarkType.Freehand&&bv!==IPCC.Web.UI.MarkType.SignatureText&&bv!==IPCC.Web.UI.MarkType.DocumentHyperlink&&bv!==IPCC.Web.UI.MarkType.HighlightText&&bv!==IPCC.Web.UI.MarkType.Strikethrough&&bv!==IPCC.Web.UI.MarkType.TextLine){if(kD){this.GU=15;this.Ic=25;this.mU=IPCC.Web.UI.LineHeadType.None;this.zc='#000000';this.IV=15;this.Kv=25;this.JH=IPCC.Web.UI.LineHeadType.None;}else{this.pI=true;this.iL=true;if(bv===IPCC.Web.UI.MarkType.Highlight){this.iL=false;this.cA=100;}}}this.RG=IPCC.Web.UI.awm++;this.cd=true;this.bD={};this.cR=[];var Ln=false;function aru(ay,L){K.bB('commentAdded',L);};function asb(ay,L){K.bB('commentRemoved',L);};function Ps(ay,L){K.bB('commentChanged',L);};cj=new IPCC.Web.UI.Conversation(K);cj.add_commentAdded(aru);cj.add_commentChanged(Ps);cj.add_commentRemoved(asb);this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(this,L);}};function Tu(ay,L){var Zv='points';if(bv===IPCC.Web.UI.MarkType.Line){Zv=L.index===0?'startPoint':'endPoint';}K.bY(Zv,L);};if(ai){ai.add_pointAdded(Tu);ai.add_pointChanged(Tu);ai.add_pointRemoved(Tu);}this.hT=function(){return bv;};this.aiv=function(){return sd;};this.aca=function(h){sd=h;};this.aia=function(){return rK;};this.YD=function(h){rK=h;};this.eP=function(){return aH;};this.mk=function(value){if(aH!==value){aH=value;this.bY('artPage');}};this.hW=function(){return Ln;};this.lk=function(h){Ln=h;};this.aiU=function(){var me=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bv){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return ai.uZ();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return C.clone();case IPCC.Web.UI.MarkType.Text:var jb=C.x+C.width,kj=C.y+C.height;var akn=C.x+this.lP.x,ale=C.y+this.lP.y;me.x=Math.min(C.x,Math.min(jb,akn));me.y=Math.min(C.y,Math.min(kj,ale));me.width=Math.max(C.x,Math.max(jb,akn))-me.x;me.height=Math.max(C.y,Math.max(kj,ale))-me.y;break;}return me;};this.di=function(){return C.clone();};this.ze=function(h){this.BL(16384,'image','ap',h);};this.dM=function(){return this.ap;};this.oM=function(){return ai;};this.ans=function(){return cj;};this.vt=function(){return dB;};this.BA=function(h){var sp;if(!C.equals(h)){C=new IPCC.Web.UI.Rectangle(h.x,h.y,h.width,h.height);if(bv===IPCC.Web.UI.MarkType.Stamp||bv===IPCC.Web.UI.MarkType.SignatureText||bv===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){sp=0;if(C.width>=C.height){sp=(C.width/14)/2;}else{sp=C.width/15;}if(sp*15>=C.width){sp=(C.width/15)/2;}this.stampSize=Math.round(sp);}else{var textFontSize=(C.width/6);if(textFontSize>C.height){textFontSize=(C.height-(C.height/6));}var oS=this.get_text();if(!oS){oS=(bv===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}sp=oS.length*textFontSize;if(sp>C.width){textFontSize=((C.width/oS.length));}var Bp=Math.round(textFontSize);this.stampSize=Bp.toString();}}this.bY('rectangle');}};this.mN=function(){return this.RG;};this.Ho=function(eh,eC){if(eh!==0||eC!==0){switch(bv){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:ai.agS(eh,eC);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bv===IPCC.Web.UI.MarkType.RectangleRedaction&&this.aa!==undefined){break;}C.x+=eh;C.y+=eC;this.bY('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.XD=function(RU){if(this.fF&&RU!==this.fF){while(this.fF.length>0){this.fF.pop();}if(RU){this.fF=RU.slice(0);}this.bB('markTextSelectionChanged',{});}};this.ES=function(R){if(this.fF){bj.addHandler('markTextSelectionChanged',R);}};this.FN=function(R){if(this.fF){bj.removeHandler('markTextSelectionChanged',R);}};this.vs=function(R){bj.addHandler('commentAdded',R);};this.zJ=function(R){bj.removeHandler('commentAdded',R);};this.xu=function(R){bj.addHandler('commentRemoved',R);};this.CE=function(R){bj.removeHandler('commentRemoved',R);};this.rE=function(R){bj.addHandler('commentChanged',R);};this.rA=function(R){bj.removeHandler('commentChanged',R);};this.kX=function(R){bj.addHandler('propertyChanged',R);};this.nl=function(R){bj.removeHandler('propertyChanged',R);};this.bY=function(cw){var R=bj.getHandler('propertyChanged');if(R){R(this,new IPCC.rC(cw));}};this.kX(function(G){G.YD(new Date());});return this;};IPCC.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.oM().getPoint(0)+' to '+this.oM().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.oM().dV()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.di();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.di();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.di();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.oM().dV()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.an+'", at '+this.di();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.di();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.di();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.di();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.di();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.di();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.di();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.uW+'", at '+this.di();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.uW+'", at '+this.di();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.di();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.di();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.di();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.di();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.di();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.di();}return 'Mark';},initializeDates:function(sd,rK){IPCC.aS.fE(sd,"dateCreated");IPCC.aS.fE(rK,"dateModified");this.aca(sd);this.YD(rK);},get_dateCreated:function(){return this.aiv();},get_dateModified:function(){return this.aia();},kW:function(ie,cw,le,h){this.fK(ie,cw);if(this[le]!==h){this[le]=h;this.bY(cw);}},Fq:function(ie,cw,le,h){IPCC.aS.SJ(h,cw);this.kW(ie,cw,le,h);},wO:function(ie,cw,le,h){IPCC.aS.ho(h,cw);this.kW(ie,cw,le,h);},za:function(ie,cw,le,h,vB,xn){IPCC.aS.ly(h,cw,vB,xn);this.kW(ie,cw,le,h);},Yx:function(ie,cw,le,h,vB,xn){IPCC.aS.na(h,cw,vB,xn);this.kW(ie,cw,le,h);},BL:function(ie,cw,le,h){IPCC.aS.bv(h,cw,'string');this.kW(ie,cw,le,h);},uV:function(ie,cw,le,h,kq){IPCC.aS.kq(h,cw,kq);this.kW(ie,cw,le,h);},aCK:function(ie,cw,le,h,kq){IPCC.aS.kq(h,cw,kq,true);this.kW(ie,cw,le,h);},aBo:function(ie,cw,le,h){IPCC.aS.bJ(h,cw);this.kW(ie,cw,le,h);},get_artPage:function(){return this.eP();},get_boundingRectangle:function(){return this.aiU();},get_selected:function(){var aH=this.eP();if(!aH){return false;}var eD=aH.xp();return eD.contains(this);},set_selected:function(value){var aH=this.eP();if(aH){if(this.pl!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var eD=aH.xp();if(value!==eD.contains(this)){if(value){eD.Pb(this);}else{eD.tZ(this);}this.bY('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fK(32,'calloutLineColor');return this.Ba;},set_calloutLineColor:function(value){this.Fq(32,'calloutLineColor','Ba',value);},get_calloutLineIsDistinct:function(){this.fK(32,'calloutLineIsDistinct');return this.yL;},set_calloutLineIsDistinct:function(value){this.kW(32,'calloutLineIsDistinct','yL',value);},get_calloutLineStyle:function(){this.fK(32,'calloutLineStyle');return this.rF;},set_calloutLineStyle:function(value){this.uV(32,'calloutLineStyle','rF',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fK(32,'calloutLineWidth');return this.Ey;},set_calloutLineWidth:function(value){this.za(32,'calloutLineWidth','Ey',value,0,50);},get_calloutPoint:function(){this.fK(32,'calloutPoint');return this.lP;},set_calloutPoint:function(value){this.aBo(32,'calloutPoint','lP',value);},get_calloutType:function(){this.fK(32,'calloutType');return this.Ek;},set_calloutType:function(value){this.uV(32,'calloutType','Ek',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fK(32,'calloutVisible');return this.yZ;},set_calloutVisible:function(value){if(!this.yZ&&value&&this.hT()===IPCC.Web.UI.MarkType.Text){if(this.lP.x===0&&this.lP.y===0){var C=this.di();this.set_calloutPoint({x:C.width,y:C.height*1.5});}}this.kW(32,'calloutVisible','yZ',value);},get_endHeadAngle:function(){this.fK(3,'endHeadAngle');return this.GU;},set_endHeadAngle:function(value){this.za(3,'endHeadAngle','GU',value,0,180);},get_endHeadLength:function(){this.fK(3,'endHeadLength');return this.Ic;},set_endHeadLength:function(value){this.za(3,'endHeadLength','Ic',value,0,100);},get_endHeadType:function(){this.fK(3,'endHeadType');return this.mU;},set_endHeadType:function(value){this.uV(3,'endHeadType','mU',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fK(1<<14|1<<15,'href');return this.oK;},set_href:function(value){this.BL(1<<14|1<<15,'href','oK',value);},get_mask:function(){this.fK(65536,'mask');return this.iG;},set_mask:function(value){this.kW(65536,'mask','iG',value);},get_borderType:function(){this.fK(32768,'borderType');return this.KQ;},set_borderType:function(value){this.BL(32768,'borderType','KQ',value);},get_borderHorizontalRadius:function(){this.fK(32768,'borderHorizontalRadius');return this.HE;},set_borderHorizontalRadius:function(value){this.wO(32768,'borderHorizontalRadius','HE',value);},get_borderVerticalRadius:function(){this.fK(1<<15,'borderVerticalRadius');return this.JL;},set_borderVerticalRadius:function(value){this.wO(32768,'borderVerticalRadius','JL',value);},get_borderOpacity:function(){this.fK(32768,'qu');return this.qu;},set_borderOpacity:function(value){this.Yx(32768,'qu','qu',value,0,255);},get_borderPattern:function(){this.fK(32768,'xB');return this.xB;},set_borderPattern:function(value){this.kW(32768,'xB','xB',value,0,255);},get_fillColor:function(){this.fK(16380+(1<<14),'fillColor');return this.cN;},set_fillColor:function(value){this.Fq(16380+(1<<14),'fillColor','cN',value);},get_fillVisible:function(){this.fK(16380,'fillVisible');return this.pI;},set_fillVisible:function(value){this.kW(16380,'fillVisible','pI',value);},get_fontName:function(){this.fK(6176+8192+65536+(1<<18),'fontName');return this.hq;},set_fontName:function(value){this.BL(6176+8192+65536+(1<<18),'fontName','hq',value);if(this.hT()===IPCC.Web.UI.MarkType.SignatureText||this.hT()===IPCC.Web.UI.MarkType.TextLine){var bH=(this.hT()===IPCC.Web.UI.MarkType.TextLine)?{tX:'pre'}:{};var iQ=IPCC.V.tm(this.an,this.hq,bH);this.yh=iQ.width;this.AA=iQ.height;}if(this.hT()===IPCC.Web.UI.MarkType.TextLine){this.JI=false;}},get_fontSize:function(){this.fK(32+2048+4096+8192,'fontSize');return this.dH;},set_fontSize:function(value){this.za(32+2048+4096+8192,'fontSize','dH',value,0.1,288);},get_fontStyle:function(){this.fK(6176+(1<<18),'fontStyle');return this.dF;},set_fontStyle:function(value){this.aCK(6176+(1<<18),'fontStyle','dF',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fK(3,'headFillColor');return this.zc;},set_headFillColor:function(value){this.Fq(3,'headFillColor','zc',value);},get_interactionMode:function(){this.fK(~0,'interactionMode');return this.pl;},set_interactionMode:function(value){this.uV(~0,'interactionMode','pl',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.fK(32+65536+(1<<18),'maxLength');return this.fr;},set_maxLength:function(value){this.wO(32+65536+(1<<18),'maxLength','fr',value);},get_maxFontSize:function(){this.fK(1<<18,'maxFontSize');return this.iu;},set_maxFontSize:function(value){this.wO(1<<18,'maxFontSize','iu',value);},get_isClosed:function(){this.fK(2,'isClosed');return this.sX;},set_isClosed:function(value){this.kW(2,'isClosed','sX',value);},get_lineColor:function(){return this.kH;},set_lineColor:function(value){this.Fq(13567+32768+(1<<17),'lineColor','kH',value);},get_lineStyle:function(){return this.hB;},set_lineStyle:function(value){this.uV(63+32768,'lineStyle','hB',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.co;},set_lineWidth:function(value){this.za(13567+32768+(1<<17),'lineWidth','co',value,0,50);},get_lineVisible:function(){this.fK(172+65536,'lineVisible');return this.iL;},set_lineVisible:function(value){this.kW(172+65536,'lineVisible','iL',value);},get_opacity:function(){return this.cA;},set_opacity:function(value){this.Yx(895+2048+1024,'opacity','cA',value,0,255);},get_points:function(){this.fK(19,'points');return this.oM();},get_conversation:function(){return this.ans();},get_data:function(){return this.vt();},get_image:function(){this.fK(16384,'image');return this.dM();},set_image:function(value){this.fK(16384,'image');this.ze(value);},get_rectangle:function(){this.fK((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.di();},set_rectangle:function(value){this.fK((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aS.C(value,'rectangle');this.BA(value);if(this.hT()===IPCC.Web.UI.MarkType.TextLine){this.JI=false;}},get_startHeadAngle:function(){this.fK(3,'startHeadAngle');return this.IV;},set_startHeadAngle:function(value){this.za(3,'startHeadAngle','IV',value,0,180);},get_startHeadLength:function(){this.fK(3,'startHeadLength');return this.Kv;},set_startHeadLength:function(value){this.za(3,'startHeadLength','Kv',value,0,100);},get_startHeadType:function(){this.fK(3,'startHeadType');return this.JH;},set_startHeadType:function(value){this.uV(3,'startHeadType','JH',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fK(14496+65536+(1<<17)+(1<<18),'text');return this.an;},set_text:function(value){if(this.an===value){return;}this.BL(14496+65536+(1<<17)+(1<<18),'text','an',value);if(this.hT()===IPCC.Web.UI.MarkType.SignatureText||this.hT()===IPCC.Web.UI.MarkType.TextLine){var bH=(this.hT()===IPCC.Web.UI.MarkType.TextLine)?{tX:'pre'}:{};var iQ=IPCC.V.tm(this.an,this.hq,bH);this.yh=iQ.width;this.AA=iQ.height;}if(this.fF){while(this.fF.length>0){this.fF.pop();}}},get_textHorizontalAlignment:function(){this.fK(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.jo;},set_textHorizontalAlignment:function(value){this.uV(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','jo',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fK(32,'textVerticalAlignment');return this.wu;},set_textVerticalAlignment:function(value){this.uV(32,'textVerticalAlignment','wu',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fK(6176+65536+(1<<18),'textColor');return this.oR;},set_textColor:function(value){this.Fq(6176+65536+(1<<18),'textColor','oR',value);},get_textOpacity:function(){this.fK(32,'textOpacity');return this.yQ;},set_textOpacity:function(value){this.Yx(32,'textOpacity','yQ',value,0,255);},get_textOrientation:function(){this.fK(32,'textOrientation');return this.yD;},set_textOrientation:function(value){this.uV(32,'textOrientation','yD',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.hT();},get_visible:function(){return this.cd;},set_visible:function(value){this.kW((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','cd',value);},get_markID:function(){return this.mN();},get_pathString:function(){return this.uW;},set_pathString:function(value){var uW=this.get_pathString();if(uW!==value){this.ahd=true;}this.BL(1088,'pathString','uW',value);},get_pathWidth:function(){return this.Uf;},set_pathWidth:function(value){this.wO(1088,'pathWidth','Uf',value);},get_pathHeight:function(){return this.Ts;},set_pathHeight:function(value){this.wO(1088,'pathHeight','Ts',value);},get_startIndex:function(){this.fK((1<<17)+(1<<14)+8192+512,'startIndex');return this.aq;},set_startIndex:function(value){this.wO((1<<17)+(1<<14)+8192+512,'startIndex','aq',value);},get_textLength:function(){this.fK((1<<17)+(1<<14)+8192+512,'textLength');return this.dA;},set_textLength:function(value){this.wO((1<<17)+(1<<14)+8192+512,'textLength','dA',value);},add_propertyChanged:function(handler){this.kX(handler);},remove_propertyChanged:function(handler){this.nl(handler);},add_markTextSelectionChanged:function(handler){this.ES(handler);},remove_markTextSelectionChanged:function(handler){this.FN(handler);},move:function(deltaX,deltaY){IPCC.aS.ho(deltaX,'deltaX');IPCC.aS.ho(deltaY,'deltaY');this.Ho(deltaX,deltaY);},moveBackward:function(){if(this.eP()){var index=this.eP().nQ(this);var dg=this.eP().afQ();if(index>dg){this.eP().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.eP()){var index=this.eP().nQ(this);if(index<this.eP().YT()-1){this.eP().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.eP()){var dg=0;dg=this.eP().afQ();this.eP().reorderMark(this,dg);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.eP()){this.eP().reorderMark(this,this.eP().YT()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.eP()){this.eP().removeMark(this);}},selectText:function(textRanges){this.XD(textRanges);},aBl:function(){var eB={};var K=this;var ai,XH,bJ,C,H;function ct(cw,LL){eB[LL]=K[cw];};var kD=false;var iE=false;var xb=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kD=true;xb=true;eB.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:kD=true;xb=true;eB.__type='PolyLineMark:#IPCC.Web';ct('sX','ic');break;case IPCC.Web.UI.MarkType.Rectangle:iE=true;eB.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:iE=true;eB.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:iE=true;eB.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:xb=true;eB.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:iE=true;eB.__type='TextMark:#IPCC.Web';ct('Ba','clc');ct('yL','clid');ct('rF','cls');ct('Ey','clw');ct('Ek','ct');ct('yZ','cv');ct('hq','fn');ct('dH','fs');ct('dF','fst');ct('hB','ls');ct('an','te');ct('jo','tha');ct('wu','tva');ct('oR','tc');ct('yQ','to');ct('yD','tor');bJ=this.lP;if(bJ.x!==0||bJ.y!==0){eB.cp={x:bJ.x,y:bJ.y};}break;case IPCC.Web.UI.MarkType.Stamp:iE=true;eB.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:iE=true;eB.__type='HighlightText:#IPCC.Web';break;}if(kD){ct('GU','eha');ct('Ic','ehl');ct('mU','eht');ct('zc','hfc');ct('IV','sha');ct('Kv','shl');ct('JH','sht');}else{ct('cN','fc');ct('pI','fv');ct('iL','lv');}if(iE){C=this.get_rectangle();eB.r={x:C.x,y:C.y,width:C.width,height:C.height};}eB.t=this.get_type();ct('kH','lc');ct('hB','ls');ct('co','lw');ct('cA','o');ct('cd','v');if(xb){ai=this.oM();XH=[];for(H=0;H<ai.get_length();H++){bJ=ai.getPoint(H);XH.push({x:bJ.x,y:bJ.y});}eB.p=XH;}return eB;},avK:function(eB){var K=this;var ai,H;function ct(cw,LL){if(eB.hasOwnProperty(LL)){K[cw]=eB[LL];}};var kD=false;var iE=false;var xb=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kD=true;if(eB.p&&eB.p.length===2){ai=this.oM();ai.setPoint(0,new IPCC.Web.UI.Point(eB.p[0].x,eB.p[0].y));ai.setPoint(1,new IPCC.Web.UI.Point(eB.p[1].x,eB.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:kD=true;xb=true;ct('sX','ic');break;case IPCC.Web.UI.MarkType.Rectangle:iE=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:iE=true;break;case IPCC.Web.UI.MarkType.Ellipse:iE=true;break;case IPCC.Web.UI.MarkType.Polygon:xb=true;break;case IPCC.Web.UI.MarkType.Text:iE=true;ct('Ba','clc');ct('yL','clid');ct('rF','cls');ct('Ey','clw');ct('Ek','ct');ct('yZ','cv');ct('hq','fn');ct('dH','fs');ct('dF','fst');ct('hB','ls');ct('an','te');ct('jo','tha');ct('wu','tva');ct('oR','tc');ct('yQ','to');ct('yD','tor');if(eB.cp){this.lP=new IPCC.Web.UI.Point(eB.cp.x,eB.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:iE=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:iE=true;break;}if(kD){ct('GU','eha');ct('Ic','ehl');ct('mU','eht');ct('zc','hfc');ct('IV','sha');ct('Kv','shl');ct('JH','sht');}else{ct('cN','fc');ct('pI','fv');ct('iL','lv');}if(iE){if(eB.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(eB.r.x,eB.r.y,eB.r.width,eB.r.height));}}eB.t=this.get_type();ct('kH','lc');ct('hB','ls');ct('co','lw');ct('cA','o');ct('cd','v');if(eB.p&&xb){ai=this.oM();for(H=0;H<eB.p.length;H++){ai.addPoint(new IPCC.Web.UI.Point(eB.p[H].x,eB.p[H].y));}}return eB;}};IPCC.Web.UI.Mark.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Mark.registerClass('IPCC.Web.UI.Mark');IPCC.Web.UI.ArtPage=function(){var bn=[];var bj=new IPCC.Web.UI.iS();var eD=new IPCC.Web.UI.MarkCollection();var K=this;var Hd=true;this.azx=[];function onMarkSelectionChanged(ay,L){var G=L.mark;if(G.cL&&G.cL[0]&&G.cL[0].cd===false){return;}var dX;var aAh=L.mark.get_selected();if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.aa!==undefined){eD.remove_markAdded(onMarkSelectionChanged);eD.remove_markRemoved(onMarkSelectionChanged);for(var H=0;H<bn.length;H++){if(bn[H].aa===G.aa){if(bn[H].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){dX=bn[H];}else{bn[H].set_selected(L.mark.get_selected());}}}eD.add_markAdded(onMarkSelectionChanged);eD.add_markRemoved(onMarkSelectionChanged);if(dX){dX.set_selected(aAh);}return;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eD.remove_markAdded(onMarkSelectionChanged);eD.remove_markRemoved(onMarkSelectionChanged);for(var bE=0;bE<G.cL.length;bE++){G.cL[bE].set_selected(L.mark.get_selected());}eD.add_markAdded(onMarkSelectionChanged);eD.add_markRemoved(onMarkSelectionChanged);}var eG=new IPCC.Web.UI.MarkEventArgs();eG.mark=G;eG.zIndex=K.nQ(G);eG.length=1;K.bB('markSelectionChanged',eG);};eD.add_markAdded(onMarkSelectionChanged);eD.add_markRemoved(onMarkSelectionChanged);var aAV=eD.addMark;eD.addMark=function(G){if(K.nQ(G)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eD.contains(G)){aAV.call(eD,G);G.bY('selected');}};var axr=eD.addMarks;eD.addMarks=function(AG){var pp=[];function QC(G){if(K.nQ(G)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eD.contains(G)){pp.push(G);}};AG.forEach(QC,{});axr.call(eD,AG);var H;for(H=0;H<pp.length;H++){pp[H].bY('selected');}};var axh=eD.removeMark;eD.removeMark=function(G){if(eD.contains(G)){axh.call(eD,G);G.bY('selected');}};var avj=eD.removeAllMarks;eD.removeAllMarks=function(){var pp=[];function QC(G){if(eD.contains(G)){pp.push(G);}};eD.forEach(QC,{});avj.call(eD);var H;for(H=0;H<pp.length;H++){pp[H].bY('selected');}};function aeG(ku){IPCC.aS.na(ku,'zIndex',0,bn.length-1);};this.YT=function(){return bn.length;};this.afQ=function(){var H=0;for(;H<bn.length;H++){if(bn[H].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bn[H].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bn[H].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bn[H].aa!==undefined)){break;}}return H;};this.xp=function(){return eD;};this.Ee=function(h){if(h===Hd){return;}Hd=h;this.bY('Hd');};this.NS=function(){return Hd;};var pM=false;this.lU=function(){return pM;};this.oP=function(h){if(typeof h!=="boolean"){return;}pM=h;this.bY('redactionDraftMode');};function qD(ay,L){if(L.get_propertyName()==='selected'){return;}var eG=new IPCC.Web.UI.MarkEventArgs();eG.mark=ay;eG.zIndex=K.nQ(ay);eG.propertyName=L.cw;eG.length=1;if(eG.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eG.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eG.mark.aa!=='undefined')){K.aqq(ay);}K.bB('markChanged',eG);};function zS(ay){var eG=new IPCC.Web.UI.MarkEventArgs();eG.mark=ay;eG.zIndex=K.nQ(ay);eG.length=1;K.bB('markTextSelectionChanged',eG);};function Mu(ay,L){var eG=new IPCC.Web.UI.CommentEventArgs();eG.mark=ay;eG.comment=L.comment;eG.index=L.index;K.bB('commentAdded',eG);};function Oz(ay,L){var eG=new IPCC.Web.UI.CommentEventArgs();eG.mark=ay;eG.comment=L.comment;eG.index=L.index;K.bB('commentRemoved',eG);};function Jo(ay,L){var eG=new IPCC.Web.UI.CommentEventArgs();eG.mark=ay;eG.comment=L.comment;eG.index=L.index;K.bB('commentChanged',eG);};this.Pb=function(G,qe){qe=qe||{};var ku=this.nQ(G);if(ku>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(G.eP()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bn.push(G);G.mk(this);G.add_propertyChanged(qD);G.add_markTextSelectionChanged(zS);G.vs(Mu);G.xu(Oz);G.rE(Jo);var L=new IPCC.Web.UI.MarkEventArgs();L.mark=G;if(G.get_type()===IPCC.Web.UI.MarkType.Highlight||G.get_type()===IPCC.Web.UI.MarkType.HighlightText||G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||G.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.aa!==undefined)){this.adC(G,0);}else{L.zIndex=bn.length-1;}L.clientX=qe.clientX;L.clientY=qe.clientY;L.length=1;K.bB('markAdded',L);};this.CQ=function(hU,dK){var Hq=[].concat(bn);var H;for(H=0;H<Hq.length;H++){hU.call(dK,Hq[H],H,this);}};this.MX=function(ku){aeG(ku);return bn[ku];};this.nQ=function(G){var H;for(H=0;H<bn.length;H++){if(bn[H]===G){return H;}}return-1;};this.awC=function(fD){var eB;if(typeof JSON!=='undefined'){eB=JSON.parse(fD);}else{eB=IPCC.cP.oE(fD,true);}this.Qv();var HK=[];var H;var Mo=eB.m;if(Mo){for(H=0;H<Mo.length;H++){var aw=new IPCC.Web.UI.Mark(Mo[H].t);aw.avK(Mo[H]);aw.mk(this);aw.add_propertyChanged(qD);aw.add_markTextSelectionChanged(zS);HK.push(aw);}}bn=HK;K.bB('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aoI=function(){var jG=new Array(36);var bV=0;var H;var bF;for(H=0;H<8;H++){jG[bV++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(H=0;H<3;H++){jG[bV++]=45;for(bF=0;bF<4;bF++){jG[bV++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}jG[bV++]=45;var aqJ=new Date().getTime();var aqT=("0000000"+aqJ.toString(16).toUpperCase()).substr(-8);for(H=0;H<8;H++){jG[bV++]=aqT.charCodeAt(H);}for(H=0;H<4;H++){jG[bV++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,jG);};function XN(kf){var aL=kf.firstChild;while(aL.nodeType!==1){aL=aL.nextSibling;}return aL;};function NK(uh,agq,apG){var avD=parseFloat(uh.getAttribute(agq));var aws=parseFloat(uh.getAttribute(agq+'YW'));return apG/(avD/aws);};function asT(Oe,aR,al){if(aR<=0&&al<=0){return 1;}var akh=Oe.getAttribute('pageWidth');var akq=Oe.getAttribute('pageHeight');var Qd,Wi,aj,uh,H;if(akh&&akq){Qd=parseFloat(akh);Wi=parseFloat(akq);if(isFinite(Qd)&&isFinite(Wi)&&Qd>0&&Wi>0){return aR/Qd;}}for(H=0;H<Oe.childNodes.length;H++){uh=Oe.childNodes[H];if(uh.nodeName!=='annotation'){continue;}aj=NK(uh,'width',aR);if(isFinite(aj)&&aj>0){return aj;}aj=NK(uh,'height',al);if(isFinite(aj)&&aj>0){return aj;}aj=NK(uh,'x',aR);if(isFinite(aj)&&aj>0){return aj;}aj=NK(uh,'y',al);if(isFinite(aj)&&aj>0){return aj;}}return 1;};this.awp=function(kz,aY,aR,al,VL,stampImages,xT,vg){var K=this;if(xT!==true){this.Qv();}if(kz){var kp;if(IPCC.yu.JK()){kp=kz.firstChild;}else{var Rc=kz.firstChild.nodeName;if(Rc.toLowerCase()==='xml'){kp=kz.firstChild.nextSibling;}else{kp=kz.firstChild;}}var dQ=XN(kp);if(dQ.nodeName!=='pages'){throw 'ERROR: pages';}if(dQ.hasChildNodes()){var H;for(H=0;H<dQ.childNodes.length;H++){var aI=dQ.childNodes[H];if(aI.nodeName!=='page'){continue;}var AS=aI.getAttribute('id');var hO=false;var ur;var rV='';var Fs=[];var iJ;var oH,bE=0;var dA,cz,aq;if(VL){var aam=aI.getAttribute('pageWidth'),aaM=aI.getAttribute('pageHeight');if(aam){VL.adP(aam);}if(aaM){VL.ady(aaM);}}var mA=[],MO={},cL;if((AS&&parseInt(AS,10))===(aY+1)){hO=true;var HK=[];var bF;var aw;var iE,hh,qz,sd,rK,fr;var mn=1;var akO=asT(aI,aR,al);if(akO>0){mn=akO;}for(bF=0;bF<aI.childNodes.length;bF++){var bC=aI.childNodes[bF];if(bC.nodeName!=='annotation'){continue;}var ji=parseFloat(bC.getAttribute('width'))*mn;var ix=parseFloat(bC.getAttribute('height'))*mn;var hj=parseFloat(bC.getAttribute('x'))*mn;var gK=parseFloat(bC.getAttribute('y'))*mn;var QQ=bC.getAttribute('fillColor'),TX,pd,Sa=bC.getAttribute('lineColor'),ajo,it,adK=bC.getAttribute('fontColor'),ajg,xo;if(QQ==='transparent'){TX=pd=QQ;}else{TX=parseInt(QQ||0,10);pd=parseInt(TX,10).toString(16);while(pd.length<6){pd='0'+pd;}pd='#'+pd;}if(Sa==='transparent'){it=Sa;}else{ajo=parseInt(Sa||0,10);it=parseInt(ajo,10).toString(16);while(it.length<6){it='0'+it;}it='#'+it;}if(adK){ajg=parseInt(adK||0,10);xo=parseInt(ajg,10).toString(16);while(xo.length<6){xo='0'+xo;}xo='#'+xo;}var asr=bC.getAttribute('stampSize');var Nk=bC.getAttribute('dragDirection');var GQ=parseInt(bC.getAttribute('opacity'),10);if(isNaN(GQ)){GQ=255;}if(bC.nodeName==='annotation'){var ahZ=bC.getAttribute('label');if(!ahZ){ahZ='';}var kn=bC.getAttribute('drawType');var kV;switch(kn){case 'imagestamp':case 'imagestamp_redact':var rd=bC.getAttribute('imageStampId');var af=(kn==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;aw=new IPCC.Web.UI.Mark(af);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_image(stampImages[rd].base64format);aw.rd=rd;iE=true;if(kn==='imagestamp_redact'){aw.lk(true);}break;case 'circle':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});iE=true;aw.set_lineColor(it);aw.set_fillVisible(false);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});iE=true;aw.set_fillColor(pd);aw.set_lineColor(it);aw.set_fillVisible(true);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'text':case 'text_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fontName('verdana');aw.set_fontSize(10);aw.set_opacity(0);ur=undefined;aw.set_fillColor('#000000');if(kn==='text_redact'){aw.lk(true);}if(kn==='text'){aw.set_fillColor(pd);aw.set_lineColor(it);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));aw.set_fillVisible(true);aw.set_opacity(GQ);}fr=parseInt(bC.getAttribute('maxLength'));if(!isNaN(fr)){aw.set_maxLength(fr);}mA=[];hh=bC.firstChild;while((hh)&&(hh.nodeType!==4)){hh=hh.nextSibling;}if((hh)&&(hh.nodeType===4)){kV=hh.innerText||hh.textContent||hh.data;aw.bD.an=kV;oH=kV.split("</TEXTFORMAT>");rV='';Fs=[];for(bE=0;bE<oH.length;bE++){if(oH[bE].match(/<TEXTFORMAT/)){oH[bE]=oH[bE]+"</TEXTFORMAT>";mA.push(oH[bE]);}}for(bE=0;bE<mA.length;bE++){if(mA[bE].match(/<P/)){ur=this.afP(mA[bE]);Fs.push(ur);rV+=ur+" ";if(bE===0){iJ=this.agO(mA[bE]);amf(iJ,aw);}}rV=rV.replace(/\s+$/g,"");aw.set_text(rV);var FX=this.age(mA[bE]);switch(FX){case 'CENTER':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var ai=aw.oM();if(Nk==='br'){ai.setPoint(1,new IPCC.Web.UI.Point(hj+ji,gK+ix));ai.setPoint(0,new IPCC.Web.UI.Point(hj,gK));}else if(Nk==='bl'){ai.setPoint(1,new IPCC.Web.UI.Point(hj,gK+ix));ai.setPoint(0,new IPCC.Web.UI.Point(hj+ji,gK));}else if(Nk==='tr'){ai.setPoint(1,new IPCC.Web.UI.Point(hj+ji,gK));ai.setPoint(0,new IPCC.Web.UI.Point(hj,gK+ix));}else if(Nk==='tl'){ai.setPoint(1,new IPCC.Web.UI.Point(hj,gK));ai.setPoint(0,new IPCC.Web.UI.Point(hj+ji,gK+ix));}aw.set_lineColor(it);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));if(kn==='arrow'){aw.set_headFillColor(it);aw.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);aw.set_startHeadAngle(30);aw.set_startHeadLength(35);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fillColor(it);if(kn==='stamp_redact'){aw.lk(true);aw.set_fillColor('#000000');}hh=bC.firstChild;while((hh)&&(hh.nodeType!==4)){hh=hh.nextSibling;}if((hh)&&(hh.nodeType===4)){kV=hh.innerText||hh.textContent||hh.data;aw.bD.an=kV;aw.set_text(kV);}break;case 'highlightText':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fillColor(it);aw.aa=bC.getAttribute('highlightGroupID');if(bC.getAttribute('textLength')){aw.dA=parseInt(bC.getAttribute('textLength'),10);}aw.cz=bC.getAttribute('selectedText');if(bC.getAttribute('startIndex')){aw.aq=parseInt(bC.getAttribute('startIndex'),10);}aw.kI=bC.getAttribute('isHighlight');aw.set_opacity(127);cL=QJ(bC,mn);if(cL){aw.cL=cL;}break;case 'rectangle_filled_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fillColor(pd||'#000000');aw.set_lineColor(it);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));aw.set_textColor(xo||'#ffffff');aw.set_fillVisible(true);aw.lk(true);qz=bC.getAttribute('highlightGroupID');aw.set_text(IPCC.V.wM(bC.getAttribute('meta')));if(qz){aw.set_lineWidth(0);aw.aa=qz;var dX=MO[qz];if(!dX){dX=MO[qz]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);dX.aa=qz;dX.set_rectangle(aw.get_rectangle());dX.lk(true);dX.set_text(IPCC.V.wM(bC.getAttribute('meta')));}else{var EP=false;var pN=dX.get_rectangle();var jy=pN.x,jb=pN.x+pN.width,_top=pN.y,kj=pN.y+pN.height;if(pN.x>hj){EP=true;jy=hj;}if(pN.y>gK){EP=true;_top=gK;}if(pN.x+pN.width<hj+ji){EP=true;jb=hj+ji;}if(pN.y+pN.height<gK+ix){EP=true;kj=gK+ix;}if(EP===true){dX.set_rectangle({x:jy,y:_top,width:jb-jy,height:kj-_top});}}}break;case 'text_selection_redaction':qz=bC.getAttribute('highlightGroupID');aw=MO[qz];if(!aw){aw=MO[qz]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);aw.aa=qz;aw.set_rectangle({x:0,y:0,width:0,height:0});aw.lk(true);aw.set_text(bC.getAttribute('meta'));}dA=bC.getAttribute('textLength');if(dA){aw.dA=parseInt(dA,10);}cz=bC.getAttribute('selectedText');if(cz){aw.cz=cz;}aq=bC.getAttribute('startIndex');if(aq){aw.aq=parseInt(aq,10);}break;case 'text_hyperlink_annotation':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);aw.set_fillColor(it);qz=bC.getAttribute('highlightGroupID');aw.aa=qz;var oK=bC.getAttribute('href');if(oK){aw.set_href(IPCC.V.wM(oK));}dA=bC.getAttribute('textLength');if(dA){aw.dA=parseInt(dA,10);}cz=bC.getAttribute('selectedText');if(cz){aw.cz=cz;}aq=bC.getAttribute('startIndex');if(aq){aw.aq=parseInt(aq,10);}var kI=bC.getAttribute('isHighlight');aw.kI=kI?kI:'n';aw.cL=QJ(bC,mn);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});break;case 'rectangle':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_lineVisible(true);aw.set_lineColor(it);aw.set_fillVisible(false);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'rectangle_filled':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fillColor(pd);aw.set_lineColor(it);aw.set_fillVisible(true);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fillColor(pd);aw.set_lineColor(it);aw.set_fillVisible(true);if(kn==='rectangle_trans_redact'){aw.lk(true);}aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(kn==='freehand'){aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(bC.getAttribute('align').toUpperCase()){case 'LEFT':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_pathWidth(parseFloat(bC.getAttribute('pathWidth')));aw.set_pathHeight(parseFloat(bC.getAttribute('pathHeight')));aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));aw.set_lineColor(it);var uH=bC.firstChild;while((uH)&&(uH.nodeType!==4)){uH=uH.nextSibling;}if((uH)&&(uH.nodeType===4)){kV=uH.innerText||uH.textContent||uH.data;aw.bD.an=kV;aw.set_pathString(kV);}break;case 'signature_text':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fontSize(10);aw.set_lineWidth=0;aw.set_fillVisible(true);aw.set_opacity(1);hh=bC.firstChild;this.Uh(hh,aw);aw.yh=parseFloat(bC.getAttribute('fontWidth'));aw.AA=parseFloat(bC.getAttribute('fontHeight'));break;case 'text_area_signature':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_fontName('verdana');ur=undefined;fr=parseInt(bC.getAttribute('maxLength'));if(!isNaN(fr)){aw.set_maxLength(fr);}var iu=parseInt(bC.getAttribute('maxFontSize'));if(!isNaN(iu)){aw.set_maxFontSize(iu);}hh=bC.firstChild;this.Uh(hh,aw);break;case 'text_input_signature':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});hh=bC.firstChild;this.Uh(hh,aw);aw.yh=parseFloat(bC.getAttribute('fontWidth'));aw.AA=parseFloat(bC.getAttribute('fontHeight'));aw.set_lineVisible(false);fr=parseInt(bC.getAttribute('maxLength'));if(!isNaN(fr)){aw.set_maxLength(fr);}avQ(bC,aw);break;case 'polyline':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));aw.set_lineColor(it);var tW=bC.firstChild;while((tW)&&(tW.nodeType!==4)){tW=tW.nextSibling;}var Dy;if((tW)&&(tW.nodeType===4)){kV=tW.innerText||tW.textContent||tW.data;if(kV&&kV!=='undefined'){if(typeof JSON!=='undefined'){Dy=JSON.parse(kV);}else{Dy=IPCC.cP.oE(kV,true);}ai=aw.oM();if(Dy){for(H=0;H<Dy.length;H++){ai.addPoint(new IPCC.Web.UI.Point(Dy[H].x*mn,Dy[H].y*mn));}}}}break;case 'strikethrough':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);aw.set_rectangle({x:hj,y:gK,width:ji,height:ix});aw.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));aw.set_lineColor(it);aw.aa=bC.getAttribute('highlightGroupID');var textLength=bC.getAttribute('textLength');if(textLength){aw.dA=parseInt(textLength,10);}aw.cz=bC.getAttribute('selectedText');var startIndex=bC.getAttribute('startIndex');if(startIndex){aw.aq=parseInt(startIndex,10);}aw.kI=bC.getAttribute('isHighlight');cL=QJ(bC,mn);if(cL){aw.cL=cL;}break;default:}if(aw){aw.bD.lm=bC.getAttribute('nodeId');if(GQ>=0&&(kn==='rectangle_trans_redact'|| !aw.hW())&&kn!=='stamp'&&kn!=='imagestamp'&&kn!=='imagestamp_redact'&&kn!=='text_hyperlink_annotation'&&kn!=='text_input_signature'&&kn!=='text_area_signature'&&kn!=='strikethrough'){aw.set_opacity(GQ);}aw.bD.Bp=asr;aw.bD.aDa=kn;aw.bD.co=bC.getAttribute('lineWidth');aw.bD.cN=bC.getAttribute('fillColor');aw.bD.kH=bC.getAttribute('lineColor');aw.bD.aGe=bC.getAttribute('dragDirection');aw.bD.AS=AS;aw.bD.aL=bC.getAttribute('x');aw.bD.dr=bC.getAttribute('y');aw.bD.ao=bC.getAttribute('height');aw.bD.bA=bC.getAttribute('width');aw.bD.aDx=bC.getAttribute('x_percent');aw.bD.aDO=bC.getAttribute('y_percent');aw.bD.aGj=bC.getAttribute('height_percent');aw.bD.aGB=bC.getAttribute('width_percent');aw.bD.aGx=bC.getAttribute('formUser');aw.bD.aEU=bC.getAttribute('created');aw.bD.aGG=bC.getAttribute('modified');aw.bD.aEL=bC.getAttribute('saveDate');aw.bD.aEn=bC.getAttribute('saveTime');aw.bD.fP=bC.getAttribute('meta');var xl=bC.firstChild;while((xl)&&(xl.nodeType!==4)){xl=xl.nextSibling;}if((xl)&&(xl.nodeType===4)){aw.cR.push(xl.data);}else{aw.cR.push('');}var pl=parseInt(bC.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;aw.set_interactionMode(pl);aw.mk(this);aw.add_propertyChanged(qD);aw.add_markTextSelectionChanged(zS);aw.vs(Mu);aw.xu(Oz);aw.rE(Jo);HK.push(aw);awA(bC,aw);sd=IPCC.V.ZV(bC.getAttribute('created'));rK=IPCC.V.ZV(bC.getAttribute('modified'));sd=sd||new Date();rK=rK||new Date();aw.initializeDates(sd,rK);if(vg){aw.set_visible(false);}}}}bn=bn.concat(HK);K.bB('marksLoaded',{});}if(hO){aBB(kz,aY);break;}}}}};this.Uh=function(tS,aw){var H,kV,oH,rV,Fs,ur,mA=[],DV=aw.get_type()===IPCC.Web.UI.MarkType.SignatureText,aqa=DV?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,iJ;while((tS)&&(tS.nodeType!==4)){tS=tS.nextSibling;}if((tS)&&(tS.nodeType===4)){kV=tS.innerText||tS.textContent||tS.data;aw.bD.an=kV;oH=kV.split("</TEXTFORMAT>");for(H=0;H<oH.length;H++){if(oH[H].match(/<TEXTFORMAT/)){oH[H]=oH[H]+"</TEXTFORMAT>";mA.push(oH[H]);}}rV='';Fs=[];for(H=0;H<mA.length;H++){if(mA[H].match(/<P/)){ur=this.afP(mA[H]);Fs.push(ur);rV+=ur+" ";if(H===0){iJ=this.agO(mA[H]);amf(iJ,aw);}}rV=rV.replace(/\s+$/g,"");aw.set_text(rV);var FX=this.age(mA[H]);switch(FX){case 'LEFT':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aw.set_textHorizontalAlignment(aqa);break;}}}};function QH(agm,dB){for(var i=0;i<agm.childNodes.length;i++){var WU=agm.childNodes[i];if(WU.nodeName==='kvp'){var bw=WU.getAttribute("key");var h=WU.getAttribute("value");dB.set_data(bw,h);}}};function avO(LN,cj){var cW=new IPCC.Web.UI.Comment(IPCC.V.wM(LN.getAttribute("text")));cW.set_creationTime(LN.getAttribute("created"));cj.addComment(cW);for(var i=0;i<LN.childNodes.length;i++){var aln=LN.childNodes[i];if(aln.nodeName==='data'){QH(aln,cW.get_data());}}};function awc(alB,cj){for(var i=0;i<alB.childNodes.length;i++){var KZ=alB.childNodes[i];if(KZ.nodeName==='comments'){var hy=KZ;for(var j=0;j<hy.childNodes.length;j++){var akP=hy.childNodes[j];if(akP.nodeName==='comment'){avO(akP,cj);}}}else if(KZ.nodeName==='data'){QH(KZ,cj.get_data());}}};function awA(HX,G){for(var i=0;i<HX.childNodes.length;i++){var vU=HX.childNodes[i];if(vU.nodeName==='conversation'){awc(vU,G.get_conversation());}else if(vU.nodeName==='data'){QH(vU,G.get_data());}}};function avQ(HX,G){var h=null,HO={};for(var i=0;i<HX.childNodes.length;i++){var vU=HX.childNodes[i];if(vU.nodeName==='inputMask'){h=IPCC.V.wM(vU.getAttribute('value'));for(var j=0;j<vU.childNodes.length;j++){var Xe=vU.childNodes[j];if(Xe.nodeName==='translation'){HO[IPCC.V.wM(Xe.getAttribute('key'))]=new RegExp(IPCC.V.wM(Xe.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(h!==null){G.set_mask({value:h,translations:HO});}};function QJ(rs,xc){var gi=null,hZ;for(var i=0;i<rs.childNodes.length;i++){hZ=rs.childNodes[i];if(hZ.nodeName==='line-rectangles'){if(!gi){gi=awd(hZ,xc);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return gi;};function awd(rs,xc){var gi=[],hZ;for(var i=0;i<rs.childNodes.length;i++){hZ=rs.childNodes[i];if(hZ.nodeName==='rectangle'){gi.push(avr(hZ,xc));}}return gi;};function avr(rs,xc){var aL=parseFloat(rs.getAttribute("x"))*xc;var dr=parseFloat(rs.getAttribute("y"))*xc;var bA=parseFloat(rs.getAttribute("width"))*xc;var ao=parseFloat(rs.getAttribute("height"))*xc;return new IPCC.Web.UI.Rectangle(aL,dr,bA,ao);};this.RZ=function(bo,Fh,uK,iL,cA,bV){var aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aw.set_rectangle({x:bo.x,y:bo.y,width:bo.width,height:bo.height});aw.set_fillColor(uK);aw.set_fillVisible(true);aw.aq=bV;aw.dA=1;if(cA){aw.set_opacity(cA);}else{aw.set_opacity(127);}K.addMark(aw);return aw;};this.aqy=function(bo,QY,bV){var aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aw.set_rectangle({x:bo.x,y:bo.y,width:bo.width,height:bo.height});aw.set_fillColor(QY.get_fillColor());aw.set_fillVisible(true);aw.aq=bV;aw.dA=1;if(QY.get_opacity()){aw.set_opacity(QY.get_opacity());}else{aw.set_opacity(127);}K.addMark(aw);return aw;};function amf(iJ,aw){for(var cl=0;cl<iJ.length;cl++){var cK=iJ[cl].attribs;var hO=false;if(iJ[cl].attribs.length>1&& !hO&&iJ[cl].IP==='font'){hO=true;for(var bF=0;bF<cK.length;bF++){if(cK[bF].aN==="FACE"){aw.set_fontName(cK[bF].h);}else if(cK[bF].aN==="SIZE"&&aw.get_type()!==IPCC.Web.UI.MarkType.TextLine&&aw.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var sQ=parseFloat(cK[bF].h);aw.set_fontSize(sQ);}else if(cK[bF].aN==="COLOR"){var akX=cK[bF].h;if(aw.get_type()===IPCC.Web.UI.MarkType.SignatureText){aw.set_fillColor(akX);}else{aw.set_textColor(akX);}}}var kt=false;if(iJ[cl+1]&&aw.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(iJ[cl+1].tagName==='font'){break;}else{var xz=iJ[cl+1].IP;if(xz==='b'||xz==='i'||xz==='u'||xz==='s'){if(xz==='b'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(xz==='i'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(xz==='u'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(xz==='s'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}kt=true;}}if(iJ[cl+2]){var alF=iJ[cl+2].IP;kt=Sf(aw,kt,alF);}if(iJ[cl+3]){var amk=iJ[cl+3].IP;kt=Sf(aw,kt,amk);}if(iJ[cl+4]){var aml=iJ[cl+4].IP;kt=Sf(aw,kt,aml);}if(hO){break;}}}}};function Sf(G,ail,yJ){var kt=ail;var aw=G;if(ail){if(yJ==='b'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);kt=true;}else if(yJ==='i'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);kt=true;}else if(yJ==='u'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);kt=true;}else if(yJ==='s'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);kt=true;}}else{if(yJ==='b'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);kt=true;}else if(yJ==='i'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);kt=true;}else if(yJ==='u'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);kt=true;}else if(yJ==='s'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);kt=true;}}return kt;};function DR(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aar=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aeO=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,apy=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var arV=DR("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var KM=DR("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aDM=DR("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var alJ=DR("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var asO=DR("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var amz=DR("script,style");this.aiY=function(html,handler){var bV,wX,uo,nb=[],iq=html;function parseEndTag(tag,tagName){var gS;if(!tagName){gS=0;}else{for(gS=nb.length-1;gS>=0;gS--){if(nb[gS]===tagName){break;}}}if(gS>=0){for(var i=nb.length-1;i>=gS;i--){if(handler.end){handler.end(nb[i]);}}nb.length=gS;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(KM[tagName]){while(nb.last()&&aDM[nb.last()]){parseEndTag("",nb.last());}}if(alJ[tagName]&&nb.last()===tagName){parseEndTag("",tagName);}unary=arV[tagName]|| ! !unary;if(!unary){nb.push(tagName);}if(handler.start){var attrs=[];rest.replace(apy,function(uo,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:asO[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};nb.last=function(){return this[this.length-1];};function ayE(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){wX=true;if(!nb.last()|| !amz[nb.last()]){if(html.indexOf("<!--")===0){bV=html.indexOf("-->");if(bV>=0){if(handler.comment){handler.comment(html.substring(4,bV));}html=html.substring(bV+3);wX=false;}}else if(html.indexOf("</")===0){uo=html.match(aeO);if(uo){html=html.substring(uo[0].length);uo[0].replace(aeO,parseEndTag);wX=false;}}else if(html.indexOf("<")===0){uo=html.match(aar);if(uo){html=html.substring(uo[0].length);uo[0].replace(aar,parseStartTag);wX=false;}}if(wX){bV=html.indexOf("<");var text=bV<0?html:html.substring(0,bV);text=IPCC.V.wM(text);html=bV<0?"":html.substring(bV);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+nb.last()+"[^>]*>"),ayE);parseEndTag("",nb.last());}if(html===iq){throw " Parse Error in annotation Html Text: "+html;}iq=html;}parseEndTag();};this.afP=function(html){var results="";this.aiY(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.agO=function(html){var ep=[];this.aiY(html,{start:function(tag,attrs){var fJ;fJ=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var hQ={};hQ.IP=tag;hQ.attribs=[];if(tag==='b'){hQ.aGb=true;}else if(tag==='i'){hQ.aFW=true;}else if(tag==='u'){hQ.aFN=true;}else if(tag==='s'){hQ.aFA=true;}else{for(var i=0;i<attrs.length;i++){var Ak={};Ak.aN=attrs[i].name;Ak.h=attrs[i].value;hQ.attribs.push(Ak);}}ep.push(hQ);}},end:function(){},chars:function(){},comment:function(){}});return ep;};this.age=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function aBB(kz,ayY){var ni=kz.getElementsByTagName("highlights")[0];if(ni.hasChildNodes()){var kN;var cZ;for(var H=0;H<ni.childNodes.length;H++){kN=ni.childNodes[H];if(kN.nodeType===1){cZ=kN.getAttribute('page');if(cZ&&parseInt(cZ,10)===ayY+1){var ja=new IPCC.Web.UI.aAO();ja.azV=kN.nodeName;switch(ja.azV){case 'tag':ja.GB=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':ja.GB=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':ja.GB=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':ja.GB=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':ja.GB=IPCC.Web.UI.HighLightType.Strikethrough;break;default:ja.GB=undefined;}if(kN.childNodes[0].data){ja.cR.push(kN.childNodes[0].data);}ja.bD.dw=kN.getAttribute('id');ja.bD.aEQ=kN.getAttribute('userid');ja.bD.aEX=kN.getAttribute('mode');ja.bD.cV=kN.getAttribute('color');ja.bD.aFy=kN.getAttribute('occurence');ja.bD.bC=kN.getAttribute('annotation');ja.bD.aI=kN.getAttribute('page');ja.bD.aFr=kN.getAttribute('documentname');ja.bD.aGA=kN.getAttribute('tooltip');ja.bD.aDc=kN.getAttribute('allowdelete');ja.bD.hK=kN.getAttribute('start');ja.bD.aGp=kN.getAttribute('end');K.azx.push(ja);}}}}};this.Qv=function(){var L;if(bn.length<1){return;}eD.removeAllMarks();var H;for(H=bn.length-1;H>=0;H--){bn[H].remove_propertyChanged(qD);bn[H].remove_markTextSelectionChanged(zS);bn[H].mk(null);L=new IPCC.Web.UI.MarkEventArgs();L.length=bn.length;L.zIndex=0;L.mark=bn.pop();K.bB('markRemoved',L);}L=new IPCC.Web.UI.MarkEventArgs();L.length=bn.length;L.zIndex=0;K.bB('markRemoved',L);};this.tZ=function(G){var ku=this.nQ(G);var tG=G.aa;if(ku>=0){G.remove_propertyChanged(qD);G.remove_markTextSelectionChanged(zS);G.mk(null);bn.splice(ku,1);eD.removeMark(G);var L=new IPCC.Web.UI.MarkEventArgs();L.mark=G;L.zIndex=ku;L.length=1;K.bB('markRemoved',L);if(tG){this.arn(tG);}}};this.aGC=function(pP){var uu=bn.length;var tG=pP.aa;while(uu--){var G=bn[uu];if(G.aa===tG){G.set_fillColor(pP.get_fillColor());}}};this.aqq=function(pP){var uu=bn.length;var tG=pP.aa;if(!tG){pP.set_text(pP.get_text());return;}while(uu--){var G=bn[uu];if(G.aa===tG){if(G.get_text()!==pP.get_text()){G.set_text(pP.get_text());}if(G.get_fontName()!==pP.get_fontName()){G.set_fontName(pP.get_fontName());}if(G.get_fontSize()!==pP.get_fontSize()){G.set_fontSize(pP.get_fontSize());}}}};this.arn=function(tG){var uu=bn.length;while(uu--){var G=bn[uu];if(G.aa===tG){var ku=this.nQ(G);eD.removeMark(G);bn.splice(uu,1);var L=new IPCC.Web.UI.MarkEventArgs();L.mark=G;L.zIndex=ku;L.length=1;}}};this.adC=function(G,ku){var Mf=this.nQ(G);if(Mf<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Mf===ku){return;}aeG(ku);bn.splice(Mf,1);bn.splice(ku,0,G);if(G.get_type()===IPCC.Web.UI.MarkType.Highlight||G.get_type()===IPCC.Web.UI.MarkType.HighlightText||G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||G.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.aa!==undefined)){return;}var L=new IPCC.Web.UI.MarkEventArgs();L.mark=G;L.zIndex=ku;L.oldZIndex=Mf;L.length=1;K.bB('markReordered',L);};function Ys(gi,fd,fp){if(!gi){return undefined;}var im={gh:'line-rectangles',cR:[],bD:{}};IPCC.V.forEach(gi,function(C){im.cR.push({gh:'rectangle',cR:[],bD:{x:C.x,y:C.y,height:C.height,width:C.width}});});return im;};function auN(iG){if(!iG){return undefined;}var im={gh:'inputMask',cR:[],bD:{value:IPCC.V.ny(iG.value)}};IPCC.V.forEach(iG.translations,function(h,bw){im.cR.push({gh:'translation',cR:[],bD:{key:IPCC.V.ny(bw),value:IPCC.V.ny(h.toString())}});});return im;};function Ss(dB){if(!dB){return undefined;}var oU=dB.get_dataKeys();if(oU.length===0){return undefined;}var im={gh:'data',cR:[],bD:{}};IPCC.V.forEach(oU,function(bw){var h=dB.get_data(bw);im.cR.push({gh:'kvp',cR:[],bD:{key:bw,value:h}});});return im;};function asC(cW){if(!cW){return undefined;}var xe={gh:'comment',cR:[],bD:{}};xe.bD.text=IPCC.V.ny(cW.get_text());xe.bD.created=cW.get_creationTime();var im=Ss(cW.get_data());if(im){xe.cR.push(im);}return xe;};function aub(cj){if(!cj||cj.get_length()===0){return undefined;}var TW={gh:'conversation',cR:[],bD:{}};var abQ={gh:'comments',cR:[],bD:{}};TW.cR.push(abQ);cj.forEach(function(cW){var xe=asC(cW);if(xe){abQ.cR.push(xe);}});var im=Ss(cj.get_data());if(im){TW.cR.push(im);}return TW;};this.auw=function(G,fd,fp,xL){var af=G.get_type();var kD=false;var jk;var hm;var ajw;var SX;var hc,so,sY,an;var as={gh:'annotation',cR:[],bD:{}};if(!G.bD.lm){as.bD.nodeId=K.aoI();}else{as.bD.nodeId=G.bD.lm;}var ET,DJ="",os="";if(G.get_lineColor()){var QR=G.get_lineColor();if(QR==='transparent'){as.bD.lineColor=QR;}else{ET=QR.replace(/#/,"");DJ=parseInt(ET,16);os=DJ.toString();as.bD.lineColor=os;}}as.bD.interactionMode=G.get_interactionMode();as.bD.stampSize='122';var LF={};LF[IPCC.Web.UI.MarkType.Stamp]=true;LF[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;LF[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((af===IPCC.Web.UI.MarkType.Rectangle&&G.get_opacity()<255|| !G.hW())&&LF[af]!==true){as.bD.opacity=G.get_opacity();}if(G.get_conversation().get_length()>0){as.cR.push(aub(G.get_conversation()));}var im=Ss(G.get_data());if(im){as.cR.push(im);}kD=false;switch(af){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:hm=G.get_fillColor();if(hm==='transparent'){as.bD.fillColor=hm;}else if(hm){jk=hm.replace(/#/,"");as.bD.fillColor=parseInt(jk,16).toString();}else{as.bD.fillColor=os;}if(G.get_fillVisible()){if(G.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(G.get_opacity()===255){if(G.hW()===true){as.bD.drawType='rectangle_filled_redact';if(G.aa){as.bD.highlightGroupID=G.aa;}}else{as.bD.drawType='rectangle_filled';}}else{if(G.hW()===true){as.bD.drawType='rectangle_trans_redact';}else{as.bD.drawType='rectangle_trans';}}}else{if(G.get_opacity()===255){as.bD.drawType='circle_filled';if(G.hW()){as.bD.drawType='circle_filled_redact';}}else{as.bD.drawType='circle_trans';if(G.hW()){as.bD.drawType='circle_trans_redact';}}}}else{if(G.get_type()===IPCC.Web.UI.MarkType.Rectangle){as.bD.drawType='rectangle';as.bD.fillColor=os;}else{as.bD.drawType='circle';as.bD.fillColor=os;}}as.bD.dragDirection='br';var C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:as.bD.lineWidth=G.get_lineWidth();kD=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:as.bD.highlightGroupID=G.aa;as.bD.drawType='text_selection_redaction';if(G.cz&&G.cz.length>0){as.bD.startIndex=G.aq;as.bD.selectedText=G.cz;as.bD.textLength=G.dA;}break;case IPCC.Web.UI.MarkType.Text:var kx=G.get_rectangle();as.bD.x=kx.x;as.bD.y=kx.y;as.bD.x_percent=kx.x/fd;as.bD.y_percent=kx.y/fp;as.bD.height_percent=kx.height/fp;as.bD.width_percent=kx.width/fd;as.bD.height=kx.height;as.bD.width=kx.width;as.bD.maxLength=G.get_maxLength();hm=G.get_fillColor();if(G.hW()===true){as.bD.drawType='text_redact';}else{as.bD.drawType='text';as.bD.opacity=G.get_opacity();}if(hm==='transparent'){as.bD.fillColor=hm;}else if(hm){jk=hm.replace(/#/,"");as.bD.fillColor=parseInt(jk,16).toString();}else{as.bD.fillColor='16776960';}var aK='';aK="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aK+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aK+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aK+="<P ALIGN=\"right\" ";break;}aK+=">";aK+="<FONT ";so=G.get_fontName();aK+="FACE="+"\""+so+"\" ";sY=G.get_fontSize().toString();aK+="SIZE= \""+sY+"\" ";hc="\""+G.get_textColor()+"\" ";aK+="COLOR="+hc+" ";aK+="LETTERSPACING=\"0\" ";aK+="KERNING=\"0\" ";aK+=">";var dF=G.get_fontStyle();if(dF&IPCC.Web.UI.FontStyle.Bold){aK+="<B>";}if(dF&IPCC.Web.UI.FontStyle.Italic){aK+="<I>";}if(dF&IPCC.Web.UI.FontStyle.Underline){aK+="<U>";}if(dF&IPCC.Web.UI.FontStyle.Strikeout){aK+="<S>";}an=G.get_text();an=IPCC.V.ny(an);aK+=an;if(dF&IPCC.Web.UI.FontStyle.Strikeout){aK+="</S>";}if(dF&IPCC.Web.UI.FontStyle.Underline){aK+="</U>";}if(dF&IPCC.Web.UI.FontStyle.Italic){aK+="</I>";}if(dF&IPCC.Web.UI.FontStyle.Bold){aK+="</B>";}aK+="</FONT>";aK+="</P>";aK+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;as.bD.drawType='highlight';as.bD.highlightGroupID=G.aa;as.bD.isHighlight=G.kI;hm=G.get_fillColor();if(hm){jk=hm.replace(/#/,"");as.bD.fillColor=parseInt(jk,16).toString();as.bD.lineColor=parseInt(jk,16).toString();}else{as.bD.fillColor=os;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.height=C.height;as.bD.width=C.width;as.bD.drawType='text_hyperlink_annotation';as.bD.href=IPCC.V.ny(G.oK);as.bD.startIndex=G.aq;as.bD.selectedText=G.cz;as.bD.textLength=G.dA;as.bD.highlightGroupID=G.aa;as.bD.isHighlight=G.kI;hm=G.get_fillColor();if(hm){jk=hm.replace(/#/,"");as.bD.fillColor=parseInt(jk,16).toString();as.bD.lineColor=parseInt(jk,16).toString();}else{as.bD.fillColor=os;}as.cR.push(Ys(G.cL,fd,fp));break;case IPCC.Web.UI.MarkType.HighlightText:C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;as.bD.drawType='highlightText';as.bD.startIndex=G.aq;as.bD.selectedText=G.cz;as.bD.textLength=G.dA;as.bD.highlightGroupID=G.aa;as.bD.isHighlight=G.kI;hm=G.get_fillColor();if(hm){jk=hm.replace(/#/,"");as.bD.fillColor=parseInt(jk,16).toString();as.bD.lineColor=parseInt(jk,16).toString();}else{as.bD.fillColor=os;}as.cR.push(Ys(G.cL,fd,fp));break;case IPCC.Web.UI.MarkType.RectangleRedaction:C=G.get_rectangle();as.bD.drawType='rectangle_filled_redact';as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;as.bD.meta=IPCC.V.ny(G.get_text());as.bD.stampSize=G.get_fontSize();as.bD.lineWidth=G.get_lineWidth();hm=G.get_fillColor();if(hm){jk=hm.replace(/#/,"");as.bD.fillColor=parseInt(jk,16).toString();}else{as.bD.fillColor=os;}ET=G.get_lineColor();if(ET){DJ=ET.replace(/#/,"");as.bD.lineColor=parseInt(DJ,16).toString();}else{as.bD.lineColor=os;}SX=G.get_textColor();if(SX){ajw=SX.replace(/#/,"");as.bD.fontColor=parseInt(ajw,16).toString();}else{as.bD.fontColor=os;}if(G.aa){as.bD.highlightGroupID=G.aa;}break;case IPCC.Web.UI.MarkType.Stamp:hm=G.get_fillColor();if(hm){jk=hm.replace(/#/,"");as.bD.fillColor=parseInt(jk,16).toString();as.bD.lineColor=parseInt(jk,16).toString();}else{as.bD.fillColor=os;}C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;if(G.hW()===true){as.bD.drawType='stamp_redact';}else{as.bD.drawType='stamp';}an=G.get_text();as.bD.stampSize=G.stampSize;as.cR.push('<![CDATA['+an+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(G.get_type()===IPCC.Web.UI.MarkType.Freehand){as.bD.drawType='freehand';}else{as.bD.drawType='signature_path';switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:as.bD.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:as.bD.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:as.bD.align='right';break;}}aK=G.get_pathString();as.bD.pathWidth=G.get_pathWidth();as.bD.pathHeight=G.get_pathHeight();C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;break;case IPCC.Web.UI.MarkType.SignatureText:hm=G.get_fillColor();var cN;if(hm){jk=hm.replace(/#/,"");as.bD.fillColor="";as.bD.lineColor="";cN=parseInt(jk,16).toString();}else{as.bD.fillColor="";cN=os;}C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;as.bD.opacity=0;as.bD.drawType='signature_text';as.bD.stampSize=G.stampSize;as.bD.fontWidth=G.yh;as.bD.fontHeight=G.AA;aK='';aK="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aK+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aK+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aK+="<P ALIGN=\"right\" ";break;}aK+=">";aK+="<FONT ";so=G.get_fontName();aK+="FACE="+"\""+so+"\" ";sY=G.stampSize.toString();aK+="SIZE= \""+sY+"\" ";hc="\""+G.get_fillColor()+"\" ";aK+="COLOR="+hc+" ";aK+="LETTERSPACING=\"0\" ";aK+="KERNING=\"0\" ";aK+=">";an=IPCC.V.ny(G.get_text());aK+=an;aK+="</FONT>";aK+="</P>";aK+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:kx=G.get_rectangle();as.bD.x=kx.x;as.bD.y=kx.y;as.bD.x_percent=kx.x/fd;as.bD.y_percent=kx.y/fp;as.bD.height_percent=kx.height/fp;as.bD.width_percent=kx.width/fd;as.bD.height=kx.height;as.bD.width=kx.width;as.bD.maxLength=G.fr;as.bD.maxFontSize=G.iu;if(xL){as.bD.drawType='text';}else{as.bD.drawType='text_area_signature';}as.bD.fillColor='transparent';aK='';aK="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aK+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aK+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aK+="<P ALIGN=\"right\" ";break;}aK+=">";aK+="<FONT ";so=G.get_fontName();aK+="FACE="+"\""+so+"\" ";sY=G.dH.toString();aK+="SIZE= \""+sY+"\" ";hc="\""+G.get_textColor()+"\" ";aK+="COLOR="+hc+" ";aK+="LETTERSPACING=\"0\" ";aK+="KERNING=\"0\" ";aK+=">";dF=G.get_fontStyle();if(dF&IPCC.Web.UI.FontStyle.Bold){aK+="<B>";}if(dF&IPCC.Web.UI.FontStyle.Italic){aK+="<I>";}if(dF&IPCC.Web.UI.FontStyle.Underline){aK+="<U>";}if(dF&IPCC.Web.UI.FontStyle.Strikeout){aK+="<S>";}an=G.get_text();an=IPCC.V.ny(an);aK+=an;if(dF&IPCC.Web.UI.FontStyle.Strikeout){aK+="</S>";}if(dF&IPCC.Web.UI.FontStyle.Underline){aK+="</U>";}if(dF&IPCC.Web.UI.FontStyle.Italic){aK+="</I>";}if(dF&IPCC.Web.UI.FontStyle.Bold){aK+="</B>";}aK+="</FONT>";aK+="</P>";aK+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!xL){C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.maxLength=G.get_maxLength();as.bD.width_percent=C.width/fd;as.bD.height=C.height;as.bD.width=C.width;as.bD.opacity=0;as.bD.drawType='text_input_signature';as.bD.stampSize=G.stampSize;as.bD.fontWidth=G.yh;as.bD.fontHeight=G.AA;aK='';aK="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aK+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aK+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aK+="<P ALIGN=\"right\" ";break;}aK+=">";aK+="<FONT ";so=G.get_fontName();aK+="FACE="+"\""+so+"\" ";sY=G.stampSize.toString();aK+="SIZE= \""+sY+"\" ";hc="\""+G.get_textColor()+"\" ";aK+="COLOR="+hc+" ";aK+="LETTERSPACING=\"0\" ";aK+="KERNING=\"0\" ";aK+=">";an=IPCC.V.ny(G.get_text());aK+=an;aK+="</FONT>";aK+="</P>";aK+="</TEXTFORMAT>";var abg=auN(G.get_mask());if(abg){as.cR.push(abg);}}else{C=G.get_rectangle();var CB=G.stampSize;var oT;if(!G.JI|| !G.oT){var atA=IPCC.V.ajz(G.get_text(),G.get_fontName(),C.width,C.height,{tX:"pre",dH:CB+"px"});oT=atA;G.JI=true;G.oT=oT;}else{oT=G.oT;}CB=oT.fontSize;var jA=oT.width/C.width,dG=1.0,MIN_BUFFER=0.85;if(/mono/i.test(G.get_fontName())){MIN_BUFFER=0.75;}if(jA>MIN_BUFFER){dG=MIN_BUFFER*C.width/oT.width;CB=CB*dG;}var akx=C.width,asz=oT.height*dG,aif=C.height-(C.height-asz)/2,akQ=C.x,ajY=C.y+(C.height-oT.height)/2+(oT.height*(1-dG));as.bD.x=akQ;as.bD.y=ajY;as.bD.x_percent=akQ/fd;as.bD.y_percent=ajY/fp;as.bD.height_percent=aif/fp;as.bD.width_percent=akx/fd;as.bD.height=aif;as.bD.width=akx;as.bD.opacity=0;as.bD.drawType='text_redact';aK='';aK="<TEXTFORMAT>";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aK+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aK+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aK+="<P ALIGN=\"right\" ";break;}aK+=">";aK+="<FONT ";so=G.get_fontName();aK+="FACE="+"\""+so+"\" ";if(G.atl){sY=(CB/G.atl).toString();}else{sY=CB.toString();}aK+="SIZE= \""+sY+"\" ";hc="\""+G.get_textColor()+"\" ";aK+="COLOR="+hc+" ";aK+="LETTERSPACING=\"0\" ";aK+="KERNING=\"0\" ";aK+=">";an=IPCC.V.ny(G.get_text());aK+=an;aK+="</FONT>";aK+="</P>";aK+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:as.bD.drawType=(af===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.height=C.height;as.bD.width=C.width;as.bD.lineWidth=G.get_lineWidth();as.bD.x_percent=C.x/fd;as.bD.y_percent=C.y/fp;as.bD.height_percent=C.height/fp;as.bD.width_percent=C.width/fd;as.bD.imageStampId=G.rd;break;case IPCC.Web.UI.MarkType.Strikethrough:C=G.get_rectangle();as.bD.x=C.x;as.bD.y=C.y;as.bD.height=C.height;as.bD.width=C.width;as.bD.drawType='strikethrough';as.bD.startIndex=G.aq;as.bD.selectedText=G.cz;as.bD.textLength=G.dA;as.bD.highlightGroupID=G.aa;as.bD.isHighlight=G.kI;as.cR.push(Ys(G.cL,fd,fp));break;}if(kD){as.bD.lineWidth=G.get_lineWidth();var bo=G.get_boundingRectangle();as.bD.x=bo.x;as.bD.y=bo.y;as.bD.x_percent=bo.x/fd;as.bD.y_percent=bo.y/fp;as.bD.height_percent=bo.height/fp;as.bD.width_percent=bo.width/fd;as.bD.height=bo.height;as.bD.width=bo.width;if(af===IPCC.Web.UI.MarkType.Line){if(G.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){as.bD.drawType='line';}else{as.bD.drawType='arrow';}}else{as.bD.drawType='polyline';}as.bD.lineWidth=G.get_lineWidth();var ai=G.get_points();if(af===IPCC.Web.UI.MarkType.Line){if((ai.getPoint(0).x<ai.getPoint(1).x)&&(ai.getPoint(0).y>ai.getPoint(1).y)){as.bD.dragDirection='tr';}else if((ai.getPoint(0).x>ai.getPoint(1).x)&&(ai.getPoint(0).y>ai.getPoint(1).y)){as.bD.dragDirection='tl';}else if((ai.getPoint(0).x>ai.getPoint(1).x)&&(ai.getPoint(0).y<ai.getPoint(1).y)){as.bD.dragDirection='bl';}else if((ai.getPoint(0).x<ai.getPoint(1).x)&&(ai.getPoint(0).y<ai.getPoint(1).y)){as.bD.dragDirection='br';}else{as.bD.dragDirection='br';}}else{var vS=[];var bX=ai.get_length(),bJ;if(bX>1){for(var bF=0;bF<ai.get_length();bF++){bJ=ai.getPoint(bF);vS.push({x:bJ.x,y:bJ.y});}aK=IPCC.cP.ZE(vS);}}if(DJ){as.bD.fillColor=DJ;}else{as.bD.fillColor="";}}else{as.bD.lineWidth=G.get_lineWidth();as.bD.dragDirection='br';}if(G.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){as.bD.meta='';}as.bD.label='';var eV=new Date();as.bD.saveDate=IPCC.V.aoo(eV);as.bD.saveTime=IPCC.V.aur(eV);as.bD.uuid='';as.bD.formUser='';as.bD.created=IPCC.V.ajl(G.get_dateCreated());as.bD.modified=IPCC.V.ajl(G.get_dateModified());if(G.get_type()===IPCC.Web.UI.MarkType.Text||G.get_type()===IPCC.Web.UI.MarkType.Freehand||G.get_type()===IPCC.Web.UI.MarkType.SignaturePath||G.get_type()===IPCC.Web.UI.MarkType.SignatureText||G.get_type()===IPCC.Web.UI.MarkType.Polyline||G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||G.get_type()===IPCC.Web.UI.MarkType.TextLine){as.cR.push('<![CDATA['+aK+']]>');}else{as.cR.push('');}return as;};this.aCP=function(aY,fd,fp,bH){var kp={gh:'documentAnnotations',cR:[],bD:{}};var dQ={gh:'pages',cR:[],bD:{}};kp.cR.push(dQ);var ni={gh:'highlights',cR:[],bD:{}};kp.cR.push(ni);var uS={},qy=[];var aI={gh:'page',cR:[],bD:{id:(aY+1).toString(),pageWidth:fd,pageHeight:fp}};dQ.cR.push(aI);bH=bH||{};var aig=(bH.includeAnnotations!==undefined)? ! !bH.includeAnnotations:true,aii=(bH.includeRedactions!==undefined)? ! !bH.includeRedactions:true,ahN=(bH.includeSignatures!==undefined)? ! !bH.includeSignatures:false,xL=(bH.xL!==undefined)? ! !bH.xL:false,Wk=(bH.GD!==undefined)?bH.GD:false,ask= ! !xL,agc=Wk?Wk:bn;for(var H=0;H<agc.length;H++){var G=agc[H];var af=G.get_type();if(G.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(ask&& !G.get_visible()){continue;}if(!Wk){if(aig===false&&aii===false&&ahN===false){break;}if(aig===false){if(af===IPCC.Web.UI.MarkType.Rectangle||af===IPCC.Web.UI.MarkType.Ellipse||af===IPCC.Web.UI.MarkType.Line||af===IPCC.Web.UI.MarkType.Text||af===IPCC.Web.UI.MarkType.Stamp||af===IPCC.Web.UI.MarkType.Highlight||af===IPCC.Web.UI.MarkType.Strikethrough||af===IPCC.Web.UI.MarkType.HighlightText||af===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||af===IPCC.Web.UI.MarkType.Freehand||af===IPCC.Web.UI.MarkType.ImageStampAnnotation||af===IPCC.Web.UI.MarkType.Polyline){if(G.hW()===false){continue;}}}if(aii===false){if(G.hW()===true){continue;}if(af===IPCC.Web.UI.MarkType.RectangleRedaction||af===IPCC.Web.UI.MarkType.TextSelectionRedaction||af===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(ahN===false){if(af===IPCC.Web.UI.MarkType.SignaturePath||af===IPCC.Web.UI.MarkType.SignatureText||af===IPCC.Web.UI.MarkType.SignatureImage||af===IPCC.Web.UI.MarkType.TextAreaSignature||af===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(af){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:uS[G.rd]={gh:'stampImage',cR:[],bD:{imageStampId:G.rd,base64format:G.dM()}};break;}aI.cR.push(this.auw(G,fd,fp,xL));}for(var Jj in uS){if(uS.hasOwnProperty(Jj)){qy.push(uS[Jj]);}}return{kp:kp,qy:qy};};this.aDj=function(){var eB={m:[]};var H;for(H=0;H<bn.length;H++){eB.m.push(bn[H].aBl());}K.bB('marksSaved',{});var afn="";afn=IPCC.cP.ZE(eB);return afn;};this.AP=function(R){bj.addHandler('markAdded',R);};this.At=function(R){bj.removeHandler('markAdded',R);};this.EO=function(R){bj.addHandler('markChanged',R);};this.Kk=function(R){bj.removeHandler('markChanged',R);};this.AB=function(R){bj.addHandler('markRemoved',R);};this.yN=function(R){bj.removeHandler('markRemoved',R);};this.Gh=function(R){bj.addHandler('markReordered',R);};this.IG=function(R){bj.removeHandler('markReordered',R);};this.WD=function(R){bj.addHandler('marksLoaded',R);};this.PS=function(R){bj.removeHandler('marksLoaded',R);};this.aFh=function(R){bj.addHandler('marksSaved',R);};this.aGk=function(R){bj.removeHandler('marksSaved',R);};this.Ga=function(R){bj.addHandler('markSelectionChanged',R);};this.IT=function(R){bj.removeHandler('markSelectionChanged',R);};this.ES=function(R){bj.addHandler('markTextSelectionChanged',R);};this.FN=function(R){bj.removeHandler('markTextSelectionChanged',R);};this.vs=function(R){bj.addHandler('commentAdded',R);};this.zJ=function(R){bj.removeHandler('commentAdded',R);};this.xu=function(R){bj.addHandler('commentRemoved',R);};this.CE=function(R){bj.removeHandler('commentRemoved',R);};this.rE=function(R){bj.addHandler('commentChanged',R);};this.rA=function(R){bj.removeHandler('commentChanged',R);};this.kX=function(R){bj.addHandler('propertyChanged',R);};this.nl=function(R){bj.removeHandler('propertyChanged',R);};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(this,L);}};this.bY=function(cw){var R=bj.getHandler("propertyChanged");if(R){R(this,new IPCC.rC(cw));}};return this;};IPCC.Web.UI.ArtPage.prototype={get_markCount:function(){return this.YT();},get_selectedMarks:function(){return this.xp();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Pb(mark,mouseLocation);},forEachMark:function(method,context){this.CQ(method,context);},getMark:function(zIndex){return this.MX(zIndex);},getZIndexOfMark:function(mark){return this.nQ(mark);},loadFromJson:function(json){this.awC(json);},removeAllMarks:function(){this.Qv();},removeMark:function(mark){this.tZ(mark);},reorderMark:function(mark,zIndex){this.adC(mark,zIndex);},saveToJson:function(){return this.aDj();},add_markAdded:function(handler){this.AP(handler);},remove_markAdded:function(handler){this.At(handler);},add_markChanged:function(handler){this.EO(handler);},remove_markChanged:function(handler){this.Kk(handler);},add_markRemoved:function(handler){this.AB(handler);},remove_markRemoved:function(handler){this.yN(handler);},add_markReordered:function(handler){this.Gh(handler);},remove_markReordered:function(handler){this.IG(handler);},add_marksLoaded:function(handler){this.WD(handler);},remove_marksLoaded:function(handler){this.PS(handler);},add_markSelectionChanged:function(handler){this.Ga(handler);},remove_markSelectionChanged:function(handler){this.IT(handler);},add_markTextSelectionChanged:function(handler){this.ES(handler);},remove_markTextSelectionChanged:function(handler){this.FN(handler);},add_commentAdded:function(handler){this.vs(handler);},remove_commentAdded:function(handler){this.zJ(handler);},add_commentRemoved:function(handler){this.xu(handler);},remove_commentRemoved:function(handler){this.CE(handler);},add_commentChanged:function(handler){this.rE(handler);},remove_commentChanged:function(handler){this.rA(handler);}};IPCC.Web.UI.ArtPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ArtPage.registerClass('IPCC.Web.UI.ArtPage');IPCC.Web.UI.aAO=function(){this.gh=undefined;this.cR=[];this.bD={};};IPCC.EQ=function(){};IPCC.EQ.prototype.mB=function(J){this.J=J;this.bG=J.aW();this.jv=this.bG.get_cursor();this.bG.set_cursor(IPCC.bz.RunMarks);this.bG.Df(IPCC.bz.Link);};IPCC.EQ.prototype.ft=function(){this.bG.set_cursor(this.jv);this.bG.Df(IPCC.bz.Default);this.J=false;};IPCC.EQ.prototype.bN=function(){};IPCC.nh=function(){this.aX=false;this.J=false;};IPCC.nh.prototype.mB=function(J){this.J=J;this.J.adO(true);this.bG=J.aW();this.jv=this.bG.get_cursor();this.bG.set_cursor(IPCC.bz.EditMarks);this.bG.Df(IPCC.bz.Move);};IPCC.nh.prototype.ft=function(){this.bG.set_cursor(this.jv);this.bG.Df(IPCC.bz.Default);if(arguments[0]){if(arguments[0]===true){this.J=false;return;}}this.J.adO(false);this.J=false;};IPCC.nh.prototype.bN=function(){if(this.aX){this.bG.set_cursor(IPCC.bz.EditMarks);this.bG.Df(IPCC.bz.Move);this.J.Ee(true);this.bG.oy();this.aX=false;this.J.dk();}};IPCC.nh.prototype.vG=function(L){this.bN();var G=L.mark;if(G&&G.hT()===IPCC.Web.UI.MarkType.Text){this.J.wt(G);this.J.dk();}};IPCC.nh.prototype.kF=function(L){this.bN();var ih=L.domEvent;if(ih.button===0){var aZ=ih.target;this.ak=aZ.ImGearMarkHandle;if(this.ak){this.vl=this.ak.bv;this.mL=this.ak.bV;}else{this.vl=null;this.mL=null;}while(!(aZ.ImGearMarkRelation)&&aZ.parentNode&&aZ!==document.body){aZ=aZ.parentNode;}this.F=aZ.ImGearMarkRelation;if(this.F){this.G=this.F.G;}else{this.G=null;}this.aX=true;this.Kf=L.imagePoint;this.DN=L.imagePoint;var G=this.G;if(!G||G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!ih.shiftKey){this.J.eP().xp().removeAllMarks();}this.bG.CN(L.imagePoint);}else{var gy,C;switch(this.vl){case IPCC.dJ.cG.prototype.QN:this.iI=G.di();this.UU=Math.abs(this.iI.width);this.ER=Math.abs(this.iI.height);gy={x:this.iI.x,y:this.iI.y};this.Kw={x:this.iI.x+this.iI.width,y:this.iI.y+this.iI.height};if(this.mL>0&&this.mL<3){gy.x+=this.iI.width;this.Kw.x-=this.iI.width;}if(this.mL>1){gy.y+=this.iI.height;this.Kw.y-=this.iI.height;}this.aFV=gy;break;case IPCC.dJ.cG.prototype.RY:C=G.di();this.iI=C;gy={x:C.x+C.width/2,y:C.y+C.height/2};switch(this.mL){case 0:this.xg=C.y+C.height;gy.y=C.y;break;case 1:this.xg=C.x;gy.x=C.x+C.width;break;case 2:this.xg=C.y;gy.y=C.y+C.height;break;case 3:this.xg=C.x+C.width;gy.x=C.x;break;}break;case IPCC.dJ.cG.prototype.Fd:this.ai=G.oM();if(this.mL<0||this.mL>this.ai.dV()){this.bN();}gy=this.ai.getPoint(this.mL);break;case IPCC.dJ.cG.prototype.GM:break;case IPCC.dJ.cG.prototype.Vp:C=G.di();gy={x:C.x+G.lP.x,y:C.y+G.lP.y};break;default:var vp=G.get_selected();if(ih.ctrlKey||ih.shiftKey){vp= !vp;G.set_selected(vp);}else{if(!vp){vp=true;this.J.eP().xp().removeAllMarks();if(G.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var H=0;H<this.J.eP().get_markCount();H++){var WF=this.J.eP().getMark(H);if(WF.hT()===608&&WF.aa===G.aa){WF.set_selected(vp);}}}else{G.set_selected(vp);}}}if(!vp){this.bN();}break;}if(this.aX&&gy){this.ast=gy.x-this.Kf.x;this.asn=gy.y-this.Kf.y;if(this.ak){this.bG.set_cursor(this.ak.ab);this.bG.Df(this.ak.ab);}}}if(this.aX){this.J.Ee(false);}}this.J.dk();};IPCC.nh.prototype.lc=function(L){var ih=L.domEvent;var DN;function ayM(azP){azP.Ho(L.imagePoint.x-DN.x,L.imagePoint.y-DN.y);};if(ih.button!==0){this.bN();}if(this.aX){var G=this.G;if(!G||G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.bG.xY(L.imagePoint);}else{var gy={x:L.imagePoint.x+this.ast,y:L.imagePoint.y+this.asn};var C;switch(this.vl){case IPCC.dJ.cG.prototype.QN:var pu={x:gy.x,y:gy.y};var kG={x:this.Kw.x,y:this.Kw.y};if(ih.ctrlKey){kG.x=this.iI.x+this.iI.width/2;kG.y=this.iI.y+this.iI.height/2;}if(ih.shiftKey){var rv=Math.abs(pu.x-kG.x);var sS=Math.abs(pu.y-kG.y);if(rv*this.ER<sS*this.UU){if(this.ER>0.001){rv=sS*this.UU/this.ER;}}else{if(this.ER>0.001){sS=rv*this.ER/this.UU;}}if(pu.x<kG.x){rv= -rv;}if(pu.y<kG.y){sS= -sS;}pu.x=kG.x+rv;pu.y=kG.y+sS;}if(ih.ctrlKey){kG={x:kG.x-(pu.x-kG.x),y:kG.y-(pu.y-kG.y)};}C={};C.x=Math.min(kG.x,pu.x);C.width=Math.max(kG.x,pu.x)-C.x;C.y=Math.min(kG.y,pu.y);C.height=Math.max(kG.y,pu.y)-C.y;G.set_rectangle(C);break;case IPCC.dJ.cG.prototype.RY:C=G.di();var Bw;if(this.mL&1){if(ih.ctrlKey){Bw=this.iI.x+this.iI.width/2;C.width=Math.abs(gy.x-Bw)*2;C.x=Bw-C.width/2;}else{C.x=Math.min(gy.x,this.xg);C.width=Math.max(gy.x,this.xg)-C.x;}}else{if(ih.ctrlKey){Bw=this.iI.y+this.iI.height/2;C.height=Math.abs(gy.y-Bw)*2;C.y=Bw-C.height/2;}else{C.y=Math.min(gy.y,this.xg);C.height=Math.max(gy.y,this.xg)-C.y;}}G.set_rectangle(C);break;case IPCC.dJ.cG.prototype.Fd:this.ai=G.oM();gy=this.ai.setPoint(this.mL,gy);break;case IPCC.dJ.cG.prototype.GM:break;case IPCC.dJ.cG.prototype.Vp:C=G.di();G.set_calloutPoint({x:gy.x-C.x,y:gy.y-C.y});break;default:DN=this.DN;this.DN=L.imagePoint;this.J.eP().xp().kT(ayM);break;}}this.J.dk();}};IPCC.nh.prototype.iZ=function(){function ayC(G){var FP=G.aiU();if(afF.contains(FP)&&afF.contains({x:FP.x+FP.width,y:FP.y+FP.height})){G.set_selected(true);}};if(this.aX){if(!this.G){var afF=this.bG.xr();this.J.eP().CQ(ayC);this.bG.oy();}this.bN();}};IPCC.nh.prototype.oB=function(L){var bp=this.J.dS();if(L.windowPoint.x<=0||L.windowPoint.x>=bp.width-2){this.bN();}if(L.windowPoint.y<=0||L.windowPoint.y>=bp.height-2){this.bN();}};IPCC.nh.prototype.nu=function(){this.bN();};IPCC.Web.UI.Comment=function(text){var bj=new IPCC.Web.UI.iS();var dB=new IPCC.Web.UI.Data();this.Ws=IPCC.V.wD(new Date());this.an=text;this.aBE=function(an){if(an===this.an){return;}this.an=an;var L=new IPCC.Web.UI.CommentEventArgs();L.comment=this;L.length=1;this.bB('commentChanged',L);};this.anh=function(){return this.an;};this.azf=function(aCS){this.Ws=aCS;};this.amr=function(){return this.Ws;};this.rE=function(R){bj.addHandler('commentChanged',R);};this.rA=function(R){bj.removeHandler('commentChanged',R);};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(this,L);}};this.vt=function(){return dB;};return this;};IPCC.Web.UI.Comment.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.rE(handler);},remove_commentChanged:function(handler){this.rA(handler);},get_text:function(){return this.anh();},set_text:function(text){this.aBE(text);},get_creationTime:function(){return this.amr();},set_creationTime:function(isoTimeString){this.azf(isoTimeString);},get_data:function(){return this.vt();}};IPCC.Web.UI.Comment.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Comment.registerClass('IPCC.Web.UI.Comment');IPCC.Web.UI.Conversation=function(apC){var hy=[];var bj=new IPCC.Web.UI.iS();var dB=new IPCC.Web.UI.Data();var G=apC;var K=this;function Ps(ay,L){K.bB('commentChanged',L);};this.Kl=function(cW){cW.add_commentChanged(Ps);hy.push(cW);var L=new IPCC.Web.UI.CommentEventArgs();L.comment=cW;L.length=1;L.index=hy.length-1;this.bB('commentAdded',L);};this.avi=function(cW){var Ui= -1;IPCC.V.forEach(hy,function(el,idx){if(el===cW){Ui=idx;}});if(Ui=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var abX=hy.splice(Ui,1)[0];abX.rA(Ps);var L=new IPCC.Web.UI.CommentEventArgs();L.comment=abX;L.length=1;this.bB('commentRemoved',L);};this.kT=function(hU,dK){var H;for(H=0;H<hy.length;H++){hU.call(dK,hy[H],H,this);}};this.dV=function(){return hy.length;};this.vs=function(R){bj.addHandler('commentAdded',R);};this.zJ=function(R){bj.removeHandler('commentAdded',R);};this.rE=function(R){bj.addHandler('commentChanged',R);};this.rA=function(R){bj.removeHandler('commentChanged',R);};this.xu=function(R){bj.addHandler('commentRemoved',R);};this.CE=function(R){bj.removeHandler('commentRemoved',R);};this.vt=function(){return dB;};this.Om=function(){return G;};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(this,L);}};return this;};IPCC.Web.UI.Conversation.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Kl(comment);},removeCommentInstance:function(comment){this.avi(comment);},forEach:function(method,context){this.kT(method,context);},get_length:function(){return this.dV();},add_commentAdded:function(handler){this.vs(handler);},remove_commentAdded:function(handler){this.zJ(handler);},add_commentChanged:function(handler){this.rE(handler);},remove_commentChanged:function(handler){this.rA(handler);},add_commentRemoved:function(handler){this.xu(handler);},remove_commentRemoved:function(handler){this.CE(handler);},get_data:function(){return this.vt();},get_mark:function(){return this.Om();}};IPCC.Web.UI.Conversation.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Conversation.registerClass('IPCC.Web.UI.Conversation');IPCC.Web.UI.Data=function(){this.dB={};this.vt=function(key){if(typeof key==='undefined'){return IPCC.V.extend({},this.dB);}else if(typeof key==='string'){return this.dB[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aAI=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.dB[key]=value;}else if(typeof value==='undefined'){delete this.dB[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.alX=function(){var keys=[];IPCC.V.forEach(this.dB,function(value,key){keys.push(key);});return keys;};return this;};IPCC.Web.UI.Data.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.vt(key);},set_data:function(key,value){return this.aAI(key,value);},get_dataKeys:function(){return this.alX();}};IPCC.Web.UI.Data.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Data.registerClass('IPCC.Web.UI.Data');IPCC.dJ={};IPCC.fs=function(J,rn){this.Ph=false;this.XV=false;this.DG=true;this.Sc=false;this.Oc=false;this.wh=0;this.wR=0;var bL=this;this.aAf='opacity';this._debug=new IPCC.au("SvgUIDirector",null,this);this.axG=function(cA){return cA.toString();};var aeX=function aeX(ba,fa,ob,bU,mc,mw){var gp;if(this.J.qc()===true){ba.we.setAttribute('width',ob.width);ba.we.setAttribute('height',ob.height);ba.tz.setAttribute('width',ob.width);ba.tz.setAttribute('height',ob.height);gp=fa.qY().toString()+','+fa.qw().toString()+','+fa.ra().toString()+','+fa.rQ().toString()+','+(fa.xJ()+mc).toString()+','+(fa.xq()+mw).toString();this.gq(ba.zf,'transform','matrix('+gp+')');}else{ba.we.setAttribute('width',ob.width);ba.we.setAttribute('height',ob.height);ba.tz.setAttribute('width',ob.width);ba.tz.setAttribute('height',ob.height);gp=fa.qY().toString()+','+fa.qw().toString()+','+fa.ra().toString()+','+fa.rQ().toString()+','+(fa.xJ()+mc).toString()+','+(fa.xq()+mw).toString();this.gq(ba.zf,'transform','matrix('+gp+')');}};function atM(ba){var pathList=ba.we.getElementsByTagName('path');var gList=ba.we.getElementsByTagName('g');ba.OI=[];function ahz(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;ba.OI.push(pathItem);}}};IPCC.V.forEach(pathList,ahz);IPCC.V.forEach(gList,ahz);};this.acs=function(ba){var bG=J.aW();var aqA=1;var ke=bG.alY();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*ke));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*ke;}};if(ba.OI===undefined){atM(ba);}if(ke===aqA){IPCC.V.forEach(ba.OI,setStrokeWidthToOriginalValue);}else{IPCC.V.forEach(ba.OI,updateStrokeWidthByLineWidthMultiplier);}bG.aAk(false);};function aww(ba,aj){ba.ti.setAttribute('exponent',aj);ba.rO.setAttribute('exponent',aj);ba.sq.setAttribute('exponent',aj);};function awj(ba,aj){var aue=841;var kR=(aj/aue)* -1;var gp;if(IPCC.V.DI){gp='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gp=gp.replace('{00}',kR).replace('{01}',kR).replace('{02}',kR).replace('{10}',kR).replace('{11}',1).replace('{12}',kR).replace('{20}',kR).replace('{21}',kR).replace('{22}',kR);}else{gp='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gp=gp.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',kR).replace('{12}',kR).replace('{13}',kR).replace('{14}',0).replace('{20}',0).replace('{21}',kR).replace('{22}',1).replace('{23}',kR).replace('{24}',0).replace('{30}',0).replace('{31}',kR).replace('{32}',kR).replace('{33}',kR).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}ba.lz.setAttribute('kernelMatrix',gp);};this.aqE=function(ba){var bG=J.aW();var pH=bG.aod();var qZ=bG.anc();if(qZ===0&&pH===1){ba.zf.removeAttribute('filter','url(#'+ba.GG+')');}else{ba.zf.setAttribute('filter','url(#'+ba.GG+')');}aww(ba,pH);awj(ba,qZ);};var Xr,Wj;this.abc=function(ba,fa,ob,bU,mc,mw){if(ba.WZ.match('maglevel')){aeX.apply(this,arguments);return;}var bO=ba.gW.parentElement.getBoundingClientRect();var jz=bO.width/bU.width;var ahS=function(val){return Math.abs(val)<1.0e-14;};var ez=0,fc=0;var aBg=function(){var oX=fa.qw();if(ahS(oX)){oX=0;}var nP=fa.ra();if(ahS(nP)){nP=0;}var ayq=fa.qY();var ei=(oX>=0&&nP<0)?90:(oX<0&&nP>=0)?270:(ayq<0)?180:(oX>=0&&nP>=0)?0:0;switch(ei){case 90:ez=bO.width;break;case 180:ez=bO.width;fc=bO.height;break;case 270:fc=bO.height;break;}return ei*(Math.PI/180);};var ei=aBg();if(parseInt(ei,10)===1||parseInt(ei,10)===4){jz=bO.height/bU.width;}if(jz===Xr&&ei===Wj){return;}else{Xr=jz;Wj=ei;}var fC=1,hn=0;if(ei!==0){fC=Math.cos(ei);hn=Math.sin(ei);}var bh={jz:fC*jz,pY:fC*jz,oX:hn*jz,nP:hn* -1*jz,ez:ez,fc:fc};var aAJ=new IPCC.eU(bh.jz,bh.oX,bh.nP,bh.pY,bh.ez,bh.fc);fa.Pn(aAJ);J.aW().iC(fa);var gp='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gp=gp.replace('{scaleX}',bh.jz).replace('{scaleY}',bh.pY).replace('{skewX}',bh.oX).replace('{skewY}',bh.nP).replace('{moveX}',bh.ez).replace('{moveY}',bh.fc);this.gq(ba.zf,'transform',gp);};this.amL=function(){Xr=undefined;Wj=undefined;};this.aEt(J);this.apQ=function(dj){var bp=new IPCC.PB(dj.clientWidth,dj.clientHeight,96,96);return bp;};this.aaj=function(ad){ad.preventDefault();bL.kF(ad);};this.abT=function(ad){ad.preventDefault();bL.lc(ad);};this.abB=function(ad){ad.preventDefault();bL.iZ(ad);};this.aet=function(ad){bL.kF(ad);};this.ZW=function(ad){bL.vG(ad);};this.agk=function(ad){bL.lc(ad);};this.Sj=function(ad){bL.nu(ad);};this.PF=0;this.agx=function(ad){if(ad.rawEvent.detail>1){if(window.navigator.msPointerEnabled){var Wr=false;if(! !(navigator.userAgent.match('6.1'))&&document.documentMode===11){Wr=true;}if(!this.PF){if(ad.target instanceof SVGPolylineElement&&Wr===true){bL.vG(ad);}else{bL.iZ(ad);}this.PF=ad.rawEvent.timeStamp;return;}var aiO=500;if(Wr){aiO=8000;}if(ad.rawEvent.timeStamp-this.PF>aiO){bL.iZ(ad);}else{bL.vG(ad);}this.PF=ad.rawEvent.timeStamp;}else{bL.vG(ad);}}else{bL.iZ(ad);}};this.amR=function(ad){bL.RJ(ad);};this.Nl=function(ad){if(ad.target!==document.activeElement){bL.aAK(ad);}};this.Yy=function(ad){if(ad.target!==document.activeElement){bL.aAq(ad);}};this.oB=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;bL.qK(L);J.auY(L);}catch(ex){bL._debug.bd(ex,'mouseOut');}};this.Lp=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;bL.qK(L);J.auq(L);}catch(ex){bL._debug.bd(ex,'touchStart');}};this.Kt=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;bL.qK(L);J.atU(L);}catch(ex){bL._debug.bd(ex,'touchMove');}};this.Qc=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;bL.qK(L);J.atR(L);}catch(ex){bL._debug.bd(ex,'touchEnd');}};this.Gg=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;bL.qK(L);J.auI(L);}catch(ex){bL._debug.bd(ex,'touchCancel');}};this.aki=function(ad){try{ad.preventDefault();}catch(ex){bL._debug.bd(ex,'dragStart');}};this.aqW=function(){var eA=J.lN().igElements.mu;IPCC.Web.UI.ar.addHandler(eA,"mousewheel",this.Sj);IPCC.Web.UI.ar.addHandler(eA,"DOMMouseScroll",this.Sj);if(rn){IPCC.Web.UI.ar.addHandler(eA,"touchstart",this.Lp);IPCC.Web.UI.ar.addHandler(eA,"touchmove",this.Kt);IPCC.Web.UI.ar.addHandler(eA,"touchend",this.Qc);IPCC.Web.UI.ar.addHandler(eA,"touchcancel",this.Gg);}IPCC.Web.UI.ar.addHandler(eA,"mouseout",this.oB);IPCC.Web.UI.ar.addHandler(eA,"dragstart",this.aki);};this.aql=function(){var eA=J.lN().igElements.mu;IPCC.Web.UI.ar.removeHandler(eA,"DOMMouseScroll",this.Sj);IPCC.Web.UI.ar.removeHandler(eA,"mouseout",this.oB);if(rn){IPCC.Web.UI.ar.removeHandler(eA,"touchstart",this.Lp);IPCC.Web.UI.ar.removeHandler(eA,"touchmove",this.Kt);IPCC.Web.UI.ar.removeHandler(eA,"touchend",this.Qc);IPCC.Web.UI.ar.removeHandler(eA,"touchcancel",this.Gg);}IPCC.Web.UI.ar.removeHandler(eA,"dragstart",this.aki);};function ata(ba,ib){var qj=document.createElementNS('http://www.w3.org/2000/svg','filter');var GG='filter'+ib;ba.GG=GG;qj.setAttribute('id',GG);qj.setAttribute('x','0');qj.setAttribute('y','0');qj.setAttribute('filterUnits','objectBoundingBox');qj.setAttribute('color-interpolation-filters','sRGB');return qj;};function atf(ib){var lz=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');lz.setAttribute('in','SourceGraphic');lz.setAttribute('result',ib+'lz');lz.setAttribute('preserveAlpha','true');if(IPCC.V.DI){lz.setAttribute('order','3 3');lz.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{lz.setAttribute('order','5 5');lz.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return lz;};function asX(ib){var oC=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');oC.setAttribute('in',ib+'lz');oC.setAttribute('result',ib+'oC');return oC;};function asq(ib){var ti=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');ti.setAttribute('type','gamma');ti.setAttribute('amplitude','1');ti.setAttribute('exponent','1');ti.setAttribute('offset','0');var rO=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');rO.setAttribute('type','gamma');rO.setAttribute('amplitude','1');rO.setAttribute('exponent','1');rO.setAttribute('offset','0');var sq=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');sq.setAttribute('type','gamma');sq.setAttribute('amplitude','1');sq.setAttribute('exponent','1');sq.setAttribute('offset','0');return{ti:ti,rO:rO,sq:sq};};function auA(ba,ib){var FC=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var ajh=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var ajy=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');ajh.setAttribute('in',ib+'lz');ajy.setAttribute('in',ib+'oC');FC.appendChild(ajh);FC.appendChild(ajy);return FC;};this.aqh=function(ba,gW,sB,ib){var H,bm,dj,Vf;var Mn=function(bv,dw,bD){var dj=document.createElementNS('http://www.w3.org/2000/svg',bv);var H;if(dw){dj.setAttribute('id',dw);}for(H in bD){if(bD.hasOwnProperty(H)){dj.setAttribute(H,bD[H]);}}return dj;};var fv=Mn('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var qj=ata(ba,ib);ba.aGI=qj;var lz=atf(ib);ba.lz=lz;qj.appendChild(lz);var oC=asX(ib);ba.oC=oC;qj.appendChild(oC);var ED=asq();oC.appendChild(ED.ti);oC.appendChild(ED.rO);oC.appendChild(ED.sq);ba.ti=ED.ti;ba.rO=ED.rO;ba.sq=ED.sq;var FC=auA(ba,ib);qj.appendChild(FC);fv.appendChild(qj);ba.tz=Mn('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});fv.appendChild(ba.tz);var So=Mn('g',null,{});ba.zf=So;fv.appendChild(So);var bX;if(J.qc()===false){bX=sB.fI.length;}else{bX=1;}for(H=0;H<bX;H++){bm=sB.fI[H];bm.pool.parentElementID=ib+H.toString();Vf=1/bm.dG;dj=Mn('g',bm.pool.parentElementID,{transform:'matrix('+Vf.toString()+',0,0,'+Vf.toString()+',0,0)'});So.appendChild(dj);}ba.we=fv;gW.appendChild(fv);};this.aqb=function(je){var aqL=this.ajM();je.elementID=aqL;};this.aAz=function(je){var dj=document.getElementById(je.elementID);this.gq(dj,'display','none');};this.agV=function(je){var dj=document.getElementById(je.elementID);if(dj===null){je.elementID='';return;}dj.setAttributeNS('http://www.w3.org/1999/xlink','href','');dj.parentNode.removeChild(dj);je.elementID='';};var axg=function(ad){try{ad.target.onload=undefined;ad.target.onerror=undefined;ad.target.onabort=undefined;var je=ad.target.poolItem;je.loaded=true;bL.Ai();}catch(ex){bL._debug.bd(ex,'downloadImage');}};var amF=function(ad){try{ad.target.onload=undefined;ad.target.onerror=undefined;ad.target.onabort=undefined;ad.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');ad.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){bL._debug.bd(ex,'downloadImage');var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=ex;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}};this.avY=function(xI){var H;var bX=xI.length;if(J.qc()===false){bX=xI.length;}else{bX=1;}for(H=0;H<bX;H++){var et=xI[H];var dj=document.getElementById(et.poolItem.elementID);if(dj===null){var je=et.poolItem;var Pd=je.pool;var gW=document.getElementById(Pd.parentElementID);dj=document.createElementNS('http://www.w3.org/2000/svg','image');this.gq(dj,'id',je.elementID);this.gq(dj,'externalResourcesRequired','true');dj.poolItem=je;dj.onload=axg;dj.onerror=amF;dj.onabort=amF;if(document.documentMode>8||IPCC.V.IW.PP){je.loaded=true;}dj.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.ayg(dj,et.url,'image/'+et.contentType);gW.appendChild(dj);this.gq(dj,'display','block');var bA=et.right-et.x;var ao=et.bottom-et.y;this.gq(dj,'x',et.x);this.gq(dj,'y',et.y);this.gq(dj,'width',bA);this.gq(dj,'height',ao);if(bX>1){var alK=bA-et.yH;var amT=ao-et.wE;var LH=document.createElementNS('http://www.w3.org/2000/svg','clipPath');LH.id=dj.id+'_clip';var fG=document.createElementNS('http://www.w3.org/2000/svg','rect');this.gq(fG,'x',et.x-et.yH);this.gq(fG,'y',et.y-et.wE);this.gq(fG,'width',alK);this.gq(fG,'height',amT);this.gq(fG,'class','expand-on-print');LH.appendChild(fG);var insertBeforeElement=null;for(var i=0;i<gW.childNodes.length;i++){if(gW.childNodes.item(i).getAttribute('x')<et.x||gW.childNodes.item(i).getAttribute('y')<et.y){insertBeforeElement=gW.childNodes.item(i);break;}}gW.insertBefore(dj,insertBeforeElement);gW.appendChild(LH);this.gq(dj,'style','clip-path: url(#'+LH.id+')');this.gq(dj,'class','no-clip-on-print');}}this.gq(dj,'display','block');}if((document.documentMode>8||IPCC.V.IW.PP)&&xI.length>0){bL.Ai();}};this.ayg=function(dj,bg,uc){var qB=true;var mz=0;if(J.kS()===0){qB=false;}function ee(aD){var dz,dR;try{var eR=IPCC.Web.GI(aD),Tl;var og=aD.getResponseHeader("Accusoft-Data-Encrypted");if(og==='true'&&J.iH()===true){var xa=IPCC.Web.gY.pL.tO(aD.getResponseHeader("Accusoft-Data-SK"));var bw=IPCC.Web.Hs(xa,jf);var ub=IPCC.Web.Bj(eR,bw,jf);Tl=IPCC.Web.gY.pL.lX(ub,0,0);}else{Tl=IPCC.Web.gY.pL.lX(eR,0,0);}dj.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+uc+';base64,'+Tl);}catch(ex){dz="Image error, Error message = "+ex.message;dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=ex;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);throw new IPCC.Web.UI.ImGearArgumentException(null,dz);}};function fl(aV){var ha=aV.response.status,dz,nc,lK;if(!aV.response){throw new IPCC.Web.UI.ImGearHttpException(ha,"Client Image load timeout");}if(ha===403){mz++;if(aV.response.statusText&&aV.response.statusText!==""){dz="Expired viewer session ID, error message from the server: "+aV.response.statusText;}else{dz="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ha,dz);}nc=aV.response.getResponseHeader('Accusoft-Status-Message');if(nc){var qM;lK=aV.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yj(lK)){qM=parseInt(lK,10);}throw new IPCC.Web.UI.ImGearHttpException(ha,nc,qM);}else{if(aV.response.statusText&&aV.response.statusText!==""){dz=aV.response.statusText;}else{dz="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ha,dz);}};var hs={method:'GET'};if(qB===true){hs.timeout=J.kS();}if(J.aoi()&&J.iH()===true){var jf=IPCC.Web.FQ.ajb(4);var nI=IPCC.Web.gY.HM.lX(jf);var auK=bg+'&iv='+nI;hs.url=auK;}else{hs.mimeType='text/plain; charset=x-user-defined';hs.url=bg;}IPCC.V.mR.fB(hs).then(ee,fl);};this.awE=function(ba){var K=this;if(ba.Zd){return;}var mz=0;var et=ba.sB.fI[0].tiles[0];if(!et){return;}var Pd=et.level.pool;var gW=document.getElementById(Pd.parentElementID);var qB=true;if(J.kS()===0){qB=false;}var wf=J.ZF();if(ba.Jt){if(wf===2){delete ba.Jt;if(gW.childNodes.length>0){gW.removeChild(gW.childNodes[0]);}}else if(wf===1){if(gW.childNodes.length>0){gW.removeChild(gW.childNodes[0]);}}else{if(gW.childNodes.length===0){gW.appendChild(ba.anj);}}J.vn=true;return;}if(wf>0){return;}function ee(aD){var dR,dz;ba.Zd=false;try{try{var mX;var og=aD.getResponseHeader("Accusoft-Data-Encrypted");if(og==='true'&&J.iH()===true){var xa=IPCC.Web.gY.pL.tO(aD.getResponseHeader("Accusoft-Data-SK"));var bw=IPCC.Web.Hs(xa,jf);var eR=IPCC.Web.GI(aD);var ub=IPCC.Web.Bj(eR,bw,jf);mX=IPCC.Web.gY.Gm.lX(ub);}else{mX=aD.responseText;}aEM(mX);}catch(ex){dz="SVG image error, Error message = "+ex.message;dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=ex;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);throw new IPCC.Web.UI.ImGearArgumentException(null,dz);}}catch(e){bL._debug.bd(e,'openPage');if(typeof(J.bB)==='function'){dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};function fl(aV){var dR,dz,nc,lK;ba.Zd=false;try{if(!aV.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var ha=aV.response.status;if(ha===480){mz++;if(aV.response.statusText&&aV.response.statusText!==""){dz=dz="PDF file password required, error message from the server: "+aV.response.statusText;}else{dz="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(ha,dz);}if(ha===403){mz++;if(aV.response.statusText&&aV.response.statusText!==""){dz="Expired viewer session ID, error message from the server: "+aV.response.statusText;}else{dz="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ha,dz);}nc=aV.response.getResponseHeader('Accusoft-Status-Message');if(nc){var qM;lK=aV.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yj(lK)){qM=parseInt(lK,10);}throw new IPCC.Web.UI.ImGearHttpException(ha,nc,qM);}else{if(aV.response.statusText&&aV.response.statusText!==""){dz=aV.response.statusText;}else{dz="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ha,dz);}}catch(e){bL._debug.bd(e,'openPage');if(typeof(J.bB)==='function'){dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=J.av;J.bB('pageOpenFailed',dR);}}};var apM=function(){var bG=J.aW();var yo=bG.agP();J.vn=true;J.bB('pageDisplayed',{aY:J.av});if(yo){K.acs(ba);}};var aEM=function(eJ){var sf=Pd.parentElementID.toString();var DQ=(IPCC.V.DI||IPCC.V.Xz)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var aAG=DQ.replace(/"/g,'\\$&');var aji=DQ.replace(/[()]/g,'\\$&');eJ=eJ.replace(/href="#/g,'href="'+aAG+'#'+sf);eJ=eJ.replace(/="url\(#/g,'="url('+aji+'#'+sf);eJ=eJ.replace(/fill:url\(#/g,'fill:url('+aji+'#'+sf);eJ=eJ.replace(/ id="/g,' id="'+sf);eJ=eJ.replace(/<use([^>]+)\/>/g,' <use$1></use>');var Tx=document.createElement('div');Tx.innerHTML=eJ;var ot=Tx.querySelectorAll('style');IPCC.V.forEach(ot,function(cn){var aju=(cn.styleSheet)?cn.styleSheet.cssText:cn.textContent;if(cn.styleSheet){cn.styleSheet.cssText=aju;}else{cn.appendChild(document.createTextNode(aju));}});var kf=null;var IB=Tx.firstChild;while(IB!==null){if(IB.nodeName==='svg'){kf=IB;break;}IB=IB.nextSibling;}if(kf===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!ba.Jt){ba.anj=kf;gW.appendChild(kf);ba.Jt=true;if(!J.vn&&ba.Jt){setTimeout(apM,1);}}};var bg;var jf,nI;J.vn=false;if(J.iH()===true){jf=IPCC.Web.FQ.Yn(4,IPCC.Web.OQ());nI=IPCC.Web.gY.HM.lX(jf);bg=et.url+'&iv='+nI;}else{bg=et.url;}var hs={method:'GET',url:bg,cache:true};if(qB===true){hs.timeout=J.kS();}ba.Zd=true;IPCC.V.mR.fB(hs).then(ee,fl);};this.anQ=function(et,cA){if(!et){return;}var Cy=document.getElementById(et.poolItem.elementID);this.gq(Cy,'x',et.x);this.gq(Cy,'y',et.y);this.gq(Cy,'width',et.right-et.x);this.gq(Cy,'height',et.bottom-et.y);this.gq(Cy,'opacity',cA);this.gq(Cy,'display','block');};this.acw=function(xI,cA,fa){var H;if(J.qc()===false){for(H=0;H<xI.length;H++){this.anQ(xI[H],cA);}}};return this;};IPCC.fs.viewerCounter=0;IPCC.fs.tileCounter=0;IPCC.fs.imageIDCounter=0;IPCC.fs.prototype.aEt=function(J){this.ib=IPCC.fs.viewerCounter.toString();IPCC.fs.viewerCounter++;this.J=J;if(IPCC.dJ){this.pp=new IPCC.Web.UI.MarkCollection();}var K=this;function avS(ay,L){K.azb(L);};function vr(ay,L){K.ayZ(L);};J.kX(avS);J.add_markAdded(vr);J.add_markChanged(vr);J.add_inProgressMarkChanged(vr);J.add_markRemoved(vr);J.add_markReordered(vr);J.add_marksLoaded(vr);J.add_markSelectionChanged(vr);J.add_markTextSelectionChanged(vr);};IPCC.fs.prototype.ajM=function(){var dw='igtile'+IPCC.fs.tileCounter.toString();IPCC.fs.tileCounter++;return dw;};IPCC.fs.prototype.Ai=function(){this.Ph=true;this.DG=this.DG&&this.XV;var K=this;var awf=function(){if(!K.Ph){return;}K.dk(K.J.dM(),K.J.aW(),K.J.dS());K.DG=true;};window.setTimeout(awf,0);};IPCC.fs.prototype.azb=function(L){var uO=L.get_propertyName();switch(uO){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.J.aW().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.FG=true;if(this.J.AN()===true){this.Ai();}return;case 'displayedPageRectangle':if(this.J.vn===true){this.Ai();return;}break;case 'redactionDraftMode':this.FG=true;this.Ai();return;}if(this.J.AN()===true){this.Ai();}};IPCC.fs.prototype.ayZ=function(L){if(L.mark&& !this.FG){this.pp.addMark(L.mark);}else{this.FG=true;}if(this.J.AN()===true){this.Ai();}};IPCC.fs.prototype.UT=function(){this.lg=this.fa.clone();this.lg.mj(this.aaR,this.abI);this.lg.hY(this.J.dM(),this.J.dS());this.pR=this.lg.clone();this.pR.wV();};IPCC.fs.prototype.dk=function(ap,bG,bp){try{this.Ph=false;if(this.Mi===true){return;}var cC=this.J.lN();if(cC===null){return;}var dE=cC.igElements;try{this.Mi=true;if(this.Fi===undefined||ap===undefined|| !(this.Fi.equals(ap))){if(this.Sc){if(this.jU){this.aql(this.jU);var eA=dE.mu;IPCC.Web.UI.ar.removeHandler(eA,"mousedown",this.aet);IPCC.Web.UI.ar.removeHandler(eA,"mousemove",this.agk);IPCC.Web.UI.ar.removeHandler(eA,"mouseup",this.agx);IPCC.Web.UI.ar.removeHandler(eA,"contextmenu",this.amR);IPCC.Web.UI.ar.removeHandler(dE.fw,"blur",this.Nl);IPCC.Web.UI.ar.removeHandler(dE.gI,"blur",this.Yy);IPCC.Web.UI.ar.removeHandler(dE.cU,"blur",this.Nl);}delete this.jU;this.adU(dE.oW);this.adU(dE.CD);this.Sc=false;if(this.EU!==undefined){this.EU.unlockAllItems();}if(this.Fr!==undefined){this.Fr.unlockAllItems();}this.EU=undefined;this.Fr=undefined;cC.igElements.nj.onscroll=null;cC.igElements.nj.onresize=null;}if(cC.querySelectorAll){if(cC.querySelectorAll(".pccPageLoadFail").length===0){cC.innerHTML='';}}this.J.oh(true);if(ap===undefined){this.Mi=false;this.Fi=undefined;this.amL();return;}this.Fi=ap.clone();this.EU=new IPCC.uk();this.EU.createPyramid(this,this.J);this.Fr=new IPCC.uk();this.Fr.createPyramid(this,this.J);this.Sc=true;this.arK(this.ib);}this.fa=bG.fH();var Pg=this.fa.nN(ap);this.fa.mj(-Pg.x,-Pg.y);this.anZ=this.fa.clone();this.anZ.wV();this.aaR=Math.round(Pg.x);this.abI=Math.round(Pg.y);this.UT();this.aqO(ap,bG,bp);if(ap.av===0){this.UT();}}finally{this.Mi=false;this.FG=false;if(this.pp){this.pp.removeAllMarks();}}this.acV(true);}catch(e){this.bL._debug.bd(e,'display');throw e;}};IPCC.fs.prototype.acr=function(vV,vv,vF){if(vV[vv]===vF){return;}vV[vv]=vF;};IPCC.fs.prototype.gq=function(vV,vv,vF){if(vV.getAttribute(vv)===vF){return;}vV.setAttribute(vv,vF);};IPCC.fs.prototype.zb=function(vV,vv,vF){if(vV.style[vv]===vF){return;}vV.style[vv]=vF;};IPCC.fs.prototype.acV=function(aow){if(this.Mi){return;}if(this.Ph&& !this.DG){return;}if(!aow){try{this.XV=true;var cC=this.J.lN();if(cC){this.wh=cC.igElements.nj.scrollLeft;this.wR=cC.igElements.nj.scrollTop;}this.aqs();this.UT();this.J.aW().iC(this.lg);this.J.bB('userModifiedViewState',{});this.J.oh(false);}finally{this.XV=false;}}};IPCC.fs.prototype.aEr=function(ba,fa,aqX){var sB=ba.sB;var nL=sB.azk(fa,aqX);if(!this.J.vn&&nL.tilesToRequest.length===0&&(nL.opaqueTiles.length+nL.translucentTiles.length)>0){this.J.vn=true;this.J.bB('pageDisplayed',{aY:this.J.av});}sB.awg(nL);if(this.J.qc()===false){this.avY(nL.tilesToRequest);this.acw(nL.opaqueTiles,1,fa);this.acw(nL.translucentTiles,nL.opacity,fa);}};IPCC.fs.prototype.arK=function(ib){var J=this.J;var cC=J.lN();var bG=J.aW();var bL=this;function hH(qF){var wB=document.createElement('div');var H;for(H in qF){if(qF.hasOwnProperty(H)){wB.style[H]=qF[H];}}return wB;};var dE={};cC.igElements=dE;var ij=hH({width:'100%',height:'100%',position:'relative',overflow:bG.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});dE.nj=ij;ij.setAttribute('class','igViewerScroller');ij.onscroll=function(){bL.acV(false);};ij.onresize=function(){var bp=J.dS();bp.width=ij.clientWidth;bp.height=ij.clientHeight;J.bB('resize',{});};var eA=hH({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});ij.appendChild(eA);dE.mu=eA;eA.setAttribute('class','igViewerGraphics');this.AI=2;this.zO=2;this.wh=0;this.wR=0;var ba={};ba.sB=this.EU;ba.WZ='ig'+ib+'level';dE.oW=ba;this.ajW(ba,eA,hH);ba.qG=this.qG;var km;if(J.qc()===false){km=hH({position:'absolute',display:'none',width:(bG.wI().width+4)+'px',height:(bG.wI().height+4)+'px',backgroundColor:'#000000'});}else{km=hH({position:'absolute',display:'none',width:(bG.wI().width+4)+'px',height:(bG.wI().height+4)+'px',backgroundColor:'#cccccc'});}eA.appendChild(km);dE.km=km;km.setAttribute('class','igMagnifierFrame');var rq=hH({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});dE.rq=rq;km.appendChild(rq);ba={};ba.sB=this.Fr;ba.WZ='ig'+ib+'maglevel';dE.CD=ba;this.ajW(ba,rq,hH);ba.qG=this.arL;var Nr=document.createTextNode('');dE.Nr=Nr;var fw=document.createElement('textarea');fw.appendChild(Nr);fw.style.position='absolute';fw.style.overflow='auto';fw.style.width='80px';fw.style.height='80px';fw.style.resize='none';fw.style.display='none';ij.appendChild(fw);dE.fw=fw;var TA=document.createTextNode('');dE.TA=TA;var gI=document.createElement('input');gI.type="text";gI.style.position='absolute';gI.style.overflow='hidden';gI.style.width='80px';gI.style.height='80px';gI.style.resize='none';gI.style.display='none';gI.style.padding='0px';gI.style.margin='0px';gI.style.lineHeight='normal';gI.className="no-ms-clear";var ajP=function(ev){var wY=gI,bA=parseFloat(wY.style['width']),ao=parseFloat(wY.style['height']),iY=wY.style['fontFamily'];var auP=wY.value.length>wY.placeholder.length?wY.value:wY.placeholder;var iQ=IPCC.V.tm(auP,iY,{tX:'pre',fv:dE.oW.we}),vI=12*bA/(iQ.width||1),vu=12*ao/(iQ.height||1),Ab=Math.floor(Math.min(vI,vu))*0.9;wY.style.fontSize=Ab+'px';};gI.onkeyup=ajP;gI.onfocus=function(ev){ajP(ev);if(gI.setSelectionRange){var gS=gI.value.length*2;gI.setSelectionRange(gS,gS);}};ij.appendChild(gI);dE.gI=gI;var qR=document.createTextNode('');dE.qR=qR;var cU=document.createElement('textarea');cU.appendChild(qR);cU.style.position='absolute';cU.style.overflow='hidden';cU.style.width='80px';cU.style.height='80px';cU.style.resize='none';cU.style.display='none';cU.style.whiteSpace='pre-wrap';cU.style.border=0;cU.style.padding='2px';cU.style.fontStyle='normal';var aAp=function(aT){var ars=J.En();var dG=J.aW().fH().rk();var iu=ars.iu*dG;var al=J.lC().jj()*dG;IPCC.V.Ub(cU,iu,al);};cU.onkeyup=aAp;ij.appendChild(cU);dE.cU=cU;this.jU={};this.aqW(this.jU);IPCC.Web.UI.ar.addHandler(eA,"mousedown",this.aet);IPCC.Web.UI.ar.addHandler(eA,"mousemove",this.agk);IPCC.Web.UI.ar.addHandler(eA,"mouseup",this.agx);IPCC.Web.UI.ar.addHandler(eA,"contextmenu",this.amR);IPCC.Web.UI.ar.addHandler(fw,"blur",this.Nl);IPCC.Web.UI.ar.addHandler(gI,"blur",this.Yy);IPCC.Web.UI.ar.addHandler(cU,"blur",this.Nl);cC.appendChild(ij);};IPCC.fs.prototype.ajW=function(ba,gW,hH){var sA=hH({width:'2px',height:'2px',position:'absolute'});ba.gW=gW;gW.appendChild(sA);ba.afX=sA;sA.setAttribute('class','igAnchor');this.aqh(ba,sA,ba.sB,ba.WZ);ba.Ay=hH({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});sA.appendChild(ba.Ay);var jg=hH({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});jg.style[this.aAf]=this.axG(0.5);sA.appendChild(jg);ba.jg=jg;};IPCC.fs.prototype.adU=function(ba){if(ba&&ba.Oc){ba.qG.apz();ba.Oc=false;}ba.gW=null;};IPCC.fs.prototype.aqO=function(ap,bG,bp){var J=this.J;var om=this.lg.nN(ap);var cC=J.lN();var ann=J.ama();var AO=J.amo();var dE=cC.igElements;var oW=dE.oW;var CD=dE.CD;var ij=dE.nj;var eA=dE.mu;var sA=oW.afX;var km=dE.km;var rq=dE.rq;var aeK=CD.afX;var Ez=Math.max(0,-om.x);var DP=Math.max(0,-om.y);var azn=Math.max(om.width,bp.width);var azE=Math.max(om.height,bp.height);var mc=Math.max(0,om.x);var mw=Math.max(0,om.y);var aac=false;var BG=false;if(bG.xA()){BG=bG.xr();}var ayy=this.AI;this.AI=Math.floor(azn-1);if(this.AI<0){this.AI=0;}var aAs=this.zO;this.zO=Math.floor(azE-1);if(this.zO<0){this.zO=0;}if(J.qc()===true){if(this.zO===0){this.zO=2;}if(this.AI===0){this.AI=2;}}var axP=this.wh;var ayA=this.wR;if(!this.DG){this.wh=Math.floor(Ez);this.wR=Math.floor(DP);}if(this.acL){this.zb(sA,'left',mc+'px');this.zb(sA,'top',mw+'px');}var fa=bG.fH();fa.mj(Ez-mc,DP-mw);this.acB(oW,bG.fH(),fa,ap,bp,BG,mc,mw);this.zb(ij,'overflow',bG.get_overflow());if(bp.width!==ij.clientWidth||bp.height!==ij.clientHeight){bp.width=ij.clientWidth;bp.height=ij.clientHeight;aac=true;}this.acr(sA.style,'visibility','visible');if(bG.get_magnifierIsVisible()){var ts=bG.get_magnifierWindowPosition();var zV=bG.wI();var PU=bG.Nv();var OS=bG.Oa();var Va=bG.anN();var awi=Math.round(ts.x-zV.width/2+Ez+PU);var awe=Math.round(ts.y-zV.height/2+DP+OS);var Jl=Va.nN(ap);var avx=Math.max(0,-Jl.x);var awF=Math.max(0,-Jl.y);this.zb(aeK,'left',Jl.x+'px');this.zb(aeK,'top',Jl.y+'px');var JV=2;km.style.width=(zV.width+JV*2)+'px';km.style.height=(zV.height+JV*2)+'px';rq.style.width=zV.width+'px';rq.style.height=zV.height+'px';rq.style.left=JV+'px';rq.style.top=JV+'px';km.style.left=awi+'px';km.style.top=awe+'px';var YB=Va.clone();YB.mj(avx,awF);this.acB(CD,Va,YB,ap,zV,BG,0,0);km.style.display='block';}else{km.style.display='none';}if(J.agQ()){var jD=J.En();var asD=jD.di();var gX=this.lg.zQ(asD);var ng=(jD.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var aaD=jD.co* -1,ahs=jD.co* -1;if(gX.width<ng){gX.width=ng;}if(gX.height<ng){gX.height=ng;}if(gX.width>bp.width){gX.width=bp.width;}if(gX.height>bp.height){gX.height=bp.height;}if(gX.x<0){gX.x=0;}if(gX.y<0){gX.y=0;}if(gX.x+gX.width+1>=bp.width){gX.x=bp.width-gX.width;aaD= -8;}if(gX.y+gX.height+1>=bp.height){gX.y=bp.height-gX.height;ahs= -8;}var jm=this.EV(jD);jm.style.left=this.wh+gX.x+1+(jD.co/2)+'px';jm.style.top=this.wR+gX.y+1+(jD.co/2)+'px';jm.style.width=gX.width+aaD-1+'px';jm.style.height=gX.height+ahs-1+'px';if(jm.style.display!=='block'){jm.style.display='block';jm.style.whiteSpace='pre-wrap';var sh=jD.dF;var sx='';if(sh&IPCC.Web.UI.FontStyle.Italic){jm.style.fontStyle="italic";}if(sh&IPCC.Web.UI.FontStyle.Bold){jm.style.fontWeight="bold";}if(sh&IPCC.Web.UI.FontStyle.Underline){sx+="underline";}if(sh&IPCC.Web.UI.FontStyle.Strikeout){if(sh&IPCC.Web.UI.FontStyle.Underline){sx+=" line-through";}else{sx="line-through";}}jm.style.textDecoration=sx;jm.style.color=jD.oR;jm.style.backgroundColor=jD.cN;jm.style.fontFamily=jD.hq;jm.style['z-index']=100;var Ab=jD.Bz*this.lg.rk();if(Ab){jm.style.fontSize=Ab+"px";}switch(jD.jo){case IPCC.Web.UI.HorizontalAlignment.Center:jm.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:jm.style.textAlign='right';break;default:jm.style.textAlign='left';break;}if(jD.fr){setTimeout(function(){dE.fw.maxLength=jD.fr;dE.gI.maxLength=jD.fr;dE.cU.maxLength=jD.fr;},0);}if(jD.iG){if(AO){AO.destroy();J.ZI(null);}J.ZI(new IPCC.VR(jm,jD.iG));}if(jD.hT()===IPCC.Web.UI.MarkType.TextAreaSignature){var cU=IPCC.V.ais();cU.style.width=dE.cU.style.width;cU.style.height=dE.cU.style.height;cU.style.fontFamily=dE.cU.style.fontFamily;cU.style.fontStyle=dE.cU.style.fontStyle;cU.style.fontWeight=dE.cU.style.fontWeight;var dG=J.aW().fH().rk();var iu=jD.iu*dG;var al=J.lC().jj()*dG;IPCC.V.aiT().nodeValue=jD.an||'m';dE.cU.style.fontSize=IPCC.V.Ub(cU,iu,al)+'px';}jm.focus();}}else{dE.fw.style.display='none';dE.gI.style.display='none';dE.cU.style.display='none';dE.fw.removeAttribute('maxlength');dE.gI.removeAttribute('maxlength');dE.cU.removeAttribute('maxlength');if(AO){AO.destroy();J.ZI(null);}if(document.activeElement===dE.fw){dE.fw.blur();}if(document.activeElement===dE.gI){dE.gI.blur();}if(document.activeElement===dE.cU){dE.cU.blur();}}if(bG.get_cursor()!== -1){var jw=IPCC.bz.fk(bG.get_cursor());this.acr(eA.style,'cursor',jw);}if(aac){J.bB('resize',{});}if(this.AI!==ayy){this.zb(eA,'width','100%');}if(this.zO!==aAs){this.zb(eA,'height','100%');}if(this.wh!==axP){ij.scrollLeft=this.wh;}if(this.wR!==ayA){ij.scrollTop=this.wR;}if(ann==="PageView"&& !this.DG){bG=J.aW();var bh=bG.fH();var vK=(+bh.rk().toFixed(6));if(J.KN!==vK){J.KN=vK;setTimeout(function(){J.bB('scaleChanged',{scaleFactor:vK,pageNumber:J.av});},1);J.bB('scaleChanged',{scaleFactor:vK,pageNumber:J.av});}}};IPCC.fs.prototype.acB=function(ba,lg,fa,bU,bp,BG,mc,mw){var om=lg.nN(bU);var ob={};ob.width=Math.max(om.width,bp.width);ob.height=Math.max(om.height,bp.height);this.apE(ba,lg,fa,bU,bp,mc,mw);this.abc(ba,fa,ob,bU,mc,mw);if(this.J.qc()===false){this.afe(ba,bp,lg,fa);}else{this.awE(ba);var bG=this.J.aW();var yo=bG.agP();if(this.J.vn&&yo){this.acs(ba);}}this.aqE(ba);if(BG){var AX=fa.zQ(BG);if(this.acL){ba.jg.style.left=(AX.x-2)+'px';ba.jg.style.top=(AX.y-2)+'px';}else{ba.jg.style.left=(AX.x-2+mc)+'px';ba.jg.style.top=(AX.y-2+mw)+'px';}ba.jg.style.width=AX.width+'px';ba.jg.style.height=AX.height+'px';ba.jg.style.display='block';}else{ba.jg.style.display='none';}};IPCC.fs.prototype.afe=function(ba,bp,lg,fa){var Ze=this.J.aox();var HV={x:0,y:0,width:bp.width,height:bp.height};if(Ze){var yc=Ze.getBoundingClientRect();var gT=ba.gW.getBoundingClientRect();var JQ;if(gT.left<yc.left){JQ=yc.left-gT.left;HV.x=(JQ/gT.width)*bp.width;}if(gT.right>yc.right){HV.width=yc.width;}if(gT.top<yc.top){JQ=yc.top-gT.top;HV.y=(JQ/gT.height)*bp.height;}if(gT.bottom>yc.bottom){HV.height=yc.height;}}var pR=lg.clone();pR.wV();var asN=pR.zQ(HV);this.aEr(ba,fa,asN);};IPCC.fs.prototype.apE=function(ba,lg,fa,bU,bp,mc,mw){var aH=this.J.eP();var en=this.J.mT();var ff=this.J.Nx();var ajQ=0;var K=this;if(ba.jT){ajQ=ba.jT.length;}if(!ba.qG|| !aH){return;}var nT=this.J.aoO();if(aH.get_markCount()<=0&&en.get_markCount()<=0&&ff.get_markCount()<=0&&ajQ<=0&& !nT){return;}if(!ba.Oc){ba.qG.aqr(this.J,ba,bU);ba.jT=[];ba.Oc=true;}en=this.J.mT();var bn=[];function atu(G){if((K.J.kY()&&K.J.dC().nA()===true)||G.get_type()!==IPCC.Web.UI.MarkType.Highlight){bn.push(G);}};function alx(G){bn.push(G);};ff.forEachMark(alx);en.forEachMark(alx);aH.forEachMark(atu);if(nT){bn.push(nT);}var H,jT=ba.jT;for(H=0;H<jT.length;H++){while(H<jT.length&&(H>=bn.length||jT[H].G!==bn[H])){ba.qG.Ng(jT[H]);jT.splice(H,1);}if(H<jT.length&&(this.FG||this.pp.contains(jT[H].G))){ba.qG.abE(jT[H]);}}for(H=jT.length;H<bn.length;H++){jT[H]={G:bn[H]};var F=jT[H];if(!F){continue;}ba.qG.apV(jT[H]);}if(this.acL){ba.qG.acc(this.J,ba,bn,fa,this.J.agY());}else{var aaL=fa.clone();aaL.mj(mc,mw);ba.qG.acc(this.J,ba,bn,aaL,this.J.agY());}};IPCC.fs.prototype.abc=function(){};IPCC.fs.prototype.aqs=function(){var cC=this.J.lN();if(cC){this.aaR=cC.igElements.mu.offsetLeft-this.wh;this.abI=cC.igElements.mu.offsetTop-this.wR;}};IPCC.fs.prototype.qK=function(L,dk){var gw=this.J.lN().igElements;var ih=L.domEvent;var er;if(gw.mu.getBoundingClientRect){er=gw.mu.getBoundingClientRect();}else{var eg=gw.mu;var xd=document.documentElement;er={left:xd.clientLeft-xd.scrollLeft,top:xd.clientTop-xd.scrollTop};eg=eg.offsetParent;while(eg){er.top+=eg.offsetTop-eg.scrollTop;er.left+=eg.offsetLeft-eg.scrollLeft;eg=eg.offsetParent;}}if(ih.rawEvent.touches){if(ih.rawEvent.touches.length>0){this.KU=new IPCC.Web.UI.Point(ih.rawEvent.touches[0].clientX-gw.nj.scrollLeft-er.left,ih.rawEvent.touches[0].clientY-gw.nj.scrollTop-er.top);}if(!this.KU){this.KU=new IPCC.Web.UI.Point(0,0);}L.windowPoint=new IPCC.Web.UI.Point(this.KU.x,this.KU.y);ih.button=0;}else{L.windowPoint=new IPCC.Web.UI.Point(ih.clientX-er.left-gw.nj.scrollLeft,ih.clientY-er.top-gw.nj.scrollTop);}var OX=this.pR.transform(L.windowPoint);L.imagePoint=new IPCC.Web.UI.Point(OX.x,OX.y);L.constrainedImagePoint=new IPCC.Web.UI.Point(OX.x,OX.y);L.constrainedImagePoint.x=Math.min(Math.max(L.constrainedImagePoint.x,0),this.Fi.width);L.constrainedImagePoint.y=Math.min(Math.max(L.constrainedImagePoint.y,0),this.Fi.height);L.pointLiesWithinImage=(L.constrainedImagePoint.x===L.imagePoint.x&&L.constrainedImagePoint.y===L.imagePoint.y);L.mark=null;try{var aZ=ih.target;while(!(aZ.ImGearMarkRelation)&&aZ.parentNode&&aZ!==document.body){aZ=aZ.parentNode;}if(aZ.ImGearMarkRelation){L.mark=aZ.ImGearMarkRelation.G;}}catch(ad){}};IPCC.fs.prototype.kF=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;this.qK(L);this.J.auh(L);}catch(ex){this._debug.bd(ex,'mouseDown');}};IPCC.fs.prototype.lc=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;this.qK(L);this.J.aul(L);}catch(ex){this._debug.bd(ex,'mouseMove');}};IPCC.fs.prototype.nu=function(ad){try{var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;this.qK(L);if(!ad.rawEvent.wheelDelta){L.wheelDelta= -ad.rawEvent.detail*120;}else{L.wheelDelta=ad.rawEvent.wheelDelta;}this.J.aup(L);}catch(ex){this._debug.bd(ex,'mouseWheel');}};IPCC.fs.prototype.vG=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;this.qK(L);this.J.atJ(L);}catch(ex){this._debug.bd(ex,'mouseDoubleClick');}};IPCC.fs.prototype.iZ=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;this.qK(L);this.J.auR(L);}catch(ex){this._debug.bd(ex,'mouseUp');}};IPCC.fs.prototype.RJ=function(ad){try{ad.preventDefault();var L=new IPCC.Web.UI.MouseEventArgs();L.domEvent=ad;this.qK(L);this.J.avg(L);}catch(ex){this._debug.bd(ex,'contextMenu');}};IPCC.fs.prototype.aAK=function(ad){try{this.J.oh(true);}catch(ex){this._debug.bd(ex,'textAreaBlur');}};IPCC.fs.prototype.aAq=function(ad){try{this.J.oh(true);}catch(ex){this._debug.bd(ex,'textInputBlur');}};IPCC.fs.prototype.avG=function(G){var fw=this.EV(G);fw.value=G.an||"";};IPCC.fs.prototype.aCV=function(){var J=this.J;var G=J.En();if(!G|| !J.agQ()){return;}var Rj=this.EV(G);if(document.activeElement===Rj){Rj.blur();}var an=Rj.value;an=an.replace(/(\n|\n\r|\r\n|\r)/g,'\n');G.set_text(an);};IPCC.fs.prototype.EV=function(G){var gw=this.J.lN().igElements,fw=null;if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){fw=gw.gI;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fw=gw.cU;}else if(G.get_type()===IPCC.Web.UI.MarkType.Text){fw=gw.fw;}return fw;};IPCC.dJ.abU=function(){};IPCC.dJ.CZ=1;IPCC.dJ.abU.prototype={aqr:function(J,ba,bU){this.J=J;this.bG=J.aW();this.ba=ba;this.fd=bU.width;this.fp=bU.height;this.Gu=bU.gG;this.aGD=bU.gO;ba.Ep=this.cD('g');this.ca(ba.Ep,{'fill-opacity':1});ba.zf.appendChild(ba.Ep);},apV:function(F){var ic='',C,K=this;switch(F.G.get_type()){case IPCC.Web.UI.MarkType.Rectangle:F.bi=this.cD('rect');if(F.G.hW()&&F.G.get_opacity()===255){F.bi.addEventListener("mouseover",function(L){if(F.G.get_selected()===false&&F.bi&&(L.which===0||L.buttons===0)){F.bi.style.opacity=127/255;}},false);F.bi.addEventListener("mouseout",function(L){if(F.bi&&(L.which===0||L.buttons===0)){F.bi.style.opacity=F.G.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:ic="highlighttextannotation-"+F.G.mN();F.bi=this.cD('g');F.iV=this.cD('g');F.bi.appendChild(F.iV);F.kl=this.cD('g');F.kl.setAttribute('data-pcc-mark',ic);F.bi.appendChild(F.kl);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ic="texthyperlinkannotation-"+F.G.mN();F.bi=this.cD('g');F.bi.style.cursor=IPCC.bz.fk(IPCC.bz.Link);F.iV=this.cD('g');F.bi.appendChild(F.iV);F.kl=this.cD('g');F.kl.style.opacity=IPCC.dJ.cG.afR();F.kl.style.fill="blue";F.kl.setAttribute('data-pcc-mark',ic);F.bi.appendChild(F.kl);F.kJ=this.cD('g');F.kJ.style.stroke="blue";F.kJ.style.opacity=IPCC.dJ.cG.Fu(false);F.kJ.setAttribute('data-pcc-mark',ic);F.bi.appendChild(F.kJ);F.bi.addEventListener("mouseover",function(L){if(F.kJ){F.kJ.style.opacity=IPCC.dJ.cG.Fu(true,F.G.get_selected());}},false);F.bi.addEventListener("mouseout",function(L){if(F.kJ){F.kJ.style.opacity=IPCC.dJ.cG.Fu(false,F.G.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:ic="documenthyperlink-"+F.G.mN();F.bi=this.cD('g');F.bi.style.cursor=IPCC.bz.fk(IPCC.bz.Link);F.C=this.cD('rect');F.C.style['fill-opacity']=IPCC.dJ.cG.afR();if(F.G.KQ!=='Underline'){F.C.style.stroke=F.G.kH;F.C.style['stroke-width']=F.G.co+'px';F.C.style['stroke-opacity']=(F.G.co===0)?0:F.G.qu/255;if(F.G.KQ==='Dashed'){F.C.style['stroke-dasharray']=F.G.xB.join(', ');}F.C.setAttribute('rx',F.G.HE);F.C.setAttribute('ry',F.G.JL);}else{F.tn=this.cD('line');F.tn.style.stroke=F.G.kH;F.tn.style['stroke-opacity']=F.G.qu/255;F.tn.style['stroke-width']=F.G.co+'px';F.bi.appendChild(F.tn);}F.C.style.fill='transparent';F.C.setAttribute('data-pcc-mark',ic);F.bi.appendChild(F.C);break;case IPCC.Web.UI.MarkType.RectangleRedaction:ic="textmark-"+F.G.mN();F.bi=this.cD('g');F.fG=this.cD('rect');F.gU=this.cD('g');F.gU.setAttribute('data-pcc-mark',ic);if(IPCC.V.IW.aBR){F.gU.style.cursor='pointer';}F.xj=document.createTextNode('');if(document.documentMode>8){F.dI=this.cD('text');F.dI.setAttribute('data-pcc-mark',ic);F.dI.appendChild(F.xj);F.Am=this.cD('clipPath');F.CY=this.cD('rect');F.gU.appendChild(F.Am);F.Am.appendChild(F.CY);F.gU.appendChild(F.dI);F.HD="PCC"+IPCC.dJ.CZ;IPCC.dJ.CZ++;this.ca(F.Am,{id:F.HD,clipPathUnits:"userSpaceOnUse"});C=F.G.get_rectangle();this.ca(F.CY,{x:0,y:0,width:C.width,height:C.height,"data-pcc-mark":ic});var afh=function(L){if(F.G.get_selected()===false&&F.fG&&(L.which===0||L.buttons===0)){if(K.J.lU()===false){F.bi.style.opacity=0.5;F.dI.style.opacity=0;}}};F.bi.addEventListener("mouseover",function(L){afh(L);},false);F.gU.addEventListener("mouseover",function(L){afh(L);},false);F.gU.addEventListener("mouseout",function(L){if(F.fG&&(L.which===0||L.buttons===0)){if(K.J.lU()===false){F.bi.style.opacity=1;F.dI.style.opacity=1;}}},false);F.bi.addEventListener("mouseout",function(L){if(F.fG&&(L.which===0||L.buttons===0)){if(K.J.lU()===false){F.bi.style.opacity=1;F.dI.style.opacity=1;}}},false);}else{F.nm=document.createElement('div');this.ca(F.nm,{"data-pcc-mark":ic});F.nm.appendChild(F.xj);F.Op=document.createElement('div');this.ca(F.Op,{"data-pcc-mark":ic});F.Op.appendChild(F.nm);F.qq=document.createElement('body');this.ca(F.qq,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":ic});F.qq.appendChild(F.Op);F.Au=this.cD('foreignObject');F.Au.appendChild(F.qq);F.gU.appendChild(F.Au);F.qq.addEventListener("mouseover",function(L){if(F.G.get_selected()===false&&F.fG&&(L.which===0||L.buttons===0)){F.fG.style.opacity=0.5;F.nm.style.opacity=0;}},false);F.qq.addEventListener("mouseout",function(L){if(F.fG&&(L.which===0||L.buttons===0)){if(K.J.lU()===false){F.fG.style.opacity=1;F.nm.style.opacity=1;}}},false);}F.bi.appendChild(F.fG);break;case IPCC.Web.UI.MarkType.Ellipse:F.bi=this.cD('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:F.bi=this.cD('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:F.bi=this.cD('g');F.iV=F.bi;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:F.bi=this.cD('g');F.sZ=this.cD('polyline');F.Za=this.cD('path');F.Sg=this.cD('path');F.bi.appendChild(F.sZ);F.bi.appendChild(F.Za);F.bi.appendChild(F.Sg);F.sZ.setAttribute('stroke-linejoin','miter');F.sZ.setAttribute('stroke-linecap','butt');F.sZ.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:F.bi=this.cD('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:ic="textmark-"+F.G.mN();F.bi=this.cD('g');F.If=this.cD('polygon');F.sZ=this.cD('path');F.Uz=this.cD('path');F.gU=this.cD('g');F.bi.appendChild(F.If);F.bi.appendChild(F.sZ);F.bi.appendChild(F.Uz);this.ca(F.If,{style:'stroke:none;'});F.gU.setAttribute('data-pcc-mark',ic);F.xj=document.createTextNode('');if(document.documentMode>8){F.dI=this.cD('text');F.dI.setAttribute('data-pcc-mark',ic);F.dI.appendChild(F.xj);F.Am=this.cD('clipPath');F.CY=this.cD('rect');F.gU.appendChild(F.Am);F.Am.appendChild(F.CY);F.ajG=this.cD('g');F.gU.appendChild(F.ajG);F.gU.appendChild(F.dI);F.HD="PCC"+IPCC.dJ.CZ;IPCC.dJ.CZ++;this.ca(F.Am,{id:F.HD,clipPathUnits:"userSpaceOnUse"});C=F.G.get_rectangle();this.ca(F.CY,{x:0,y:0,width:C.width,height:C.height,"data-pcc-mark":ic});}else{F.nm=document.createElement('div');F.nm.appendChild(F.xj);F.qq=document.createElement('body');this.ca(F.qq,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":ic});F.qq.appendChild(F.nm);F.Au=this.cD('foreignObject');F.Au.appendChild(F.qq);F.gU.appendChild(F.Au);}F.If.setAttribute('data-pcc-mark',ic);break;case IPCC.Web.UI.MarkType.Stamp:F.bi=this.cD('g');F.ue=this.cD('rect');F.ue.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.fG=this.cD('rect');F.Gd=this.VA(F);F.bi.appendChild(F.ue);F.bi.appendChild(F.fG);F.bi.appendChild(F.Gd);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F.bi=this.cD('g');F.ue=this.cD('rect');F.ue.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.fG=this.cD('rect');F.ajt=this.apY(F);F.ajt.setAttribute('data-pcc-mark',"mark-"+F.G.mN());F.bi.appendChild(F.ue);F.bi.appendChild(F.fG);F.bi.appendChild(F.ajt);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var G=F.G;var acR=G.di();var bA=acR.width;var ao=acR.height;var DC=G.get_pathWidth();var EE=G.get_pathHeight();var uW=G.get_pathString();var gP=IPCC.V.zE.Path(uW,{width:bA,height:ao,multiplier:100,thickness:G.get_lineWidth(),color:G.get_lineColor()});var fv=IPCC.V.zE.SVG('0 0 '+DC+' '+EE,100);var bo=IPCC.V.zE.Rect(DC,EE,'fill:rgba(255, 255, 255, 0);stroke:none;');fv.appendChild(bo);fv.appendChild(gP);F.bi=fv;F.avv=gP;F.ade=bo;this.acq(F.bi,G.jo);break;case IPCC.Web.UI.MarkType.SignatureText:F.bi=this.cD('g');F.fG=this.cD('rect');F.fG.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.Gd=this.VA(F);F.bi.appendChild(F.fG);F.bi.appendChild(F.Gd);F.G.iL=false;break;case IPCC.Web.UI.MarkType.TextLine:F.bi=this.cD('g');F.fG=this.cD('rect');F.fG.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.Gd=this.VA(F);F.bi.appendChild(F.fG);F.bi.appendChild(F.Gd);break;case IPCC.Web.UI.MarkType.Strikethrough:ic="strikethroughannotation-"+F.G.mN();F.bi=this.cD('g');F.iV=this.cD('g');F.bi.appendChild(F.iV);F.kl=this.cD('g');F.kl.setAttribute('data-pcc-mark',ic);F.bi.appendChild(F.kl);F.vy=this.cD('g');F.vy.setAttribute('data-pcc-mark',ic);F.bi.appendChild(F.vy);break;}F.bi.ImGearMarkRelation=F;F.bi.setAttribute('data-pcc-mark',"mark-"+F.G.mN());this.ba.Ep.appendChild(F.bi);if(F.gU){F.gU.ImGearMarkRelation=F;this.ba.Ep.appendChild(F.gU);}this.abE(F);},VA:function(F){var G=F.G;var Bg=G.an;if(!Bg){Bg=G.cR[0];if(!Bg){if(G.get_type()===IPCC.Web.UI.MarkType.Stamp){Bg="APPROVED";}else{Bg="";}}}var C=G.di();F.dI=this.cD('text');F.HD="PCC"+IPCC.dJ.CZ;IPCC.dJ.CZ++;var mG=document.createTextNode(Bg);F.dI.setAttribute("font-size","22px");if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){F.dI.setAttribute("style",'white-space:pre;');}switch(F.G.jo){case IPCC.Web.UI.HorizontalAlignment.Left:F.dI.setAttribute('text-anchor','start');F.dI.setAttribute('x',C.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:F.dI.setAttribute('text-anchor','end');F.dI.setAttribute("x",C.x+C.width);break;default:F.dI.setAttribute('text-anchor','middle');F.dI.setAttribute("x",C.x+(C.width/2));break;}F.dI.setAttribute('y',C.y+(C.height/2));F.dI.appendChild(mG);return F.dI;},apY:function(F){var G=F.G;F.ajr=document.createElementNS('http://www.w3.org/2000/svg','svg');F.vP=document.createElementNS('http://www.w3.org/2000/svg','image');F.vP.setAttribute('id','childimg');F.vP.setAttributeNS('http://www.w3.org/1999/xlink','href',G.get_image());F.ajr.appendChild(F.vP);return F.ajr;},apK:function(F,jo){var G=F.G;var C=G.di();var an=G.an;var FW=an.split('\n');var dI=F.dI;var Su=0;var TO=0;var WV=0;var ww=0;var akv=0;var aeq=this.Gu/72;var aat=G.dH*aeq;var wj=[];var aEa=/(.*\s)(.*)/;var mG,jt,Kh,Bs,_parent,aaZ,HC,Hv,abH,xV,adV,Bc;aaZ=dI.childNodes.length;if(aaZ>=1){_parent=dI.parentNode;HC=this.cD('text');HC.setAttribute('data-pcc-mark',F.gU.getAttribute('data-pcc-mark'));HC.setAttribute('width',F.gU.getAttribute('width')-F.G.co);_parent.replaceChild(HC,dI);F.dI=HC;F.dI.appendChild(F.xj);F.gU.appendChild(F.dI);dI={};dI=F.dI;}dI.style.fontSize=G.dH*this.Gu/72+'px';dI.style.fontFamily=G.hq;dI.width-=4;Hv=(G.co/2);if(jo){switch(jo){case IPCC.Web.UI.HorizontalAlignment.Center:Hv=(C.width/2)-(G.co/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Hv=C.width-G.co;break;}}for(var H=0;H<FW.length;H++){xV='';adV=1;if(FW[H].length>0){Kh=FW[H].split('');jt=this.cD('tspan');jt.setAttributeNS(null,"x",Hv);if(H>0){jt.setAttributeNS(null,"dy",aat*(WV+1));}mG=window.document.createTextNode(Kh[0]);jt.appendChild(mG);dI.appendChild(jt);for(var bF=1;bF<Kh.length;bF++){akv=jt.firstChild.data.length;Bs=Kh[bF];jt.firstChild.data+=Kh[bF];xV+=Bs;abH=xV.length*(G.dH*aeq);Su=jt.getComputedTextLength();if(Su===0){TO=abH;}else{TO=Su;}if(TO>=(C.width-G.co-2)){adV++;xV='';Bc=jt.firstChild.data.match(aEa);if(Bc){Bs=Bc[2];}if(Bc&&Bc[1].length>0){jt.firstChild.data=Bc[1];xV+=Bs;}else{jt.firstChild.data=jt.firstChild.data.slice(0,akv);xV+=Bs;}if(xV.length>=1){wj.push({aq:ww,aaB:jt});jt=this.cD('tspan');jt.setAttributeNS(null,"x",Hv);jt.setAttributeNS(null,"dy",aat);mG=window.document.createTextNode(Bs);jt.appendChild(mG);dI.appendChild(jt);}}}if(jt.firstChild.data.length>0){wj.push({aq:ww,aaB:jt});}ww+=jt.firstChild.data.length+1;WV=0;}else{WV++;}}return wj;},aAe:function(kw,abf,iV,ww){if(kw.length>0){var akf=abf.getNumberOfChars();if(kw[0].aq>ww+akf){return;}for(var H=Math.max(kw[0].aq-ww,0);H<akf;H++){var C=abf.getExtentOfChar(H);var bo=this.cD('rect');this.ca(bo,{x:C.x,y:C.y,width:C.width,height:C.height,fill:kw[0].DW});iV.appendChild(bo);if(kw[0].dn===H+ww){kw.shift();if(kw.length===0){return;}H=kw[0].aq-ww-1;}}}},Bu:function(dj,tc,sX){var gP='M',H;for(H=0;H<tc.length;H++){if(H>0){gP+=' L';}gP+=tc[H].x+','+tc[H].y;}if(sX){gP+='Z';}this.ca(dj,{d:gP});},Zr:function(dj,tc,sX){var NY='',H;for(H=0;H<tc.length;H++){if(H>0){NY+=' ';}NY+=tc[H].x+','+tc[H].y;}if(sX&&tc.length>2){NY+=' '+tc[0].x+','+tc[0].y;}this.ca(dj,{points:NY});},aaQ:function(hE,lB,xt,rJ,yU,ZU,Fp){var dg=this.asE(hE,lB,xt,rJ,yU);var fq='';fq+='stroke:'+ZU+';';switch(yU){case IPCC.Web.UI.LineHeadType.None:fq='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.Bu(Fp,[dg.BS,hE,dg.AW],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.Bu(Fp,[dg.BS,hE,dg.AW],true);fq+='fill:'+ZU+';';break;case IPCC.Web.UI.LineHeadType.Open:this.Bu(Fp,[dg.BS,hE,dg.AW],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.Bu(Fp,[dg.BS,hE,dg.AW,dg.Hz],true);fq+='fill:'+ZU+';';break;}this.ca(Fp,{style:fq});return dg;},aqP:function(F){var G=F.G;var ai,hJ,H,aaa,aeE,hB='',DY;ai=G.get_points();hJ=[];for(H=0;H<ai.get_length();H++){hJ.push(ai.getPoint(H));}if(hJ.length<2||G.sX){this.ca(F.Za,{style:'display:none;'});this.ca(F.Sg,{style:'display:none;'});}else{G.zc=G.kH;DY=this.agW(hJ,true);aaa=this.aaQ(DY.hE,DY.lB,G.IV,G.Kv,G.JH,G.zc,F.Za);DY=this.agW(hJ,false);aeE=this.aaQ(DY.hE,DY.lB,G.GU,G.Ic,G.mU,G.zc,F.Sg);hJ[0]=aaa.Hz;hJ[hJ.length-1]=aeE.Hz;}this.Zr(F.sZ,hJ,G.sX);var yR=this.WY(G.hB);if(yR!==''){hB+='stroke-dasharray:'+yR+';';}this.ca(F.sZ,{style:hB});},adz:function(F){var EH=this.asY(F);this.Zr(F.If,EH.aho,false);var agj='',hB='fill:none;',rF='fill:none;';if(EH.YJ){agj='stroke:none;';}if(EH.TQ){this.Bu(F.sZ,EH.TQ,false);}else{hB+='display:none;';}if(EH.Mh){this.Bu(F.Uz,EH.Mh,false);}else{rF+='display:none;';}var G=F.G;if(G.yL){rF+='stroke:'+G.Ba+';stroke-width:'+G.Ey+';';var yR=this.WY(G.rF);if(yR!==''){rF+='stroke-dasharray:'+yR+';';}}this.ca(F.sZ,{style:hB});this.ca(F.Uz,{style:rF});this.ca(F.If,{style:agj});},VS:function(F){var G=F.G,DK;if(!G){return;}var C=G.di();var Bz=G.dH*this.Gu/72;G.Bz=Bz;var qN=C.width,qk=C.height,JY=false,fJ;var gp,eh=0,eC=0;var ty=1;if(G.iL){ty+=G.co/2;}switch(G.yD){case IPCC.Web.UI.Orientation.TopLeft:gp='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gp='-1,0,0,1';eh=qN-ty;break;case IPCC.Web.UI.Orientation.BottomRight:gp='-1,0,0,-1';eh=qN-ty;eC=qk-ty;break;case IPCC.Web.UI.Orientation.BottomLeft:gp='1,0,0,-1';eC=qk-ty;break;case IPCC.Web.UI.Orientation.LeftTop:gp='0,1,1,0';JY=true;break;case IPCC.Web.UI.Orientation.RightTop:gp='0,1,-1,0';eh=qN-ty;JY=true;break;case IPCC.Web.UI.Orientation.RightBottom:gp='0,-1,-1,0';eh=qN-ty;eC=qk-ty;JY=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gp='0,-1,1,0';eC=qk-ty;JY=true;break;}if(G.cN==="#c0c0c0"){G.cN='#ffffff';}if(G.get_type()===IPCC.Web.UI.MarkType.Text){if(G.hW()===true){G.cN='#ffffff';}else{G.set_opacity(G.cA);}}if(JY){fJ=qN;qN=qk;qk=fJ;}if(qN<0){qN=0;}if(qk<0){qk=0;}var Ty='normal';var dF='normal';var mD='';var sx;mD+='word-wrap:break-word;background-color:transparent;line-height:1;';var xD=0;if(G.oR.length===7&&G.oR.charAt(0)==='#'){xD=parseInt(G.oR.slice(1),16);}var cA=Math.min(1,Math.max(0,G.yQ/255));if(document.documentMode>8){dF='normal';if(G.dF&IPCC.Web.UI.FontStyle.Italic){dF='italic';}Ty='normal';if(G.dF&IPCC.Web.UI.FontStyle.Bold){Ty='bold';}sx='none';if((G.dF&IPCC.Web.UI.FontStyle.Underline)&&(G.dF&IPCC.Web.UI.FontStyle.Strikeout)){sx='underline line-through';}else if(G.dF&IPCC.Web.UI.FontStyle.Underline){sx='underline';}else if(G.dF&IPCC.Web.UI.FontStyle.Strikeout){sx='line-through';}}else{mD+='color:rgba('+(xD>>16)+','+((xD>>8)&255)+','+(xD&255)+','+cA+');';mD+='font-family:'+G.hq+';';mD+='font-size:'+Bz+'px;';if(G.dF&IPCC.Web.UI.FontStyle.Italic){mD+='font-style:italic;';}if(G.dF&IPCC.Web.UI.FontStyle.Bold){mD+='font-weight:bold;';}if((G.dF&IPCC.Web.UI.FontStyle.Underline)&&(G.dF&IPCC.Web.UI.FontStyle.Strikeout)){mD+='text-decoration:underline line-through;';}else if(G.dF&IPCC.Web.UI.FontStyle.Underline){mD+='text-decoration:underline;';}else if(G.dF&IPCC.Web.UI.FontStyle.Strikeout){mD+='text-decoration:line-through;';}}var Cd={x:2,anchor:'start'};switch(G.jo){case IPCC.Web.UI.HorizontalAlignment.Left:mD+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:mD+='text-align:center;';Cd.x=(C.width/2)-3;Cd.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:mD+='text-align:right;';Cd.x=C.width-8;Cd.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'){switch(G.wu){case IPCC.Web.UI.VerticalAlignment.Center:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.ca(F.Op,{style:'display:table; width: 100%;'});mD+='display: table-cell; white-space: normal; vertical-align: middle; height:'+qk+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.ca(F.nm,{style:mD+'padding:2px;'});this.ca(F.gU,{transform:'matrix('+gp+','+(eh+C.x+(G.co/2))+','+(eC+C.y+(G.co/2))+')',});this.ca(F.Au,{x:0,y:0,width:qN>G.co?qN-G.co:qN,height:qk>G.co?qk-G.co:qk,});this.apx(F);}else{var wj=this.apK(F,G.jo);var akD=wj.length;switch(G.wu){case IPCC.Web.UI.VerticalAlignment.Center:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){DK=(C.height/2)+(G.dH/4);if(akD>1){DK-=(akD-1)*(G.dH/2);}if(DK<0){DK=G.dH;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.ca(F.CY,{x:0,y:0,width:C.width-G.co,height:C.height-G.co});var amx="url(#"+F.HD+")";var SR={x:Cd.x,y:(this.Gu/72)*G.dH,width:C.width-G.co,height:C.height-G.co,'font-family':G.hq,'font-size':Bz,fill:'rgba('+(xD>>16)+', '+((xD>>8)&255)+', '+(xD&255)+', '+cA+')','font-weight':Ty,'font-style':dF,'text-decoration':sx,'text-anchor':Cd.anchor};if(typeof DK!=='undefined'){delete SR.y;SR.dy=DK;}this.ca(F.dI,SR);F.dI.style.opacity=cA;this.ca(F.gU,{transform:'matrix('+gp+','+(eh+C.x+(G.co/2))+','+(eC+C.y+(G.co/2))+')','clip-path':amx});var iV=F.ajG;while(iV&&iV.firstChild){iV.removeChild(iV.firstChild);}if(G.fF){var kw=this.adq(G.fF);for(var H=0;H<wj.length;H++){this.aAe(kw,wj[H].aaB,iV,wj[H].aq);}}}},Vl:function(F){var G=F.G;if(G.cL===null||G.cL===undefined){return;}if(G.cL.length===0&&G.dA>0&&this.J.dC().nA()){G.cL=IPCC.V.UF(this.J.dC().gm(),G.aq,G.aq+G.dA-1);}if(!F.aq|| !F.dA||F.aq!==G.aq||F.dA!==G.dA||G.cd===false||G.cd===true){while(F.kl.firstChild){F.kl.removeChild(F.kl.firstChild);}if(F.kJ){while(F.kJ.firstChild){F.kJ.removeChild(F.kJ.firstChild);}}if(F.vy){while(F.vy.firstChild){F.vy.removeChild(F.vy.firstChild);}}if(G.cd===false){return;}IPCC.V.forEach(F.G.cL,function(gv){var VX=this.cD('rect');F.kl.appendChild(VX);this.ca(VX,{x:gv.x,y:gv.y,width:gv.width,height:gv.height});if(F.kJ){var tn=this.cD('line');this.ca(tn,{x1:gv.x,y1:gv.y+gv.height-1,x2:gv.x+gv.width,y2:gv.y+gv.height-1,"stroke-width":2});F.kJ.appendChild(tn);}if(F.vy){VX.setAttribute('fill','transparent');var aaV=this.cD('line');var strikethroughY=gv.y+(gv.height/2);this.ca(aaV,{x1:gv.x,y1:strikethroughY,x2:gv.x+gv.width,y2:strikethroughY,stroke:F.G.kH,"stroke-width":F.G.co});F.vy.appendChild(aaV);}},this);F.aq=G.aq;F.dA=G.dA;}},abE:function(F){var G=F.G;if(!G){return;}var bi=F.bi;var C,fq='',ai,iL=true,oS,vI,vu,SS,ut,Bp;var kD=false;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:kD=true;this.aqP(F);break;case IPCC.Web.UI.MarkType.Rectangle:C=G.get_rectangle();this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Vl(F);F.kl.style.fill=G.cN;F.kl.style.opacity=(G.cA/255);this.KC(F);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Vl(F);F.kl.style.fill=G.cN;F.kJ.style.stroke=G.cN;if(F.G.get_selected()){F.kJ.style.opacity=IPCC.dJ.cG.Fu(false,F.G.get_selected());}else{F.kJ.style.opacity=IPCC.dJ.cG.Fu(false,F.G.get_selected());}this.KC(F);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:C=G.get_rectangle();this.ca(F.C,{x:C.x,y:C.y,width:C.width,height:C.height});if(F.tn){this.ca(F.tn,{x1:C.x,y1:C.y+C.height,x2:C.x+C.width,y2:C.y+C.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof F.fG!=='undefined'){if(this.J.lU()===true){F.fG.style.opacity=0.5;if(typeof F.nm!=='undefined'){F.nm.style.opacity=0;}else{F.dI.style.opacity=0;}}else{F.fG.style.opacity=1;if(typeof F.nm!=='undefined'){F.nm.style.opacity=1;}}}C=G.get_rectangle();this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});this.ca(F.fG,{x:C.x,y:C.y,width:C.width,height:C.height});if(this.J.lU()===false){this.VS(F);}break;case IPCC.Web.UI.MarkType.Ellipse:C=G.get_rectangle();this.ca(bi,{cx:C.x+C.width/2,cy:C.y+C.height/2,rx:C.width/2,ry:C.height/2});break;case IPCC.Web.UI.MarkType.Polygon:ai=this.Xq(G);this.Zr(bi,ai,false);fq+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.adz(F);this.VS(F);if(typeof document.documentMode==='undefined'){F.qq.style.cursor=IPCC.bz.fk(this.bG.Jy());}break;case IPCC.Web.UI.MarkType.TextAreaSignature:var cU=IPCC.V.ais();var qR=IPCC.V.aiT();qR.nodeValue=G.get_text();var iu=G.iu;var al=this.J.lC().jj();C=G.get_rectangle();cU.style.width=(C.width-G.co/2)+'px';cU.style.height=(C.height-G.co/2)+'px';cU.style.fontFamily=G.hq;cU.style.padding='2px';cU.style.fontStyle=G.dF;G.dH=IPCC.V.Ub(cU,iu,al)*72/this.Gu;this.adz(F);this.VS(F);if(typeof document.documentMode==='undefined'){F.qq.style.cursor=IPCC.bz.fk(this.bG.Jy());}break;case IPCC.Web.UI.MarkType.Stamp:C=G.get_rectangle();this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});this.ca(F.ue,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.ue.style.opacity=1;this.ca(F.fG,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':G.cN,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(C.width/6);if(textFontSize>C.height){textFontSize=(C.height-(C.height/6));}oS=F.G.get_text();if(!oS){oS='APPROVED';}F.dI.childNodes[0].data=oS;var sp=oS.length*textFontSize;if(sp>C.width){textFontSize=((C.width/oS.length));}Bp=Math.round(textFontSize);G.stampSize=Bp.toString();this.ca(F.dI,{x:C.x+(C.width/2),y:C.y+(C.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':G.cN,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:C=G.get_rectangle();this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});this.ca(F.ue,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.ue.style.opacity=1;this.ca(F.fG,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':G.cN,'stroke-width':'0','fill':'none'});F.vP.setAttribute('height',C.height);F.vP.setAttribute('width',C.width);F.vP.setAttribute('x',C.x);F.vP.setAttribute('y',C.y);F.vP.setAttributeNS('http://www.w3.org/1999/xlink','href',G.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.KC(F);break;case IPCC.Web.UI.MarkType.Highlight:C=G.get_rectangle();if(C.x===0&&C.y===0){var gR=this.J.dC().gm();if(gR.dV()>0){var eo=gR.kk(G.aq);C=eo.bO;}G.kI='y';}this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:C=G.get_rectangle();this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});var Nd=F.avv;if(G.ahd===true){G.ahd=false;Nd.setAttribute("d",G.get_pathString());var DC=G.get_pathWidth();var EE=G.get_pathHeight();bi.setAttribute('viewBox','0 0 '+DC+' '+EE);F.ade.setAttribute('width',DC);F.ade.setAttribute('height',EE);}if(G.get_visible()){F.bi.style.display='block';}else{F.bi.style.display='none';}this.acq(F.bi,G.jo);Nd.style.stroke=G.get_lineColor();Nd.style.strokeWidth=G.get_lineWidth()+'px';Nd.style.opacity=G.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:C=G.get_rectangle();this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});this.ca(F.fG,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.fG.style.opacity=1;var ati=F.G.get_text()||"";F.dI.childNodes[0].data=ati;vI=12*C.width/(G.yh||1);vu=12*C.height/(G.AA||1);ut=Math.min(vI,vu);var aoY=Math.floor(ut);G.stampSize=aoY.toString();switch(G.jo){case IPCC.Web.UI.HorizontalAlignment.Left:F.dI.setAttribute('text-anchor','start');F.dI.setAttribute('x',C.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:F.dI.setAttribute('text-anchor','end');F.dI.setAttribute("x",C.x+C.width);break;default:F.dI.setAttribute('text-anchor','middle');F.dI.setAttribute("x",C.x+(C.width/2));break;}this.ca(F.dI,{y:C.y+(C.height/2+(ut/3)),'font-size':ut,'stroke':"none",'fill':G.get_fillColor(),'font-family':G.get_fontName()});if(G.get_visible()){F.bi.style.display='block';}else{F.bi.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.ca(bi,{style:'fill:none;opacity:1;'+G.cd?'display:block;':'display:none;'});C=G.get_rectangle();this.ca(bi,{x:C.x,y:C.y,width:C.width,height:C.height});fq='stroke:'+(G.iL?'black':'none')+';stroke-width:1;';this.ca(F.fG,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':G.iL?'black':'none','fill':'rgba(255, 255, 255, 0)','style':fq});F.dI.style.opacity=1;oS=F.G.get_text()||"";F.dI.childNodes[0].data=oS;SS=IPCC.V.ajz(oS,G.get_fontName(),C.width,C.height,{tX:"pre",fv:F.bi});ut=SS.fontSize;G.Bz=ut;G.stampSize=ut;G.JI=true;G.oT=SS;switch(G.jo){case IPCC.Web.UI.HorizontalAlignment.Center:F.dI.setAttribute('text-anchor','middle');F.dI.setAttribute("x",C.x+(C.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:F.dI.setAttribute('text-anchor','end');F.dI.setAttribute("x",C.x+C.width);break;default:F.dI.setAttribute('text-anchor','start');F.dI.setAttribute('x',C.x);break;}this.ca(F.dI,{y:C.y+(C.height/2+(ut/3)),'font-size':ut,'stroke':"none",'fill':G.get_textColor(),'font-family':G.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Vl(F);this.KC(F);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',G.get_type());}if(G.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&G.get_type()!==IPCC.Web.UI.MarkType.Freehand&&G.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&G.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&G.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&G.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&G.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&G.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(kD){fq+='fill:none;';}else{if(G.pI){fq+='fill:'+G.cN+';';}else{fq+='fill:none;';}iL=G.iL;var yR=this.WY(G.hB);if(yR!==''){fq+='stroke-dasharray:'+yR+';';}}if(iL){fq+='stroke:'+G.get_lineColor()+';';fq+='stroke-width:'+G.co+';';}else{fq+='stroke:none;';}if(G.get_type()===IPCC.Web.UI.MarkType.SignatureText){fq+='opacity:'+1+';';}else{fq+='opacity:'+(G.cA/255)+';';}if(!G.cd){fq+='display:none;';if(F.gU){F.gU.style.display='none';}}else{if(F.gU){F.gU.style.display='block';}}fq+='cursor:'+IPCC.bz.fk(this.bG.Jy())+';';this.ca(bi,{style:fq});}if(G.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!G.cd){fq+='display:none;';}else{fq+='display:block;';}fq+='cursor:'+IPCC.bz.fk(this.bG.Jy())+';';this.ca(bi,{style:fq});}},acq:function(bi,FX){switch(FX){case IPCC.Web.UI.HorizontalAlignment.Left:bi.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:bi.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:bi.setAttribute('preserveAspectRatio','xMaxYMid');break;}},KC:function(F){var G=F.G,aBf=G.get_visible();var C=G.get_rectangle();if(C.x===0&&C.y===0){return;}var iV=F.iV;while(iV.firstChild){iV.removeChild(iV.firstChild);}var hM;for(var H=0;H<G.fF.length;H++){for(var bF=0;bF<G.fF[H].length;bF++){var abm=this.J.dC().gm();if(abm.dV()>0){var aol=abm.kk(G.fF[H].startIndex+bF);hM=aol.bO;}var bo=this.cD('rect');this.ca(bo,{x:hM.x,y:hM.y,width:hM.width,height:hM.height,fill:G.fF[H].color,display:(aBf)?'block':'none'});bo.style.opacity=(G.fF[H].opacity)?(G.fF[H].opacity)/255.0:0.5;iV.appendChild(bo);}}},WY:function(hB){switch(hB){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Ng:function(F){if(F.bi){this.ba.Ep.removeChild(F.bi);}if(F.gU){this.ba.Ep.removeChild(F.gU);}delete F.bi;},aDT:function(){},apz:function(){this.ba=undefined;},cD:function(bv){return document.createElementNS('http://www.w3.org/2000/svg',bv);},ca:function(bi,bD){var H;for(H in bD){if(bD.hasOwnProperty(H)){var attr=bD[H];bi.setAttribute(H,attr!==undefined&&attr!==null?attr.toString():'');}}}};IPCC.dJ.yu={JK:function(){var ud=IPCC.dJ.yu;if(ud.wT===null){
/*@cc_on@if(@_jscript)ud.wT=document.documentMode>8;@else@*/ ud.wT=true;/*@end@*/}return ud.wT;},wT:null};IPCC.dJ.cG=IPCC.dJ.abU;IPCC.dJ.cG.Fu=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};IPCC.dJ.cG.afR=function(){return 39/255;};IPCC.dJ.cG.aGJ=function(isSelected){return isSelected?"purple":"blue";};IPCC.dJ.cG.prototype.asE=function(hE,lB,xt,rJ,yU){var dg={hE:hE,lB:lB,xt:xt,rJ:rJ,yU:yU};if(hE.x===lB.x&&hE.y===lB.y){dg.yU=IPCC.Web.UI.LineHeadType.None;}var JX=Math.atan2(hE.x-lB.x,-(hE.y-lB.y))+Math.PI/2;xt*=Math.PI/180;var jC=JX+xt;dg.BS={x:hE.x+Math.cos(jC)*rJ,y:hE.y+Math.sin(jC)*rJ};jC=JX-xt;dg.AW={x:hE.x+Math.cos(jC)*rJ,y:hE.y+Math.sin(jC)*rJ};switch(dg.yU){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:dg.Hz={x:(dg.BS.x+dg.AW.x)/2,y:(dg.BS.y+dg.AW.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:dg.Hz={x:hE.x+Math.cos(JX)*rJ/2,y:hE.y+Math.sin(JX)*rJ/2};break;default:dg.Hz=hE;break;}return dg;};IPCC.dJ.cG.prototype.asY=function(F){var G=F.G;var C=G.get_rectangle();var DO={x:G.lP.x+C.x+0.00001,y:G.lP.y+C.y+0.00001};var aV={};var fR=[{x:C.x,y:C.y},{x:C.x+C.width,y:C.y},{x:C.x+C.width,y:C.y+C.height},{x:C.x,y:C.y+C.height}];if(!G.yZ){aV.aho=fR;aV.YJ= !G.iL;return aV;}var H,afG=[];for(H=0;H<4;H++){afG.push({x:(fR[H].x+fR[(H+3)%4].x)/2,y:(fR[H].y+fR[(H+3)%4].y)/2,atZ:true});}for(H=3;H>=0;H--){fR.splice(H,0,afG[H]);}function agE(KB){var wH,aav;wH=(DO.x-(fR[KB].x+fR[(KB+1)%8].x)/2)*C.height;aav=wH*wH;wH=(DO.y-(fR[KB].y+fR[(KB+1)%8].y)/2)*C.width;return aav+wH*wH;};var Sk=0,ajX=agE(0),gD;for(H=1;H<8;H++){gD=agE(H);if(gD<ajX){ajX=gD;Sk=H;}}fR=fR.slice(Sk+1).concat(fR.slice(0,Sk+1));var Cn=fR[0],BH=fR[7];for(H=fR.length-1;H>=0;H--){if(fR[H].atZ){fR.splice(H,1);}}switch(G.Ek){case IPCC.Web.UI.CalloutType.Triangle:fR.splice(0,0,{x:(Cn.x*3+BH.x)/4,y:(Cn.y*3+BH.y)/4});fR.push({x:(Cn.x+BH.x*3)/4,y:(Cn.y+BH.y*3)/4});if(G.yL){aV.YJ=true;aV.TQ=[].concat(fR);aV.Mh=[fR[0],DO,fR[fR.length-1]];}fR.push(DO);break;default:case IPCC.Web.UI.CalloutType.Line:aV.Mh=[{x:(Cn.x+BH.x)/2,y:(Cn.y+BH.y)/2},DO];break;}aV.aho=fR;if(!G.iL){aV.YJ=true;delete aV.TQ;delete aV.Mh;}return aV;};IPCC.dJ.cG.prototype.Xq=function(G){var ai=G.get_points();var hJ=[],H;for(H=0;H<ai.get_length();H++){hJ.push(ai.getPoint(H));}return hJ;};IPCC.dJ.cG.prototype.agW=function(hJ,azd){var bV=0,Ml=1,acz=hJ.length-2,hE,lB;if(!azd){bV=hJ.length-1;Ml= -1;}hE=hJ[bV];bV+=Ml;lB=hJ[bV];bV+=Ml;while(hE.x===lB.x&&hE.y===lB.y&&acz>0){lB=hJ[bV];bV+=Ml;acz--;}return{hE:hE,lB:lB};};IPCC.dJ.cG.prototype.acc=function(J,ba,bn,kr){if(IPCC.V.Xz){return;}if(!ba.lD){ba.lD=[];}var lD=ba.lD;if(bn.length<1&&lD.length<1){if(ba.Ay.firstChild){ba.Ay.innerHTML='';}return;}var aH=J.eP();var eD=aH.xp();if(this.gs===undefined){this.gs=40;var xy=document.createElement("div");xy.className='pccMarkHandleTopLeft';xy.visibility='hidden';document.body.appendChild(xy);if(xy.currentStyle){this.gs=parseInt(xy.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aCp=document.defaultView.getComputedStyle(xy);this.gs=parseInt(aCp.width,10)||0;}document.body.removeChild(xy);}var H,FS=[];for(H=0;H<bn.length;H++){if(bn[H].get_visible()===true){if(eD.Gb(bn[H])>=0||(bn[H].get_selected()===true&&(bn[H].kh===true||bn[H].lj===true))||bn[H].yX===true){FS.push(bn[H]);}}}for(H=0;H<lD.length;H++){while(H<lD.length&&(H>=FS.length||lD[H].G!==FS[H])){ba.Ay.removeChild(lD[H].ga);lD.splice(H,1);}if(H<lD.length){this.aaP(lD[H],kr);}}for(H=lD.length;H<FS.length;H++){lD[H]={G:FS[H]};this.apH(ba.Ay,lD[H]);this.aaP(lD[H],kr);}};IPCC.dJ.cG.prototype.tp=function(ga,ate,Cc,vl,asS,ab,dw){var cO=[],H,ak;if(dw===undefined){dw='handle';}for(H=0;H<ate;H++){ak={bi:document.createElement('div')};ak.bi.ImGearMarkHandle=ak;ak.ab=ab;ak.bv=vl;ak.bV=asS+H;ga.appendChild(ak.bi);ak.bi.setAttribute('data-pcc-mark',dw+'-'+ga.ImGearMarkRelation.G.mN());cO.push(ak);}return cO;};IPCC.dJ.cG.prototype.arp=function(cJ){if(cJ.cO===undefined){return;}var H;for(H=0;H<cJ.cO.length;H++){var ak=cJ.cO[H];ak.bi.style.cursor=IPCC.bz.fk(ak.ab);}};IPCC.dJ.cG.prototype.apH=function(Ay,cJ){cJ.ga=document.createElement('div');cJ.ga.style.width='0px';cJ.ga.style.height='0px';cJ.ga.style.left='0px';cJ.ga.style.top='0px';cJ.ga.style.zIndex='1';var H,G=cJ.G,ak;cJ.ga.ImGearMarkRelation=cJ;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cJ.cO=this.tp(cJ.ga,2,this.gs,this.GM,0,IPCC.bz.Move);cJ.cO=cJ.cO.concat(this.tp(cJ.ga,2,this.gs,this.Fd,0,IPCC.bz.Move));break;case IPCC.Web.UI.MarkType.Polygon:cJ.cO=[];break;case IPCC.Web.UI.MarkType.Freehand:cJ.cO=[];cJ.jq=document.createElement('div');cJ.jq.style.border='1px solid gray';cJ.jq.style.position='absolute';cJ.ga.appendChild(cJ.jq);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.aa!==undefined){break;}cJ.jq=document.createElement('div');cJ.jq.style.border='1px solid gray';cJ.jq.style.position='absolute';cJ.ga.appendChild(cJ.jq);cJ.cO=this.tp(cJ.ga,4,this.gs,this.QN,0,-1);cJ.cO=cJ.cO.concat(this.tp(cJ.ga,4,this.gs,this.RY,0,-1));for(H=4;H<8;H++){ak=cJ.cO[H];ak.atq=cJ.cO[H-4];ak.arS=cJ.cO[(H+1)%4];}if(G.get_type()===IPCC.Web.UI.MarkType.Text){cJ.cO=cJ.cO.concat(this.tp(cJ.ga,1,this.gs,this.Vp,0,IPCC.bz.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cJ.cO=this.tp(cJ.ga,1,this.gs,this.GM,0,IPCC.bz.Move,'texthandlestart');cJ.cO=cJ.cO.concat(this.tp(cJ.ga,1,this.gs,this.GM,1,IPCC.bz.Move,'texthandleend'));break;}if(G.hT()===IPCC.Web.UI.MarkType.Text||G.hT()===IPCC.Web.UI.MarkType.TextLine||G.hT()===IPCC.Web.UI.MarkType.TextAreaSignature){var ps=document.createElement('div');ps.className='pccEditMarkButton';ps.setAttribute('data-pcc-mark','edit-'+G.mN());ps.onclick=function(aT){aT=aT||{};aT.stopPropagation?aT.stopPropagation():aT.cancelBubble=true;aT.preventDefault?aT.preventDefault():aT.returnValue=false;var qv;var uR=cJ.ga;while(uR&&(uR.parentNode||uR.ownerSVGElement)){if(uR.parentNode.id&&uR.parentNode.id.indexOf("__pViewId")!== -1){qv=uR.parentNode;}uR=uR.ownerSVGElement||uR.parentNode;}qv&&qv.az.ayJ(aT,G);};cJ.ga.appendChild(ps);var anO={bi:ps};cJ.cO.push(anO);}Ay.appendChild(cJ.ga);};IPCC.dJ.cG.lu={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};IPCC.dJ.cG.prototype.QN=0;IPCC.dJ.cG.prototype.RY=1;IPCC.dJ.cG.prototype.Fd=2;IPCC.dJ.cG.prototype.GM=3;IPCC.dJ.cG.prototype.Vp=4;IPCC.dJ.cG.prototype.adr=function(ak,aBZ){switch(aBZ){case IPCC.dJ.cG.lu.TopLeft:ak.bi.className='pccMarkHandleTopLeft';break;case IPCC.dJ.cG.lu.TopCenter:ak.bi.className='pccMarkHandleTopCenter';break;case IPCC.dJ.cG.lu.TopRight:ak.bi.className='pccMarkHandleTopRight';break;case IPCC.dJ.cG.lu.MidLeft:ak.bi.className='pccMarkHandleMidLeft';break;case IPCC.dJ.cG.lu.MidRight:ak.bi.className='pccMarkHandleMidRight';break;case IPCC.dJ.cG.lu.BottomLeft:ak.bi.className='pccMarkHandleBottomLeft';break;case IPCC.dJ.cG.lu.BottomCenter:ak.bi.className='pccMarkHandleBottomCenter';break;case IPCC.dJ.cG.lu.BottomRight:ak.bi.className='pccMarkHandleBottomRight';break;case IPCC.dJ.cG.lu.Point:ak.bi.className='pccMarkHandlePoint';break;case IPCC.dJ.cG.lu.TextSelectionStart:ak.bi.className='pccMarkHandleTextSelectionStart';break;case IPCC.dJ.cG.lu.TextSelectionEnd:ak.bi.className='pccMarkHandleTextSelectionEnd';break;default:ak.bi.className='pccMarkHandlePoint';break;}};IPCC.dJ.cG.prototype.zs=function(ak,axn,kr,Cc,mL){ak.bJ=kr.transform(axn);ak.bi.style.left=(ak.bJ.x-Cc/2)+'px';ak.bi.style.top=(ak.bJ.y-Cc/2)+'px';ak.bi.style.display='block';ak.bi.style.zIndex='1';this.adr(ak,mL);};IPCC.dJ.cG.prototype.adN=function(ak,Cc,mL){ak.bi.style.left=(ak.bJ.x-Cc/2)+'px';ak.bi.style.top=(ak.bJ.y-Cc/2)+'px';ak.bi.style.display='block';ak.bi.style.zIndex='1';this.adr(ak,mL);};IPCC.dJ.cG.prototype.tg=function(ak){ak.bi.style.display='none';};IPCC.dJ.cG.prototype.aaP=function(cJ,kr){cJ.ga.style.cursor=IPCC.bz.fk(this.bG.Jy());var H,G=cJ.G,cO=cJ.cO,ak;var hJ,C,pq,jM,vl,dW;var gD,Ec,eh,eC,JN;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:hJ=this.Xq(G);Ec=hJ.length+2-cO.length;if(Ec>0){cJ.cO=cJ.cO.concat(this.tp(cJ.ga,Ec,this.gs,this.Fd,cO.length-2,IPCC.bz.Move));cO=cJ.cO;}for(H=0;H<hJ.length;H++){this.zs(cO[H+2],hJ[H],kr,this.gs,IPCC.dJ.cG.lu.Point);}for(H=hJ.length+2;H<cO.length;H++){this.tg(cO[H+2]);}break;case IPCC.Web.UI.MarkType.Polygon:hJ=this.Xq(G);Ec=hJ.length-cO.length;if(Ec>0){cJ.cO=cJ.cO.concat(this.tp(cJ.ga,Ec,this.gs,this.Fd,cO.length,IPCC.bz.Move));cO=cJ.cO;}for(H=0;H<hJ.length;H++){this.zs(cO[H],hJ[H],kr,this.gs,IPCC.dJ.cG.lu.Point);}for(H=hJ.length;H<cO.length;H++){this.tg(cO[H]);}break;case IPCC.Web.UI.MarkType.Freehand:C=G.di();pq=kr.transform({x:C.x,y:C.y});jM=kr.transform({x:C.x+C.width,y:C.y+C.height});dW={x:Math.min(pq.x,jM.x),y:Math.min(pq.y,jM.y)};dW.width=Math.max(pq.x,jM.x)-dW.x;dW.height=Math.max(pq.y,jM.y)-dW.y;cJ.jq.style.left=dW.x+'px';cJ.jq.style.top=dW.y+'px';cJ.jq.style.width=dW.width+'px';cJ.jq.style.height=dW.height+'px';cJ.jq.setAttribute('data-pcc-mark','outline-'+G.mN());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.aa!==undefined){break;}C=G.di();cO[0].bJ=kr.transform({x:C.x,y:C.y});cO[1].bJ=kr.transform({x:C.x+C.width,y:C.y});cO[2].bJ=kr.transform({x:C.x+C.width,y:C.y+C.height});cO[3].bJ=kr.transform({x:C.x,y:C.y+C.height});dW={x:Math.min(cO[0].bJ.x,cO[2].bJ.x),y:Math.min(cO[0].bJ.y,cO[2].bJ.y)};dW.width=Math.max(cO[0].bJ.x,cO[2].bJ.x)-dW.x;dW.height=Math.max(cO[0].bJ.y,cO[2].bJ.y)-dW.y;JN={x:dW.x+dW.width/2,y:dW.y+dW.height/2};for(H=0;H<4;H++){ak=cO[H];vl=(ak.bJ.x<JN.x)?((ak.bJ.y<JN.y)?0:2):((ak.bJ.y<JN.y)?1:3);this.adN(ak,this.gs,vl);switch(vl){case 0:ak.ab=IPCC.bz.ResizeNW;break;case 1:ak.ab=IPCC.bz.ResizeNE;break;case 2:ak.ab=IPCC.bz.ResizeSW;break;case 3:ak.ab=IPCC.bz.ResizeSE;break;}}cJ.jq.style.left=dW.x+'px';cJ.jq.style.top=dW.y+'px';cJ.jq.style.width=dW.width+'px';cJ.jq.style.height=dW.height+'px';cJ.jq.setAttribute('data-pcc-mark','outline-'+G.mN());var ayj=dW.x+dW.width/4;var ash=dW.x+dW.width*3/4;var ayN=dW.y+dW.height/4;var apF=dW.y+dW.height*3/4;if(this.bG.zR()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){pq=cO[0].bJ;jM=cO[1].bJ;var axM=cO[2].bJ;eh=pq.x-jM.x;eC=jM.y-axM.y;var amt=eh*eh;var aoZ=eC*eC;if(Math.min(amt,aoZ)<this.gs*this.gs*5){this.tg(cO[0]);this.tg(cO[1]);this.tg(cO[2]);this.tg(cO[3]);}}for(H=4;H<8;H++){ak=cO[H];pq=ak.atq.bJ;jM=ak.arS.bJ;eh=pq.x-jM.x;eC=pq.y-jM.y;gD=eh*eh+eC*eC;if(this.bG.zR()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gD<this.gs*this.gs*5){this.tg(ak);}else{ak.bJ={x:(pq.x+jM.x)/2,y:(pq.y+jM.y)/2};this.adN(ak,this.gs,H);if(ak.bJ.x<ayj){ak.ab=IPCC.bz.ResizeW;}else if(ak.bJ.x>ash){ak.ab=IPCC.bz.ResizeE;}else if(ak.bJ.y<ayN){ak.ab=IPCC.bz.ResizeN;}else if(ak.bJ.y>apF){ak.ab=IPCC.bz.ResizeS;}}}if(G.get_type()===IPCC.Web.UI.MarkType.Text){if(G.yZ){this.zs(cO[8],{x:C.x+G.lP.x,y:C.y+G.lP.y},kr,this.gs,IPCC.dJ.cG.lu.Callout);}else{this.tg(cO[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:var eo,hM,yv;var GS=this.J.dC();var gR=GS.gm();if(G.kh===true){yv=G.aq;if(yv>=gR.dV()){eo=gR.kk(gR.dV()-1);hM=eo.uZ();this.zs(cO[0],new IPCC.Web.UI.Point(hM.x+hM.width,hM.y),kr,this.gs,IPCC.dJ.cG.lu.TextSelectionStart);break;}eo=gR.kk(G.aq);hM=eo.uZ();this.zs(cO[0],new IPCC.Web.UI.Point(hM.x,hM.y),kr,this.gs,IPCC.dJ.cG.lu.TextSelectionStart);}else{this.tg(cO[0]);}if(G.lj===true){yv=G.aq+G.dA-1;if(yv<0){eo=gR.kk(0);hM=eo.uZ();this.zs(cO[1],new IPCC.Web.UI.Point(hM.x,hM.y+hM.height),kr,this.gs,IPCC.dJ.cG.lu.TextSelectionEnd);break;}eo=gR.kk(yv);hM=eo.uZ();this.zs(cO[1],new IPCC.Web.UI.Point(hM.x+hM.width,hM.y+hM.height),kr,this.gs,IPCC.dJ.cG.lu.TextSelectionEnd);}else{this.tg(cO[1]);}break;}if(G.get_type()===IPCC.Web.UI.MarkType.Text||G.get_type()===IPCC.Web.UI.MarkType.TextLine||G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var tL=cO[cO.length-1];if(tL.bi.className.match(/pcc/)){var Wo=cJ.jq.clientHeight;var WH=cJ.jq.clientWidth;var akG=cJ.jq.offsetTop;var ajL=cJ.jq.offsetLeft;var akB=tL.bi.clientHeight;var Ur=tL.bi.clientWidth;tL.bi.style.position='absolute';tL.bi.style.zIndex='2';if(Wo>akB+10&&WH>Ur+10){tL.bi.style.top=(Wo-akB)/2+akG+'px';tL.bi.style.left=(WH-Ur)/2+ajL+'px';}else{tL.bi.style.top=Wo+akG+10+'px';tL.bi.style.left=(WH-Ur)/2+ajL+'px';}}}this.arp(cJ);};IPCC.dJ.cG.prototype.adq=function(fY,tz){var auk=IPCC.V.abh(fY,tz||'#ffffff'),awI=IPCC.V.map(auk,function(cn){return{aq:cn.startIndex,dn:cn.endIndex,DW:cn.color};});return awI;};IPCC.dJ.cG.prototype.apx=function(F){var G=F.G;if(G.fF){var kw=this.adq(G.fF);var Et=G.an;var yF='';for(var H=kw.length-1;H>=0;H--){var Tz=kw[H];var aq=Tz.aq;var dn=Tz.dn;var cV=Tz.DW;var cz=IPCC.V.IR(Et.substr(aq,dn-aq+1));var arN=IPCC.V.IR(Et.substr(dn+1,Et.length-dn+1));Et=Et.substr(0,aq);yF="<span style='background-color:"+cV+";'>"+cz+'</span>'+arN+yF;}yF=IPCC.V.IR(Et)+yF;yF=yF.replace(/\n/g,'<br/>');F.nm.innerHTML=yF;}else{F.xj.data=G.an;}};IPCC.Web.UI.ImGearDocumentHyperlink=function(kK){var aL=0,dr=0,bA=0,ao=0,oK=kK.href||"",amm=kK.borderStyle||"Solid",np=kK.borderThickness||0,xB=kK.borderPattern||[1],HE=kK.borderHorizontalRadius||0,JL=kK.borderHorizontalRadius||0,nt=kK.borderColor||"#0000FF",qu=kK.borderOpacity||255,C,G;if(typeof qu==='string'){qu=parseInt(qu,10);}if(kK.rectangle){aL=kK.rectangle.x;dr=kK.rectangle.y;bA=kK.rectangle.width;ao=kK.rectangle.height;}C=new IPCC.Web.UI.Rectangle(aL,dr,bA,ao);this.di=function(){var Wc=new IPCC.Web.UI.Rectangle(C.x,C.y,C.width,C.height);return Wc;};this.BA=function(jN){C.x=jN.x;C.y=jN.y;C.width=jN.width;C.height=jN.height;};this.ahi=function(){return oK;};this.amC=function(){return amm;};this.amP=function(){return np;};this.anb=function(){return xB;};this.alU=function(){return HE;};this.anv=function(){return JL;};this.amZ=function(){return nt;};this.alI=function(){return qu;};this.Om=function(){return G;};this.aBe=function(atv){G=atv;};};IPCC.Web.UI.ImGearTextCharacter=function(aL,dr,bA,ao,yG,aDR){this.bO=new IPCC.Web.UI.Rectangle(aL,dr,bA,ao);this.jY=yG;this.Dz=aDR;this.amG=function(){return yG;};this.uZ=function(){var Wc=new IPCC.Web.UI.Rectangle(this.bO.x,this.bO.y,this.bO.width,this.bO.height);return Wc;};this.aFk=function(){return this.Dz;};};IPCC.Web.UI.ImGearTextCharacterCollection=function(){var js=[];this.aBW=function(lq){js.push(new IPCC.Web.UI.ImGearTextCharacter(lq.bO.x,lq.bO.y,lq.bO.width,lq.bO.height,lq.jY,lq.Dz));};this.aEK=function(asi){function lM(lq){js.push(lq);};asi.forEach(lM,{});};this.aBC=function(){var adH=[];for(var bF=0;bF<this.dV();bF++){var Lm=this.kk(bF).bO;var C=[];C.push(Lm.x);C.push(Lm.y);C.push(Lm.width);C.push(Lm.height);adH.push(C);}return adH;};this.aEG=function(bV,Zw){var bF;var bX=js.length;if(bV>js.length||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV,'index of theText Character Collection is out of range');}for(bF=0;bF<bX;bF++){if(js[bF]===Zw){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same an Character instance in a lq collection).');}}js.splice(bV,0,Zw);};this.aCO=function(afx,afj){IPCC.V.forEach(js,function(jY){jY.bO.width=jY.bO.width*afx;jY.bO.height=jY.bO.height*afj;jY.bO.x=jY.bO.x*afx;jY.bO.y=jY.bO.y*afj;});};this.kT=function(hU,dK){var SQ=[].concat(js);var H;for(H=0;H<SQ.length;H++){hU.call(dK,new IPCC.Web.UI.ImGearTextCharacter(SQ[H].x,SQ[H].y),H,this);}};function jV(bV){if(bV>js.length-1||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV);}};this.kk=function(bV){jV(bV);var qr=js[bV];return new IPCC.Web.UI.ImGearTextCharacter(qr.bO.x,qr.bO.y,qr.bO.width,qr.bO.height,qr.jY,qr.Dz);};this.aEF=function(bV,lq){jV(bV);var Dg=js[bV];if(Dg.bO.x===lq.bO.x&&Dg.bO.y===lq.y&&Dg.bO.width===lq.bO.width&&Dg.bO.height===lq.bO.height&&Dg.jY===lq.jY&&Dg.Dz===lq.Dz){return;}js[bV]=lq;};this.dV=function(){return js.length;};this.aCX=function(bV){jV(bV);js.splice(bV,1);};this.aFu=function(){if(js.length<1){return;}js=[];};return this;};IPCC.Web.UI.ImGearHyperlinkCollection=function(){var FR=[];this.azq=function(aAR){FR.push(aAR);};this.cI=function(){return FR.length;};this.kT=function(hU,dK){IPCC.V.forEach(FR,hU,dK);};this.awN=function(){if(FR.length<1){return;}FR=[];};return this;};IPCC.Web.UI.ImGearHyperlinkPage=function(){var Go=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Ky=function(){return Go;};};IPCC.Web.UI.ImGearTextPage=function(){var asR=new IPCC.Web.UI.ImGearTextCharacterCollection();var YQ=false;var aak=false;var WT="";var un=new IPCC.Web.UI.ImGearTextSectionCollection();var WX=false;this.gm=function(){return asR;};this.nA=function(){return YQ;};this.MG=function(h){aak=true;if(h===YQ){return;}if((h===true)||(h===false)){YQ=h;}};this.Ac=function(){return aak;};this.Cv=function(){return WT;};this.azh=function(h){if(h===WT){return;}WT=h;};this.Wv=function(){return un;};this.aoc=function(){return WX;};this.acU=function(h){if(h===WX){return;}if((h===true)||(h===false)){WX=h;}};};IPCC.Web.UI.ImGearTextSection=function(){var C=null;var aq=0;var dn=0;this.di=function(){return C;};this.BA=function(h){C=h;};this.aie=function(){return aq;};this.aCC=function(h){aq=h;};this.aha=function(){return dn;};this.aAy=function(h){dn=h;};};IPCC.Web.UI.ImGearTextSectionCollection=function(){var un=[];this.aiN=function(gQ){un.push(gQ);};function jV(bV){if(bV>un.length-1||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV);}};this.aCm=function(bV){jV(bV);return un[bV];};this.dV=function(){return un.length;};return this;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.ImGearPageCountStatus=function(){};IPCC.Web.UI.ImGearPageCountStatus.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearPageCountStatus.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IPCC.Web.UI.ImGearPageCountStatus.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);IPCC.Web.UI.ImGearPageCreateArgs=function(){};IPCC.Web.UI.ImGearPageCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCreateArgs.prototype={};IPCC.Web.UI.ImGearPageCreateArgs.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');IPCC.Web.UI.ImGearPage=function(aM){this.ag=undefined;var aY=0;var aR=0,YE=0,Zz=0;var al=0,akt=0,akl=0;var K=this;var bj=new IPCC.Web.UI.iS();this.aEl=undefined;this.hw={pE:0,abF:false,qx:1000,NP:false};var fh=new IPCC.Web.UI.ImGearTextPage();var Ox=new IPCC.Web.UI.ImGearHyperlinkPage();var mp=0;var pf=false;this._debug=new IPCC.au("ImGearPage",null,this);var DB=false,Cw=0,BZ=0;function afm(o){return!isNaN(o-0);};if(aM.pageNumber!==undefined){if(afm(aM.pageNumber)){aY=aM.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.oY=function(){return aY;};this.aEH=function(h){if(afm(aM.pageNumber)){aY=h;}};this.ks=function(){return aR;};function aeY(){if(!fh){fh=new IPCC.Web.UI.ImGearTextPage();}var ary=fh.gm();var ov=aR/Cw,nF=al/BZ;ary.aCO(ov,nF);};function afV(){var Go=Ox.Ky();var ov=aR/Cw,nF=al/BZ;Go.kT(function(iA){iA.BA(iA.di().scale(ov,nF));var aio=iA.Om();aio.set_rectangle(aio.get_rectangle().scale(ov,nF));});};this.MQ=function(h){aR=h;if(DB&&aR&&aR!==Cw&&al&&al!==BZ){aeY();afV();DB=false;}};this.jj=function(){return al;};this.NI=function(h){al=h;if(DB&&aR&&aR!==Cw&&al&&al!==BZ){aeY();afV();DB=false;}};this.agU=function(){return YE;};this.adP=function(h){YE=h;};this.aDf=function(){return akt;};this.ady=function(h){akt=h;};this.aEw=function(){return Zz;};this.aEs=function(h){Zz=h;};this.aDi=function(){return akl;};this.aDB=function(h){akl=h;};this.ame=function(){return this.ag;};this.dC=function(){if(!fh){fh=new IPCC.Web.UI.ImGearTextPage();}return fh;};this.kS=function(){return mp;};this.wy=function(h){if(mp===h){return;}if(isNaN(h)){return;}mp=h;this.bY('serviceResponseTimeout');};this.iH=function(){return pf;};this.nd=function(h){pf=h;};this.kX=function(R){bj.addHandler('propertyChanged',R);};this.nl=function(R){bj.removeHandler('propertyChanged',R);};this.zN=function(R){bj.addHandler('textPageReady',R);};this.Cu=function(R){bj.removeHandler('textPageReady',R);};this.ahH=function(){return Ox;};this.XS=function(R){bj.addHandler('hyperlinkPageReady',R);};this.acH=function(R){bj.removeHandler('hyperlinkPageReady',R);};this.zr=function(R){bj.da('textExtractionFailed',R);};this.Cr=function(R){bj.cF('textExtractionFailed',R);};this.abj=function(hu){if(aR===0&&al===0){DB=true;Cw=hu.width;BZ=hu.height;}};this.adR=function(hu){if(!fh){fh=new IPCC.Web.UI.ImGearTextPage();}if(fh.gm().dV()>0){return;}else if(hu.errorCode){var sI=new IPCC.Web.UI.ImGearException(hu.errorDescription,{name:'Text Extraction'});var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=sI;dR.pageNumber=K.get_pageNumber();K.bB('textExtractionFailed',dR);return;}var apD=fh.gm();var KS=false;var Zl;function IR(TI){return TI;};var nF=1;var ov=1;if(hu.height&&hu.height>0&&al>0){if(hu.height!==al){nF=al/hu.height;}}if(hu.width&&hu.width>0&&aR>0){if(hu.width!==aR){ov=aR/hu.width;}}var gQ;var Yq= -1;var Qn;var iR,yG;for(var H=0;H<hu.rectangles.length;H++){iR=hu.rectangles[H];yG=IR(hu.text[H]);KS=false;if(iR[2]===0){yG="\n";KS=true;if(H>0){Zl=hu.rectangles[H-1];iR[2]=Zl[2];}}if(ov===1&&nF===1){Qn=new IPCC.Web.UI.ImGearTextCharacter(iR[0],iR[1],iR[2],iR[3],yG,KS);}else{Qn=new IPCC.Web.UI.ImGearTextCharacter(iR[0]*ov,iR[1]*nF,iR[2]*ov,iR[3]*nF,yG,KS);}if(Qn){apD.aBW(Qn);}if(gQ===undefined||Yq!==iR[1]||iR[0]<gQ.di().x){if(gQ){fh.Wv().aiN(gQ);}gQ=new IPCC.Web.UI.ImGearTextSection();gQ.BA(new IPCC.Web.UI.Rectangle(iR[0],iR[1],iR[2],iR[3]));gQ.aCC(H);}else{if(iR[0]+iR[2]-gQ.di().x>gQ.di().width){gQ.di().width=iR[0]+iR[2]-gQ.di().x;}}gQ.aAy(H);Yq=iR[1];}if(gQ){fh.Wv().aiN(gQ);}fh.azh(hu.text);if(hu.text.length>0){fh.MG(true);K.bB('textPageReady',{pageNumber:K.oY(),containsText:true});}else{fh.MG(false);K.bB('textPageReady',{pageNumber:K.oY(),containsText:false});}};this.abP=function(agF,La,Jz){if(!agF){return;}Ox.Ky().awN();var nF=1;var ov=1;if(La&&La>0&&al>0){if(La!==al){nF=al/La;}}if(Jz&&Jz>0&&aR>0){if(Jz!==aR){ov=aR/Jz;}}IPCC.V.forEach(agF,function(agX){var iA;switch(agX.markType){case "DocumentHyperlink":iA=new IPCC.Web.UI.ImGearDocumentHyperlink(agX.properties);iA.BA(iA.di().scale(ov,nF));Ox.Ky().azq(iA);break;default:break;}});K.bB('hyperlinkPageReady',{pageNumber:K.oY()});};this.apr=function(){K.AV();};this.AV=function(){if(!fh){fh=new IPCC.Web.UI.ImGearTextPage();}if(!K.ag){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(fh.Ac()){return;}var aal=true;if(K.kS()===0){aal=false;}function MK(an){if(an.pages){var av;if(an.pages.length>0){if(an.pages[0].number!==K.oY()){for(var H=0;H<an.pages.length;H++){if(an.pages[H].number===K.oY()){av=H;break;}}if(!av){K.hw.NP=false;return;}}else{av=0;}var hu=an.pages[av];K.hw.NP=true;if(an.pages[av].text&&an.pages[av].text.length>0){fh.MG(true);}else{fh.MG(false);}K.hw.qx=1000;setTimeout(function(){K.abj(hu);K.adR(hu);K.abP(hu.markup,hu.height,hu.width);},10);return;}}var qJ=K.hw.qx;if(!K.hw.NP){if(K.hw.pE<6){if(K.hw.pE<2){qJ=qJ+1000;}else{qJ=qJ+3000;}K.hw.pE++;K.hw.qx=qJ;setTimeout(K.apr,qJ);}else{K.hw.abF=true;}}};function ee(aD){var jf=K.ag.jf,aV;try{var eJ;var og=aD.getResponseHeader("Accusoft-Data-Encrypted");if(og==='true'){var xa=IPCC.Web.gY.pL.tO(aD.getResponseHeader("Accusoft-Data-SK"));var bw=IPCC.Web.Hs(xa,jf);var eR=IPCC.Web.GI(aD);var ub=IPCC.Web.Bj(eR,bw,jf);eJ=IPCC.Web.gY.Gm.lX(ub);}else{eJ=aD.responseText;}if(typeof JSON!=='undefined'){aV=JSON.parse(eJ);}else{aV=IPCC.cP.oE(eJ);}MK(aV);}catch(e){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=K.get_pageNumber();K.bB('textExtractionFailed',dR);return;}};function fl(aV){try{if(!aV.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(aV.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(aV.response.status,"Unable to obtain text, Error from the service = "+aV.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(aV.response.status,"Unable to obtain text from the service");}}}catch(e){var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;dR.pageNumber=K.get_pageNumber();K.bB('textExtractionFailed',dR);return;}};var aq=K.get_pageNumber();var iy=K.ag.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(iy))){iy='e'+K.ag.get_encodedDocumentIdentifier();}else{iy='u'+encodeURIComponent(iy);}var hb=K.ag.qT;var nI=K.ag.nI;var bg;if(K.iH()){bg=hb+'/Document/q/'+aq.toString()+'-'+aq.toString()+'/Text?DocumentID='+iy+'&iv='+nI;}else{bg=hb+'/Document/q/'+aq.toString()+'-'+aq.toString()+'/Text?DocumentID='+iy;}var hs={method:'GET',url:bg,headers:{'accept':'application/json'}};if(aal===true){hs.timeout=K.kS();}IPCC.V.mR.fB(hs).then(ee,fl);};this.dC=function(){if(!fh){fh=new IPCC.Web.UI.ImGearTextPage();}return fh;};this.aDv=function(h){if(typeof h.nA!=='function'){return;}fh=h;};this.agG=function(){fh=undefined;K.hw={pE:0,abF:false,qx:1000,NP:false};DB=false;Cw=0;BZ=0;};this.Jr=function(zk,AC){var K=this;function ee(aD){var aV;if(typeof JSON!=='undefined'){aV=JSON.parse(aD.responseText);}else{aV=IPCC.cP.oE(aD.responseText);}if(aV.imageWidth&&aV.imageHeight){K.MQ(aV.imageWidth);K.NI(aV.imageHeight);zk(aV.imageWidth,aV.imageHeight);}else{AC("Unable to obtain document information from the server");}};function fl(aV){AC("Unable to obtain document information from the server");};if(K.ks()>0||K.jj()>0){zk(K.ks(),K.jj());}else{var rh=IPCC.gd.sJ(K.ag.get_documentIdentifier());if(!rh||rh===""){AC("Invalid encoded Identifier");}var uc='';if(!IPCC.yu.JK()){uc='&ContentType=png';}var bg;if(!(/^[\x00-\x7F]*$/.test(rh))){bg=K.ag.qT+'/Page/q/'+(K.get_pageNumber())+'/Attributes?DocumentID=e'+rh+uc;}else{bg=K.ag.qT+'/Page/q/'+(K.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(K.ag.get_documentIdentifier())+uc;}IPCC.V.mR.fB({method:'GET',url:bg,headers:{'Content-Type':'application/json'}}).then(ee,fl);}};this.bY=function(cw){var R=bj.getHandler('propertyChanged');if(R){R(this,new IPCC.rC(cw));}};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){try{R(K,L);}catch(e){K._debug.bd(e);}}};return this;};IPCC.Web.UI.ImGearPage.prototype={get_pageNumber:function(){var aC=this.oY();return aC;},get_pageWidth:function(){var aC=this.ks();return aC;},get_pageHeight:function(){var aC=this.jj();return aC;},get_textPage:function(){var aC=this.dC();return aC;},get_encryption:function(){var aC=this.iH();return aC;},set_encryption:function(value){this.nd(value);},get_hyperlinkPage:function(){return this.ahH();},get_document:function(){var aC=this.ame();return aC;},add_propertyChanged:function(handler){this.kX(handler);},remove_propertyChanged:function(handler){this.nl(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Jr(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};IPCC.Web.UI.ImGearPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPage.registerClass('IPCC.Web.UI.ImGearPage');IPCC.Web.UI.ImGearPageEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageEventArgs.prototype={};IPCC.Web.UI.ImGearPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageEventArgs.registerClass('IPCC.Web.UI.ImGearPageEventArgs');IPCC.Web.UI.ImGearPageCollection=function(){var K=this;var dQ=[];var bj=new IPCC.Web.UI.iS();this.ayB=false;this.axK=true;this.ag=undefined;this._debug=new IPCC.au("ImGearPageCollection",null,this);this.ahm=function(aI){this.ahK(dQ.length,aI);};function jV(bV){if(bV>dQ.length-1||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV,'page index is out of range in the page collection');}};this.ahK=function(bV,aI){var bF;var bX=dQ.length;if(bV>dQ.length||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV,'index of the page Collection is out of range');}if(K.axK&&K.ayB){if(bX>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bF=0;bF<bX;bF++){if(dQ[bF]===aI){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(K.ag){if(!aI.ag){aI.ag=K.ag;}}aI.add_propertyChanged(JT);dQ.splice(bV,0,aI);var L=new IPCC.Web.UI.ImGearPageEventArgs();L.imGearPage=aI;L.length=1;K.bB('pageAdded',L);};this.hX=function(bV){jV(bV);var dY=dQ[bV];return dY;};this.azG=function(bV,aI){jV(bV);var VI=dQ[bV];if(VI===aI){return;}dQ[bV]=aI;var L=new IPCC.Web.UI.ImGearPageEventArgs();L.imGearPage=aI;L.length=1;this.bB('pageAdded',L);VI.remove_propertyChanged(JT);var yd=new IPCC.Web.UI.ImGearPageEventArgs();yd.imGearPage=VI;yd.length=1;this.bB('pageRemoved',yd);};this.dV=function(){return dQ.length;};this.kT=function(hU,dK){var YV=[].concat(dQ);var H;for(H=0;H<YV.length;H++){hU.call(dK,YV[H],H,this);}};this.acu=function(bV){jV(bV);var L=new IPCC.Web.UI.ImGearPageEventArgs();L.imGearPage=dQ[bV];dQ[bV].remove_propertyChanged(JT);L.length=1;dQ.splice(bV,1);K.bB('pageRemoved',L);};this.aDl=function(aI){var cI=dQ.length;for(var H=0;H<cI;H++){if(aI===dQ[H]){return H;}}return-1;};this.avB=function(){var H=0;while(dQ.length>0){this.acu(H);}};function JT(ay,L){var yd=new IPCC.Web.UI.ImGearPageEventArgs();yd.imGearPage=ay;yd.length=1;K.bB('pageChanged',yd);};this.Gy=function(R){bj.addHandler('pageAdded',R);};this.Dj=function(R){bj.removeHandler('pageAdded',R);};this.GE=function(R){bj.addHandler('pageChanged',R);};this.FA=function(R){bj.removeHandler('pageChanged',R);};this.Fj=function(R){bj.addHandler('pageRemoved',R);};this.Fg=function(R){bj.removeHandler('pageRemoved',R);};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){try{R(K,L);}catch(e){K._debug.bd(e);}}};return this;};IPCC.Web.UI.ImGearPageCollection.prototype={addPage:function(page){this.ahm(page);},insertPage:function(index,page){this.ahK(index,page);},forEach:function(method,context){this.kT(method,context);},getPage:function(index){return this.hX(index);},setPage:function(index,page){this.azG(index,page);},get_length:function(){return this.dV();},removePage:function(index){this.acu(index);},removeAllPages:function(){this.avB();},add_pageAdded:function(handler){this.Gy(handler);},remove_pageAdded:function(handler){this.Dj(handler);},add_pageChanged:function(handler){this.GE(handler);},remove_pageChanged:function(handler){this.FA(handler);},add_pageRemoved:function(handler){this.Fj(handler);},remove_pageRemoved:function(handler){this.Fg(handler);}};IPCC.Web.UI.ImGearPageCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCollection.registerClass('IPCC.Web.UI.ImGearPageCollection');IPCC.Web.UI.ImGearDocumentCreateArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCreateArgs.prototype={};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');IPCC.Web.UI.ImGearDocument=function(aM){var ki='';var hA='';var K=this;this.dQ=new IPCC.Web.UI.ImGearPageCollection();this.PW=undefined;this.dQ.ag=this;var LT=false;this.qT=undefined;var fM=0;var MC=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var bj=new IPCC.Web.UI.iS();this.jf=IPCC.Web.FQ.Yn(4,IPCC.Web.OQ());this.nI=IPCC.Web.gY.HM.lX(this.jf);var yz=[];var nk=0;var mC=[];var DM=[];var hw={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var SN=false;this._debug=new IPCC.au("ImGearDocument",null,this);this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){try{R(K,L);}catch(e){K._debug.bd(e);}}};function Vm(ay,L){if(L.length>0){K.bB('pageAdded',L);}};function VC(ay,L){if(L.length>0){K.bB('pageRemoved',L);}};function JT(ay,L){K.bB('pageChanged',L);};this.dQ.add_pageAdded(Vm);this.dQ.add_pageRemoved(VC);this.dQ.add_pageChanged(JT);function ayI(){this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){R(K,L);}};};if(arguments.length===0){var mi="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',mi);}if(arguments.length>0){if(aM.documentIdentifier!==undefined){ki=aM.documentIdentifier;hA=IPCC.gd.sJ(ki);}if(aM.encodedDocumentIdentifier!==undefined){var wH=aM.encodedDocumentIdentifier;if(aM.documentIdentifier!==undefined){hA=IPCC.gd.sJ(ki);if(wH!==hA){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{ki=IPCC.gd.Hy(aM.encodedDocumentIdentifier);}}if(aM.imageServicePath!==undefined){this.qT=aM.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sy;if(aM.includeAllPages!==undefined){LT=aM.includeAllPages;if(LT===true){var axJ=new ayI();var XE=0;K.ap=new IPCC.gd(hA,0,0,0,0,0);var oI=function(){fM=K.ap.fM;MC=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;XE<fM;XE++){var abr=new IPCC.Web.UI.ImGearPage({pageNumber:XE,ag:K});abr.ag=K;K.dQ.addPage(abr);}};MC=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.ap.PM(this.qT,axJ,oI);}catch(e){MC=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dR.exception=e;K.bB('pageOpenFailed',dR);throw e;}}}else if(aM.pages!==undefined){if(aM.pages.length>0){var H=0;for(H=0;H<aM.pages.length;H++){var bK=aM.pages[H];bK.document=this;this.dQ.addPage(bK);}}}else if(aM.pageNumber!==undefined){if(aM.pageRangeCount!==undefined){var pW=aM.pageRangeCount;if(pW>0){var bE;for(bE=aM.pageNumber;bE<=pW;bE++){sy=new IPCC.Web.UI.ImGearPage(bE);sy.ag=K;this.dQ.addPage(sy);}}else if(pW===0){sy=new IPCC.Web.UI.ImgearPage({pageNumber:aM.pageNumber,ag:K});sy.ag=K;K.dQ.addPage(sy);}}else{if(aM.selected){sy=new IPCC.Web.UI.ImGearPage({pageNumber:aM.pageNumber,ag:K,selected:true});}else{sy=new IPCC.Web.UI.ImGearPage({pageNumber:aM.pageNumber,ag:K});}sy.ag=K;K.dQ.addPage(sy);}}}this.Ko=function(){return ki;};this.NH=function(){return hA;};this.afO=function(){return this.dQ;};this.anK=function(){return fM;};this.apl=function(){return MC;};this.aoG=function(){return LT;};this.aAa=function(h){LT=h;this.bY('includeAllPages');};var pf=false;this.iH=function(){return pf;};this.nd=function(h){pf=h;};this.Gy=function(R){bj.addHandler('pageAdded',R);};this.Dj=function(R){bj.removeHandler('pageAdded',R);};this.Fj=function(R){bj.addHandler('pageRemoved',R);};this.Fg=function(R){bj.removeHandler('pageRemoved',R);};this.Fo=function(R){bj.addHandler('pageOpenFailed',R);};this.FV=function(R){bj.removeHandler('pageOpenFailed',R);};this.kX=function(R){bj.addHandler('propertyChanged',R);};this.nl=function(R){bj.removeHandler('propertyChanged',R);};this.GE=function(R){bj.addHandler('pageChanged',R);};this.FA=function(R){bj.removeHandler('pageChanged',R);};this.bY=function(cw){var R=bj.getHandler('propertyChanged');if(R){R(this,new IPCC.rC(cw));}};this.azl=function(R){bj.addHandler('textPagesReceived',R);};this.avs=function(R){bj.removeHandler('textPagesReceived',R);};this.aoa=function(){return DM.length;};this.anP=function(){return yz;};this.aoA=function(){return yz.length;};this.amS=function(){return hw;};this.amI=function(){return SN;};this.aEI=function(h){SN=h;};this.aov=function(fX){if(hw.stopRequests===true){var L={};L.error=0;L.textPagesReceived=Pl(fX);if(L.textPagesReceived.length===0){if(nk>0&&nk<fX){for(var cl=nk;cl<fX;cl++){L.textPagesReceived.push(cl);}}}L.length=2;K.bB('textPagesReceived',L);return;}var iK=true;var Ft=false;for(var H=0;H<nk;H++){if(Array.prototype.indexOf){if(yz.indexOf(H)<0){iK=false;Ft=true;break;}}else{if(IPCC.Web.kO(yz,H)<0){Ft=true;break;}}}if(Ft){K.ME(H,undefined,fX);}else if(nk<fX){for(var bF=0;bF<fX;bF++){if(Array.prototype.indexOf){if(mC.indexOf(bF)<0){iK=false;break;}}else{if(IPCC.Web.kO(mC,bF)<0){iK=false;break;}}}if(!iK){Ft=true;K.ME(bF,undefined,fX);}else{K.ME(nk,undefined,fX);}}else{Ft=false;}};function Pl(fX){var SB=[],cl;if(mC.length>0){var iK=true;for(cl=0;cl<fX;cl++){iK=true;if(Array.prototype.indexOf){if(mC.indexOf(cl)<0){iK=false;}}else{if(IPCC.Web.kO(mC,cl)<0){iK=false;}}if(!iK){mC.push(cl);DM.push(cl);SB.push(cl);}}}else{for(cl=0;cl<fX;cl++){mC.push(cl);DM.push(cl);SB.push(cl);}}return SB;};this.ME=function(aaC,aey,fX){SN=true;var aq;if(!isNaN(aaC)){aq=aaC;}else{aq=0;}var DF;if(!isNaN(fX)){DF=fX;}var dn;if(!isNaN(aey)){dn=aey;}else if(!isNaN(DF)){dn=DF-1;}else{DF=fX;if(!isNaN(DF)){dn=DF-1;}}if(isNaN(dn)){dn=aq+1;}if(dn-aq>9){dn=aq+9;}function MK(an){var SU=nk;var SI=[];var iK=true;var by;for(var aI=0;aI<an.pages.length;aI++){if(Array.prototype.indexOf){if(yz.indexOf(an.pages[aI].number)<0){iK=false;}}else{if(IPCC.Web.kO(yz,an.pages[aI].number)<0){iK=false;}}if(!iK){yz.push(an.pages[aI].number);if(K.dQ.hX(an.pages[aI].number).dC().Ac()===false){by=K.dQ.hX(an.pages[aI].number);by.abj(an.pages[aI]);by.adR(an.pages[aI]);by.abP(an.pages[aI].markup,an.pages[aI].height,an.pages[aI].width);}nk++;SI.push(an.pages[aI].number);mC.push(an.pages[aI].number);if(!an.pages[aI].text){DM.push(an.pages[aI].number);}}}var L={};if(an.hasOwnProperty("errorCode")){L.error=0;K.pageExtractionFailed=true;L.textPagesReceived=SI;L.length=2;for(var ye=hw.startPage;ye<hw.lastPage+1;ye++){iK=true;if(Array.prototype.indexOf){if(mC.indexOf(ye)<0){iK=false;}}else{if(IPCC.Web.kO(mC,ye)<0){iK=false;}}if(!iK){mC.push(ye);DM.push(ye);L.textPagesReceived.push(ye);}}K.bB('textPagesReceived',L);hw.stopRequests=true;return;}if(nk>SU){L.textPagesReceived=SI;L.length=2;L.error=0;}var qJ=hw.lastTimeout;if(hw.startPage===aq&&hw.lastPage===dn&&nk===SU){if(hw.requestCount<25){qJ=qJ+1000;hw.requestCount++;}else{L.error=0;L.textPagesReceived=[];L.length=2;iK=true;var cl;for(cl=hw.startPage;cl<hw.lastPage+1;cl++){iK=true;if(Array.prototype.indexOf){if(mC.indexOf(cl)<0){iK=false;}}else{if(IPCC.Web.kO(mC,cl)<0){iK=false;}}if(!iK){mC.push(cl);DM.push(cl);L.textPagesReceived.push(cl);}}if(L.textPagesReceived.length===0){if(nk>0&&nk<fX){for(cl=nk;cl<fX;cl++){L.textPagesReceived.push(cl);}}}hw.stopRequests=true;K.bB('textPagesReceived',L);return;}}else{qJ=1000;hw.requestCount=0;}hw.lastTimeout=qJ;hw.startPage=aq;hw.lastPage=dn;setTimeout(function(){K.aov(fX);},qJ);if(nk>SU){K.bB('textPagesReceived',L);}};function ee(aD){var L={},eJ,aV;try{var og=aD.getResponseHeader("Accusoft-Data-Encrypted");if(og==='true'){var xa=IPCC.Web.gY.pL.tO(aD.getResponseHeader("Accusoft-Data-SK"));var bw=IPCC.Web.Hs(xa,K.jf);var eR=IPCC.Web.GI(aD);var ub=IPCC.Web.Bj(eR,bw,K.jf);eJ=IPCC.Web.gY.Gm.lX(ub);}else{eJ=aD.responseText;}if(typeof JSON!=='undefined'){aV=JSON.parse(eJ);}else{aV=IPCC.cP.oE(eJ);}MK(aV);}catch(e){L.error= -1;Pl(fX);L.textPagesReceived=[];L.length=2;K.bB('textPagesReceived',L);return;}};function fl(aV){var L={},ha;try{ha=aV.response.status;if(aV.response.responseText){if(typeof JSON!=='undefined'){aV=JSON.parse(aV.response.responseText);}else{aV=IPCC.cP.oE(aV.response.responseText);}if(aV.hasOwnProperty("errorCode")){L.error=0;if(nk>0){if(aV.pages){if(aV.pages.length>0){MK(aV);return;}}}else{L.error= -1;}if(mC.length===0){L.error= -1;}K.pageExtractionFailed=true;L.textPagesReceived=[];L.length=2;L.textPagesReceived=Pl(fX);K.bB('textPagesReceived',L);return;}else{throw new IPCC.Web.UI.ImGearHttpException(ha,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(ha,"Unable to obtain text");}}catch(e){L.error= -1;Pl(fX);L.textPagesReceived=[];L.length=2;K.bB('textPagesReceived',L);return;}};var iy=ki;var hb=K.qT;if(!(/^[\x00-\x7F]*$/.test(iy))){iy='e'+hA;}else{iy='u'+iy;}var bg;if(K.iH()){bg=hb+'/Document/q/'+aq.toString()+'-'+dn.toString()+'/Text?DocumentID='+iy+'&iv='+K.nI;}else{bg=hb+'/Document/q/'+aq.toString()+'-'+dn.toString()+'/Text?DocumentID='+iy;}IPCC.V.mR.fB({method:'GET',url:bg,headers:{'accept':'application/json'}}).then(ee,fl);};return this;};IPCC.Web.UI.ImGearDocument.encodeDocumentIdentifier=function(ki){var hA;if(ki!==undefined){hA=IPCC.gd.sJ(ki);}return hA;};IPCC.Web.UI.ImGearDocument.decodeDocumentIdentifier=function(hA){var agv;if(hA!==undefined){agv=IPCC.gd.Hy(hA);}return agv;};IPCC.Web.UI.ImGearDocument.prototype={get_documentIdentifier:function(){var aC=this.Ko();return aC;},get_encodedDocumentIdentifier:function(){var aC=this.NH();return aC;},get_pages:function(){return this.afO();},get_pageCountStatus:function(){var r=this.apl();return r;},set_pageCountStatus:function(value){this.aDS(value);},get_pageCount:function(){var r=this.anK();return r;},get_includeAllPages:function(){try{var aC=this.aoG();return aC;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aAa(value);}catch(e){throw e;}},get_encryption:function(){var aC=this.iH();return aC;},set_encryption:function(value){this.nd(value);},add_pageChanged:function(handler){this.GE(handler);},remove_pageChanged:function(handler){this.FA(handler);},add_pageRemoved:function(handler){this.Fj(handler);},remove_pageRemoved:function(handler){this.Fg(handler);},add_pageAdded:function(handler){this.Gy(handler);},remove_pageAdded:function(handler){this.Dj(handler);},add_pageOpenFailed:function(handler){this.Fo(handler);},remove_pageOpenFailed:function(handler){this.FV(handler);},get_textRequestInfo:function(){try{var aC=this.amS();return aC;}catch(e){throw e;}},get_pagesWithText:function(){try{var aC=this.anP();return aC;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var aC=this.aoA();return aC;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var aC=this.aoa();return aC;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.azl(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.avs(handler);}catch(e){this._debug.bd(e,"remove_textPagesReceived");throw e;}},add_propertyChanged:function(handler){this.kX(handler);},remove_propertyChanged:function(handler){this.nl(handler);}};IPCC.Web.UI.ImGearDocument.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocument.registerClass('IPCC.Web.UI.ImGearDocument');IPCC.Web.UI.ImGearDocumentEventArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentEventArgs.prototype={};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');IPCC.Web.UI.ImGearDocumentCollection=function(){var ld=[];var bj=new IPCC.Web.UI.iS();var K=this;this._debug=new IPCC.au("ImGearDocumentCollection",null,this);function ant(ay,L){if(L){var MD=new IPCC.Web.UI.ImGearDocumentEventArgs();MD.document=ay;MD.propertyName=L.get_propertyName();MD.length=2;K.bB('documentChanged',MD);}};this.UG=function(anX){this.aiJ(ld.length,anX);};this.aiJ=function(bV,ag){var bF;var bX=ld.length;if(bV>ld.length||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV,'document index is out of range');}for(bF=0;bF<bX;bF++){if(ld[bF]===ag){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var aiH=bj.getHandler('pageAdded');if(aiH){ag.add_pageAdded(aiH);}var agi=bj.getHandler('pageRemoved');if(agi){ag.add_pageRemoved(agi);}var ajs=bj.getHandler('pageChanged');if(ajs){ag.add_pageChanged(ajs);}ag.add_propertyChanged(ant);ld.splice(bV,0,ag);var L=new IPCC.Web.UI.ImGearDocumentEventArgs();L.imGearDocument=ag;L.index=bV;L.length=1;this.bB('documentAdded',L);};function jV(bV){if(bV>ld.length-1||(bV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bV,'document index is out of range');}};this.OM=function(bV){jV(bV);return ld[bV];};this.dV=function(){return ld.length;};this.aGa=function(hU,dK){var abz=[].concat(ld);var H;for(H=0;H<abz.length;H++){hU.call(dK,abz[H],H,this);}};this.acp=function(bV){jV(bV);var L=new IPCC.Web.UI.ImGearDocumentEventArgs();L.imGearDocument=ld[bV];L.length=1;ld[bV].get_pages().removeAllPages();ld.splice(bV,1);this.bB('documentRemoved',L);};this.awR=function(){var H=0;while(ld.length>0){this.acp(H);}};this.aBr=function(R){bj.addHandler('documentAdded',R);};this.avd=function(R){bj.removeHandler('documentAdded',R);};this.aBI=function(R){bj.addHandler('documentRemoved',R);};this.avq=function(R){bj.removeHandler('documentRemoved',R);};this.aBH=function(R){bj.addHandler('documentChanged',R);};this.awk=function(R){bj.removeHandler('documentChanged',R);};this.Gy=function(R){bj.addHandler('pageAdded',R);};this.Dj=function(R){bj.removeHandler('pageAdded',R);for(var bF=0;bF<ld.length;bF++){ld[bF].remove_pageAdded(R);}};this.GE=function(R){bj.addHandler('pageChanged',R);};this.FA=function(R){bj.removeHandler('pageChanged',R);for(var bF=0;bF<ld.length;bF++){ld[bF].remove_pageChanged(R);}};this.Fj=function(R){bj.addHandler('pageRemoved',R);};this.Fg=function(R){bj.removeHandler('pageRemoved',R);for(var bF=0;bF<ld.length;bF++){ld[bF].remove_pageRemoved(R);}};this.bB=function(df,L){var R=bj.getHandler(df);if(R!==null){try{R(K,L);}catch(e){K._debug.bd(e);}}};return this;};IPCC.Web.UI.ImGearDocumentCollection.prototype={addDocument:function(imGearDocument){this.UG(imGearDocument);},insertDocument:function(index,imGearDocument){this.aiJ(index,imGearDocument);},forEach:function(method,context){this.kT(method,context);},getDocument:function(index){return this.OM(index);},get_length:function(){return this.dV();},removeDocument:function(imGearDocument){this.acp(imGearDocument);},removeAllDocuments:function(){this.awR();},add_documentAdded:function(handler){this.aBr(handler);},remove_documentAdded:function(handler){this.avd(handler);},add_documentRemoved:function(handler){this.aBI(handler);},remove_documentRemoved:function(handler){this.avq(handler);},add_documentChanged:function(handler){this.aBH(handler);},remove_documentChanged:function(handler){this.awk(handler);},add_pageAdded:function(handler){this.Gy(handler);},remove_pageAdded:function(handler){this.Dj(handler);},add_pageRemoved:function(handler){this.Fj(handler);},remove_pageRemoved:function(handler){this.Fg(handler);},add_pageChanged:function(handler){this.GE(handler);},remove_pageChanged:function(handler){this.FA(handler);}};IPCC.Web.UI.ImGearDocumentCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCollection.registerClass('IPCC.Web.UI.ImGearDocumentCollection');IPCC.Type.registerNamespace('IPCC');IPCC.PageLayout=function(){};IPCC.PageLayout.registerEnum=IPCC.Web.regEnum;IPCC.PageLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.PageLayout.registerEnum('IPCC.PageLayout',false);IPCC.ViewMode=function(){};IPCC.ViewMode.registerEnum=IPCC.Web.regEnum;IPCC.ViewMode.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};IPCC.ViewMode.registerEnum('IPCC.ViewMode',false);IPCC.FitType=function(){};IPCC.FitType.registerEnum=IPCC.Web.regEnum;IPCC.FitType.prototype={FullWidth:0,ShrinkToWidth:1,ActualSize:2,FullHeight:3,FullPage:4};IPCC.FitType.registerEnum('IPCC.FitType',false);IPCC.ScaleTrigger=function(){};IPCC.ScaleTrigger.registerEnum=IPCC.Web.regEnum;IPCC.ScaleTrigger.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};IPCC.ScaleTrigger.registerEnum('IPCC.ScaleTrigger',false);IPCC.PageEventArgs=function(){return this;};IPCC.PageEventArgs.registerClass=IPCC.Web.regClass;IPCC.PageEventArgs.prototype={};IPCC.PageEventArgs.registerClass('IPCC.PageEventArgs');IPCC.ExceptionEventArgs=function(){return this;};IPCC.ExceptionEventArgs.registerClass=IPCC.Web.regClass;IPCC.ExceptionEventArgs.prototype={};IPCC.ExceptionEventArgs.registerClass('IPCC.ExceptionEventArgs');IPCC.OpenPageEventArgs=function(){return this;};IPCC.OpenPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.OpenPageEventArgs.prototype={};IPCC.OpenPageEventArgs.registerClass('IPCC.OpenPageEventArgs');IPCC.Pagecounter=1;IPCC.PageList=function(element){var K=this;var JM=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var alW=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bj=new IPCC.Web.UI.iS();var aA=[];var amA;var bx='';var As='';var ax='';var kZ='';var mH='';var Hf=0;this.zZ=new IPCC.Web.UI.ImGearDocumentCollection();var II=[];this.aEZ=0;this.aET={x:0,y:0};var jJ=0;var lG=false;var cg=0;var tI=false;var Nb=[];var FF='';var dc=1;var qZ=0;var ke=1;var pH=1;var cB=IPCC.Web.UI.MouseTool.None;var yY=false;var sN=true;var ab=IPCC.bz.None;var iB;var gc=0;var hN=0;var aid=0;var fN=0;var hd=15;var io=0;var fT=15;var nC=0;var lL=0;var oG=0;var oQ=0;var ait=0;var gN=0;var gJ=0;var ow=1;var ey=IPCC.PageLayout.VerticalScrollDirection;var cq=IPCC.ViewMode.Document;var ml=null;var Rx=null;var IS=0;var Vk=0;var ws=0;var Ao=false;var lx=null;var Fx=0;var IL='';var BE='';var pJ=[];var zu=0;var ug=3;var LO=0.5;var Hk=true;var Oy=false;var Me=false;var St;var st=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var tC=true;var mp;var dO={};var rW=false;var ox=function(){return null;};var jB=null;var aiL="font-size:11px;color:#888;text-align:center;cursor:pointer;";var air=aiL+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var ajk=aiL+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var cu=96;var be;this._debug=new IPCC.au("PageList",function(){return K.nx().id;},this);function da(df,R){bj.addHandler(df,R);};function cF(df,R){bj.removeHandler(df,R);};this.Jb=function(R){da('mouseDown',R);};this.PN=function(R){cF('mouseDown',R);};this.Jm=function(R){da('mouseMove',R);};this.OP=function(R){cF('mouseMove',R);};this.LG=function(R){da('mouseUp',R);};this.Ql=function(R){cF('mouseUp',R);};this.Wf=function(R){da('selectTextMouseToolCompleted',R);};this.QM=function(R){cF('selectTextMouseToolCompleted',R);};this.zN=function(R){da('textPageReady',R);};this.Cu=function(R){cF('textPageReady',R);};this.XS=function(R){da('hyperlinkPageReady',R);};this.acH=function(R){cF('hyperlinkPageReady',R);};this.aBb=function(R){da('allPagesAdded',R);};this.auO=function(R){cF('allPagesAdded',R);};this.XL=function(R){da('pageOpening',R);};this.RE=function(R){cF('pageOpening',R);};this.WI=function(R){da('pageOpened',R);};this.RH=function(R){cF('pageOpened',R);};this.Fo=function(R){da('pageOpenFailed',R);};this.FV=function(R){cF('pageOpenFailed',R);};this.Xo=function(R){da('pageDisplayed',R);};this.Qk=function(R){cF('pageDisplayed',R);};this.kX=function(R){da('propertyChanged',R);};this.nl=function(R){cF('propertyChanged',R);};this.XY=function(R){da('exceptionThrown',R);};this.Qa=function(R){cF('exceptionThrown',R);};this.zr=function(R){da('textExtractionFailed',R);};this.Cr=function(R){cF('textExtractionFailed',R);};this.AP=function(R){da('markAdded',R);};this.At=function(R){cF('markAdded',R);};this.Wx=function(R){da('markCreating',R);};this.Qh=function(R){cF('markCreating',R);};this.EO=function(R){da('markChanged',R);};this.Kk=function(R){cF('markChanged',R);};this.Gh=function(R){da('markReordered',R);};this.IG=function(R){cF('markReordered',R);};this.Ga=function(R){da('markSelectionChanged',R);};this.IT=function(R){cF('markSelectionChanged',R);};this.ES=function(R){da('markTextSelectionChanged',R);};this.FN=function(R){cF('markTextSelectionChanged',R);};this.AB=function(R){da('markRemoved',R);};this.yN=function(R){cF('markRemoved',R);};this.aBi=function(R){da('commentAdding',R);};this.atS=function(R){cF('commentAdding',R);};this.vs=function(R){da('commentAdded',R);};this.zJ=function(R){cF('commentAdded',R);};this.xu=function(R){da('commentRemoved',R);};this.CE=function(R){cF('commentRemoved',R);};this.rE=function(R){da('commentChanged',R);};this.rA=function(R){cF('commentChanged',R);};this.Wn=function(R){da('scaleChanged',R);};this.QG=function(R){cF('scaleChanged',R);};this.MW=function(){var az=document.getElementById(aA[cg].aG).az;if(az){return az.get_currentState();}else{return null;}};this.ajA=function(){var aI=IPCC.V.find(aA,function(dY){return dY.cZ===cg;});if(!aI){return;}return aI.ej;};this.anW=function(av){var aI=IPCC.V.find(aA,function(dY){return dY.cZ===cg;});if(!aI){return;}return aI.aG;};this.rk=function(){return dc;};this.aCn=function(dG){ky(dG,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.JD=function(aj,qs,WJ,eu){eu=eu||IPCC.ScaleTrigger.Zoom;ky(dc*aj,WJ,undefined,undefined,undefined,qs,eu);};this.anV=function(aj,aL,dr,DU,eu){eu=eu||IPCC.ScaleTrigger.Zoom;if(dc*aj<8){ky(dc*aj,false,aL,dr,DU,undefined,eu);}else{ky(8,false,aL,dr,DU);}};this.Vs=function(aj,eu){eu=eu||IPCC.ScaleTrigger.Zoom;ky(dc/aj,false,undefined,undefined,undefined,undefined,eu);};this.aoj=function(){return Yi();};this.afp=function(eu,ef,Ut){var Hg,Il,aR,al;var Zu=0;var H=0;for(H=0;H<aA.length;H++){aR=aA[H].jX();al=aA[H].pU();if(jr(aA[H].hl)===true){var Iv=aR;aR=al;al=Iv;}if(aR>0&&al>0){var GK=aR/al;if(GK>Zu){Zu=GK;Hg=al;Il=aR;}}}if(Zu>0){var arG=(bx.offsetWidth-IPCC.Web.nM()-vh()-(hd+fT+lL+oQ));var atF=arG/(Il*cu/aA[0].hF);var ed=gc;var fg=hN;if(jr(aA[0].hl)===true){ed=hN;fg=gc;}var ahD=Hg/fg*atF;var kd=(bx.clientHeight-(fN+io+nC+oG))/(fg*cu/aA[0].he);var Kg=ahD;if(Ut===true&&ahD>kd){Kg=kd;}ky(Kg,true,undefined,undefined,undefined,undefined,eu,ef);}};this.afI=function(eu,ef,Ut){var Hg,Il,aR,al;var ZQ=0;var H=0;for(H=0;H<aA.length;H++){aR=aA[H].jX();al=aA[H].pU();if(jr(aA[H].hl)===true){var Iv=aR;aR=al;al=Iv;}if(aR>0&&al>0){var GK=al/aR;if(GK>ZQ){ZQ=GK;Hg=al;Il=aR;}}}if(ZQ>0){var asG=(bx.offsetHeight-IPCC.Web.nM()-(fN+io+nC+oG));var atW=asG/(Hg*cu/aA[0].he);var ed=gc;var fg=hN;if(jr(aA[0].hl)===true){ed=hN;fg=gc;}var aht=Il/ed*atW;var kd=(bx.clientWidth-vh()-(hd+fT+lL+oQ))/(ed*cu/aA[0].hF);var Kg=aht;if(Ut===true&&aht>kd){Kg=kd;}ky(Kg,true,undefined,undefined,undefined,undefined,eu,ef);}};this.asU=function(ef,eu){if(K.xF&&typeof K.xF==='function'){K.xF();}var aR;var al;var eI;var ka=1;eu=eu||IPCC.ScaleTrigger.Fit;if(ef===IPCC.FitType.FullWidth){if(cq===IPCC.ViewMode.Document){ka=(bx.offsetWidth-IPCC.Web.nM()-vh()-(hd+fT+lL+oQ))/(gN/dc);ky(ka,true,undefined,undefined,undefined,undefined,eu,ef);}else if(cq===IPCC.ViewMode.SinglePage){if(jr(aA[cg].hl)===true){aR=aA[cg].pU();eI=cu/aA[cg].he;}else{aR=aA[cg].jX();eI=cu/aA[cg].hF;}ka=(bx.offsetWidth-IPCC.Web.nM()-vh()-(hd+fT+lL+oQ))/(aR*eI);ky(ka,true,undefined,undefined,undefined,undefined,eu,ef);}else{if(ey===IPCC.PageLayout.VerticalScrollDirection){Sl(eu,ef);}else{K.afp(eu,ef);}}}else if(ef===IPCC.FitType.ShrinkToWidth){var ang=bx.clientWidth-vh();var aoN=20;var TP=ang-aoN;if(cq===IPCC.ViewMode.SinglePage){if(jr(aA[cg].hl)===true){aR=aA[cg].pU();eI=cu/aA[cg].he;}else{aR=aA[cg].jX();eI=cu/aA[cg].hF;}if(TP<dc*aR*eI){ka=(bx.offsetWidth-IPCC.Web.nM()-vh()-(hd+fT+lL+oQ))/(aR*eI);ky(ka,true,undefined,undefined,undefined,undefined,eu,ef);}}else{if(TP<gN){ky(dc*TP/gN,true,undefined,undefined,undefined,undefined,eu,ef);}}}else if(ef===IPCC.FitType.ActualSize){if(cq===IPCC.ViewMode.Document||cq===IPCC.ViewMode.SinglePage){ky(1,true,undefined,undefined,undefined,undefined,eu,ef);}}else if(ef===IPCC.FitType.FullHeight){if(cq===IPCC.ViewMode.Document){ka=(bx.offsetHeight-IPCC.Web.nM()-(fN+io+nC+oG))/(gJ/dc);ky(ka,true,undefined,undefined,undefined,undefined,eu,ef);}else if(cq===IPCC.ViewMode.SinglePage){if(jr(aA[cg].hl)===true){al=aA[cg].jX();eI=cu/aA[cg].hF;}else{al=aA[cg].pU();eI=cu/aA[cg].he;}ka=(bx.offsetHeight-IPCC.Web.nM()-(fN+io+nC+oG))/(al*eI);ky(ka,true,undefined,undefined,undefined,undefined,eu,ef);}else{if(ey===IPCC.PageLayout.HorizontalScrollDirection){Sl(eu,ef);}else{K.afI(eu,ef);}}}else if(ef===IPCC.FitType.FullPage){var DZ;if(cq===IPCC.ViewMode.Document){ka=(bx.offsetWidth-IPCC.Web.nM()-(hd+fT+lL+oQ))/(gN/dc);DZ=(bx.offsetHeight-IPCC.Web.nM()-(fN+io+nC+oG))/(gJ/dc);if(DZ<ka){ka=DZ;}ky(ka,true,undefined,undefined,undefined,undefined,eu,ef);}else if(cq===IPCC.ViewMode.SinglePage){if(jr(aA[cg].hl)===true){aR=aA[cg].pU();al=aA[cg].jX();eI=cu/aA[cg].hF;}else{aR=aA[cg].jX();al=aA[cg].pU();eI=cu/aA[cg].he;}ka=(bx.offsetWidth-IPCC.Web.nM()-vh()-(hd+fT+lL+oQ))/(aR*eI);DZ=(bx.offsetHeight-IPCC.Web.nM()-(fN+io+nC+oG))/(al*eI);if(DZ<ka){ka=DZ;}ky(ka,true,undefined,undefined,undefined,undefined,eu,ef);}else{if(ey===IPCC.PageLayout.HorizontalScrollDirection){K.afp(eu,ef,true);}else{K.afI(eu,ef,true);}}}};this.aAj=function(aY,ai){var aI=aA[aY-1];var bS=document.getElementById(aI.aG);var Da=[];if(bS){var er,DE,bJ;try{er=ZM(bS);}catch(e){return null;}Da=IPCC.V.map(ai,function(dY){DE=bS.az.transformPagePointToWindow(new IPCC.Web.UI.Point(dY.x,dY.y),true);bJ=aeU(bS,DE.x,DE.y,er);return{clientX:bJ.x,clientY:bJ.y};});return Da;}else{return null;}};this.aqz=function(){var H=0;for(H=0;H<aA.length;H++){K.dk(H);}kb();od();};this.dk=function(av){var bq;if(aA[av].aG){bq=document.getElementById(aA[av].aG);}K.yl(bq,av);};this.Ib=function(av){var bq;if(aA[av].aG){bq=document.getElementById(aA[av].aG);}if(bq){var bu=bq.az;bu.Ib();}};this.yl=function(bq,av){if(bq&&bq.az&&bq.az.eZ()===true){var bu=bq.az;bu.display();aA[av].gz=true;if(cq===IPCC.ViewMode.SinglePage){var mq= -1;if(Array.prototype.indexOf){mq=pJ.indexOf(av);}else{mq=IPCC.Web.kO(pJ,av);}if(mq!== -1){pJ.splice(mq,1);}}}};function afb(de){var bq;for(var H=0;H<de.get_length();H++){var aI=de.getPage(H);var av=aI.get_pageNumber();if(aA[av].aG){bq=document.getElementById(aA[av].aG);}if(bq&&bq.az&&bq.az.CX()!==null){return bq.az;}}return null;};this.Kc=function(){var de=this.get_displayedPages();var LX=afb(de);LX.Kc();};this.CO=function(aj){var gn=0;var gE=aA.length-1;for(var bE=gn;bE<=gE;bE++){var bu;var bq=document.getElementById(aA[bE].aG);if(bq){bu=bq.az;}else{continue;}bu.set_sharpening(aj);if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.display();}}qZ=aj;};this.aBQ=function(){return qZ;};this.DH=function(aj){var gn=0;var gE=aA.length-1;for(var bE=gn;bE<=gE;bE++){var bu;var bq=document.getElementById(aA[bE].aG);if(bq){bu=bq.az;}else{continue;}bu.set_gamma(aj);if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.display();}}pH=aj;};this.aoy=function(){return pH;};this.Ci=function(aj){var gn=0;var gE=aA.length-1;for(var bE=gn;bE<=gE;bE++){var bu;var bq=document.getElementById(aA[bE].aG);if(bq){bu=bq.az;}else{continue;}bu.set_svgLineWidthMultiplier(aj);if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.display();}}ke=aj;};this.aCG=function(){return ke;};this.CX=function(){var de=this.get_displayedPages();var LX=afb(de);if(LX){return LX.CX();}return null;};this.wt=function(av,G){var bq;if(aA[av].aG){bq=document.getElementById(aA[av].aG);}if(bq&&bq.az){bq.az.wt(G);}};this.oh=function(av){var bq;if(aA[av].aG){bq=document.getElementById(aA[av].aG);}if(bq&&bq.az){bq.az.oh();}};var va='';this.uF=function(h){va=h;};this.nx=function(){return va;};this.bB=function(df,L){try{var R=bj.getHandler(df);if(R!==null){R(K,L);}}catch(e){K._debug.bd(e,df+"Event");}};this.bY=function(cw){var R=bj.getHandler('propertyChanged');if(R){R(this,new IPCC.rC(cw));}};this.aBM=function(R){bj.addHandler('currentPageChanged',R);};this.aug=function(R){bj.removeHandler('currentPageChanged',R);};this.ahv=function(){return ax.style.cursor||'auto';};this.aBX=function(h){ax.style.cursor=h||'auto';};this.ZT=function(){return cB;};this.EI=function(h){IPCC.aS.kq(h,'value',IPCC.Web.UI.MouseTool);var ma=false;if(cB!==h){iB=null;cB=h;switch(cB){case IPCC.Web.UI.MouseTool.HandPan:ab=IPCC.bz.HandOpen;ax.style.cursor=IPCC.bz.fk(ab);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:K.yE();ab=IPCC.bz.Text;ax.style.cursor=IPCC.bz.fk(ab);break;case IPCC.Web.UI.MouseTool.None:ab=IPCC.bz.None;ax.style.cursor=IPCC.bz.fk(ab);break;case IPCC.Web.UI.MouseTool.Magnifier:ab=IPCC.bz.Magnifier;ax.style.cursor=IPCC.bz.fk(ab);break;case IPCC.Web.UI.MouseTool.RectangleZoom:ab=IPCC.bz.RectangleZoom;ax.style.cursor=IPCC.bz.fk(ab);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:ab=IPCC.bz.AddRectangleMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:ab=IPCC.bz.AddRectangleRedactionMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:ab=IPCC.bz.AddEllipseMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:ab=IPCC.bz.AddLineMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.nU()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:ab=IPCC.bz.AddStampMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:ab=IPCC.bz.AddImageStampMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:ab=IPCC.bz.AddImageStampMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:ab=IPCC.bz.AddTextMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:ab=IPCC.bz.AddTextMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:ab=IPCC.bz.AddTextMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:ab=IPCC.bz.AddFreehandLineMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.nK()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:ab=IPCC.bz.AddPolylineMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.jQ(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:ab=IPCC.bz.AddPolygonMark;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.jQ(IPCC.Web.UI.MarkType.Polygon)];};break;case IPCC.Web.UI.MouseTool.EditMarks:ab=IPCC.bz.EditMarks;ax.style.cursor=IPCC.bz.fk(ab);ma=true;iB=function(){return[new IPCC.nh(IPCC.Web.UI.MarkType.Text)];};break;default:ab=IPCC.bz.None;ax.style.cursor=IPCC.bz.fk(ab);break;}var H=0;for(H=0;H<aA.length;H++){var bu;if(aA[H].aG){var bq=document.getElementById(aA[H].aG);if(bq){bu=bq.az;}}if(bu){if(ma===true){bu.FI(iB());}else{bu.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}}this.bY('mouseTool');}};this.alG=function(){return yY;};this.azi=function(bool){yY= ! !bool;};this.zR=function(){return st;};this.Dn=function(h){if(st!==h){st=h;var dv=kb();var de=[];if(dv){de=sv(dv);}var H=0;for(H=0;H<de.length;H++){var bq;var bu;bq=document.getElementById(aA[de[H]].aG);bu=bq.az;if(bu){bu.set_markHandleMode(st);this.yl(bq,H);}}this.bY('markHandleMode');}};this.kY=function(){return sN;};this.EW=function(h){if(sN!==h){sN=h;var dv=kb();var de=[];if(dv){de=sv(dv);}var H=0;for(H=0;H<de.length;H++){var bu;if(aA[de[H]].aG){bu=document.getElementById(aA[de[H]].aG).az;}if(bu){bu.set_textRequired(sN);}}this.bY('textRequired');}};this.aot=function(){return ug;};this.aCv=function(h){if(h<0){h=0;}if(ug!==h){ug=h;this.bY('maxPrefetch');}};this.amE=function(){return Hk;};this.aAQ=function(h){if(Hk!==h){Hk=h;this.bY('displayPagesWhenScrolling');}};this.aou=function(){return zu;};this.aBw=function(h){if(h<0){h=0;}if(zu!==h){zu=h;this.bY('maxOutOfViewDisplay');}};this.alV=function(){return Oy;};this.azN=function(h){if(Oy!==h){Oy= ! !h;this.bY('discardOutOfViewText');}};this.amJ=function(){return Me;};this.aBd=function(h){if(Me!==h){Me= ! !h;this.bY('retainPageText');}};this.apt=function(){return LO;};this.aCB=function(h){if(h<0){h=0;}if(LO!==h){LO=h;this.bY('scrollDisplayThreshold');}};this.anR=function(){return ey;};this.aBS=function(h){if(ey===h){return;}ey=h;if(bx===''||bx.clientHeight<=0||cq===IPCC.ViewMode.SinglePage){this.bY('pageLayout');return;}var tP=cg;var Iq=cq;if(cq===IPCC.ViewMode.EqualWidthPages||cq===IPCC.ViewMode.EqualFitPages){K.NU(IPCC.ViewMode.Document);}bx.scrollLeft=0;bx.scrollTop=0;var H=0;var bq;if(ey===IPCC.PageLayout.VerticalScrollDirection){if(mH){mH.setAttribute('style',air);}As.insertBefore(kZ,mH);for(H=0;H<aA.length;H++){bq=document.getElementById(aA[H].aG);bq.style.display='block';if(gc>0){bq.style.margin=fN+'px auto '+io+'px auto';}}ax.style.margin='0px '+hd+'px 0px '+fT+'px';bx.scrollLeft=(gN-bx.clientWidth)/2+hd+lL;}else{if(mH){mH.setAttribute('style',ajk);}As.removeChild(kZ);for(H=0;H<aA.length;H++){bq=document.getElementById(aA[H].aG);if(bq){bq.style.display='inline-block';if(gc>0){bq.style.margin=fN+'px '+hd+'px '+io+'px '+fT+'px';}}}ax.style.margin='0px';bx.scrollTop=(gJ-bx.clientHeight)/2+fN+nC;}if(Iq===IPCC.ViewMode.EqualWidthPages){K.NU(IPCC.ViewMode.EqualWidthPages);}else if(Iq===IPCC.ViewMode.EqualFitPages){K.NU(IPCC.ViewMode.EqualFitPages);}this.qh(tP);od();this.bY('layout');};this.aoB=function(){return cq;};this.NU=function(h,eu){eu=eu||IPCC.ScaleTrigger.ViewMode;if(cq===h){return;}cq=h;if(bx===''||bx.clientHeight<=0){this.bY('viewMode');return;}var tP=cg;this.qh(tP);if(cq===IPCC.ViewMode.Document){var kd=1;var aR=gc;var al=hN;if(jr(qo)===true){aR=hN;al=gc;}if(ey===IPCC.PageLayout.VerticalScrollDirection){kd=(bx.clientWidth-(hd+fT+lL+oQ))/aR;}else{kd=(bx.clientHeight-(fN+io+nC+oG))/al;}ky(kd,true,undefined,undefined,undefined,undefined,eu);}else{Sl(eu);}this.qh(tP);this.bY('viewMode');zI(dO,true);lf(dO,true);};var qo=0;this.aoE=function(){return qo;};this.aCr=function(h){if(qo!==h){qo=h;var H=0;for(H=0;H<aA.length;H++){if(aA[H].Cs===0){aA[H].hl=qo;}}this.bY('pageRotation');}};this.Yk=function(aY){var cZ;if(arguments.length>0){if(!isNaN(aY)){cZ=aY;}else{cZ=cg;}}else{cZ=cg;}for(var H=0;H<aA.length;H++){if(cZ===H){return aA[H].hl;}}return 0;};var pf=false;this.iH=function(){return pf;};this.nd=function(h){if(typeof h!=="boolean"){return;}if(h===pf){return;}pf=h;};this.ana=function(){return St;};this.azu=function(h,qy,xT,vg){if(St!==h){St=h;for(var H=0;H<aA.length;H++){aA[H].aH.awp(h,H,aA[H].jX(),aA[H].pU(),aA[H].ej,qy,xT,vg);var avC= !aA[H].jX();aA[H].YZ(avC);}this.bY('annotationXmlDom');}};var pG;this.FT=function(h){pG=h;};this.uJ=function(){return pG;};var pM=false;this.lU=function(){return pM;};this.oP=function(h){if(typeof h!=="boolean"){return;}if(h===pM){return;}pM=h;IPCC.V.forEach(aA,function(bK,H){var bu;if(aA[H].aG){var bq=document.getElementById(aA[H].aG);if(bq){bu=bq.az;}}if(bu){bu.oP(pM);bu=undefined;}});};this.aBh=function(h){if(FF!==h){FF=h;this.bY('loadingContent');}};this.app=function(){return FF;};this.amg=function(){var dv=kb();var de=[];if(dv){de=sv(dv);}var aay=new IPCC.Web.UI.ImGearPageCollection();var H=0;for(H=0;H<de.length;H++){aay.ahm(aA[de[H]].ej);}return aay;};this.aos=function(av){if(aA[av]){return aA[av].aG;}};this.yp=function(){return tC;};this.FY=function(h){tC=h;};this.kS=function(){return mp;};this.wy=function(h){mp=h;};this.Jr=function(aI,zk,AC){var K=this;if(aI.ks()>0||aI.jj()>0){zk(aI.ks(),aI.jj());return;}aI.requestPageAttributes(function(bA,ao){if(aA[aI.get_pageNumber()].agw()===true){var jA=bA/aI.agU();if(jA!==1){var aH=K.gB(aI);if(aH){ags(aH,jA);}}}aA[aI.get_pageNumber()].YZ(false);zk(bA,ao);},function(eL){AC(eL);});};this.axp=function(){if(rW===true){return;}rW=true;this.fu(kZ,'pccHidden');zI(dO,true);lf(dO,true);};this.ams=function(){if(rW===false){return;}rW=false;this.ik(kZ,'pccHidden');};this.aop=function(){return rW;};this.ik=function(dj,ss){var Io=new RegExp('(?:^|\\s)'+ss+'(?!\\S)','g');if(dj.className.match(Io)===null){dj.className=dj.className+' '+ss;}};this.fu=function(dj,ss){var Io=new RegExp('(?:^|\\s)'+ss+'(?!\\S)','g');dj.className=dj.className.replace(Io,'');};this.anr=function(){return ox;};this.azQ=function(h){ox=h;};this.aoJ=function(){return jB;};this.aAY=function(h){if(jB===h){return;}var G,cX,wl;if(jB){G=jB.get_mark();wl=dO[G.get_markID()];cX=ox(G,{isSelected:true},(wl)?wl.cX:undefined);if(wl){Be(G,dO,cX);}}G=cX=wl=undefined;jB=h;if(jB){G=jB.get_mark();wl=dO[G.get_markID()];cX=ox(G,{isSelected:true},(wl)?wl.cX:undefined);if(wl){Be(G,dO,cX);}}lf(dO,true);};this.auQ=function(avz){var iF=yw();IPCC.V.forEach(avz,function(Nj){var du=dO[Nj];if(du){var kB=ox(du.G,{isSelected:(du.G.get_conversation()===jB)},du.cX);if(!IPCC.V.wq(kB)){throw new Error(kB+' is not a valid HTMLElement');}if(kB!==du.cX){Be(du.G,dO,kB);}}});lf(dO,false,iF);};this.initialize=function(){var cC=this.nx();var H;for(H=cC.childNodes.length-1;H>=0;H--){if(cC.childNodes[H].tagName!=='INPUT'){cC.removeChild(cC.childNodes[H]);}}this.zZ.add_documentAdded(axV);this.zZ.add_pageAdded(Vm);this.zZ.add_pageRemoved(VC);this.ack(true);cC.az=this;adb();var QI='webkit moz o'.split(' '),wk='';if(ax.style.animationName!==undefined){IL='animationend';BE='transitionend';return;}for(H=0;H<QI.length;H++){if(ax.style[QI[H]+'Animation']!==undefined){wk=QI[H];IL=wk+'AnimationEnd';BE=wk+'TransitionEnd';break;}}};this.aAC=function(){return;mH=document.createElement('div');var Dm=document.createElement('div'),ahU=document.createElement('div'),mo=document.createElement('button'),ym=document.createElement('span'),fE=new Date(),Ku=fE.getFullYear(),Mc='?utm_source=rv&utm_medium=rv&utm_campaign=rv'+Ku,akZ=function(){K.ik(Dm,'open');},akV=function(){K.fu(Dm,'open');};mo.innerHTML='&#215;';mo.setAttribute('type','button');ahU.innerHTML='<h3>PrizmDoc v'+IPCC.Vv()+'</h3><p>PrizmDoc is a web based online document viewer and can be embedded into any web page or linked from any page. Learn more about PrizmDoc at <a href="http://www.accusoft.com'+Mc+'">www.accusoft.com</a>.</p><p>&copy; '+Ku+' Accusoft - All Rights Reserved.</p>';Dm.className='pccPageListAboutModal';Dm.appendChild(mo);Dm.appendChild(ahU);element.appendChild(Dm);ym.setAttribute('style',''+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAvlJREFUeNp0kk9IHGcYxp95Z76Zb/bbT8xuFXdd3QXBquTmoX/EWgoe7MmI9laKZ2/SemlDaRsIRG9JLz30kFx6Smkh5lQs/WMXehHciEiVKllYdHdmcGeZcXe/b3pIWppoHniO7+/9wfsaS0tLuCoXFxcYHh7+tq+vb7nZbPpEZJim2ZskyR+7u7tv+74PIQSSJHlhzqpWq1cC4zhGFEW3hRALrutei+MY3W4XqVTqrWKx+L3neTeCIIBt2y9AzYmJCTiOc6lSSoRh6Hme97BUKq0kSWJordHpdNDf3z+WSqVe833/sRACruuCcw7OOYyNjY1Ldv9ulFKiUqlgf3//w5mZmfutVgtaawAA5xzVanUtCIL1fD4PIoLWGlaxWLwE1FrDMAzYtm3mcrnC4eHhg+3t7denp6c/9X0fANButzE0NHSHiPbK5fIjpRQYY6AwDPGqep63GkXR38vLy+9GUfTZwcHBr5lMBkmSQCmFbreLwcHBH1qt1sTOzg6Ojo5AeHU+NgzjThiGkFL+uLCwYG1tbb1zcnJSkVL+9wlaa3NxcfGn2dnZzOjo6NVAIvocwDoRQQiBs7OzT4QQ3fHxcezt7a2YpgnLsgAAURSBiAYmJye/azabMOfn51/m3TMMY822bSilolqtthpFUeX8/PzG2NgYPz09/SUIgsrAwMAHnU4HRM+cHMcZ4Zz3Wy9d965t2ytKKcRxjDAMn8ZxvJROp+/29PRACIFCoXBzc3PzluM4X5VKpZtBEJw3Go37pmnWc7nc7/83fGhZ1ke+7//m+77SWl9zHCfb29tbJCIkSQKtNfL5/HthGP5ZrVa/SafTFaXUg2w2mxkZGfkCwFMLgAXgZwBTRPSEiOaCIAjb7fabtm2PMsYKrutOcc6nGWPStm3Mzc09Oj4+/pox9lc2m/2SMSY9z1ur1WrrFoDV59DrSqknQghwzlGv18uGYZSTJIHrupBSMiJ6gzE2JaVczOfzK0SERqPxuF6vv29ZFkzTxD8DAOIqXOXDxS7hAAAAAElFTkSuQmCC)'+' no-repeat;'+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAB3dJREFUeNqkl0tsG9cVhv97586T5FAULVKibFmiHAu2E7R2ZMZtVTtJi3ahjV9Igy4CxAW0CQIvEvQBZOdFs+imRbsKUBe2gyBujcLOC0lTx5WFNrCMMorhGHJb2YJMPWlxRHKGM3d4Z7oRCVkVHdm9wFlwMMPz4Zzz//deMjIygkdd9XodyWTyb6qqHnRdt0gplVq8qkqSZFiWdbRYLP7ZcRyEYQhCyKZzkYMHDz4yoO/7iMVih3K53JUwDOH7/oZJwzCEJEnQNI3fvHkzNzk5OSHLMiRJ2nQuqbe3F4SQRwpJkmBZ1rSu6/9Kp9PHPM9rmSAIAhBCJNM0h1dWVs7W63VHURRIkrSpIMPDw3jcxTnH1q1bf7V9+/bXbNtu2bogCKDrOsIwvDo5OXlwcXERiqJsKgd91Oo1glKKIAhw586d113X/cAwDARBsHESSuG6Lhhj381kMu/4vg/f95vwQoiWIfX09KBer28qhBAP/A7DEJRSeJ73YSKR+JGiKIlW80gIaczuk4qiMM75Z5IkQVVV6LoOVVU3DJbL5TZV6jAMm0CNpSgKyuUyRkdHLdd1jw4ODl4TQsgPE02tVkNfX98bsVjsP9PT038wTRO6rkMIsWFetm/fvk0DBkHwgAIlSYIsy1hZWcGZM2e+oJSeOHDgwNlSqYQwDDesYhiGsG0bpmme1jRt1nGcT1RVRUPd679jlUrlsQHDMIQsyzh27BgqlQry+fy5/v7+PfF4/OflcvmBaq+FFEKAUoq+vr535+bmnq5Wq1Plchme5/2PBZHTp08/NuDq898YhvGxLMsfnDp1CpOTkxgZGfm4vb39B5VKZUPIhjg0TQNj7HY+nx8cGxurWJYFXdcfFBj+v/U2IeRV27bPAciePHkSnZ2dmJiYeEFRlClN075W2WEY7hwYGLgQiURACIGqqlAUpRnS4cOHN02zTiSXABxfbZvmOM73u7u7f9/X11c/f/68VywW/7579+6fhGFIhRAtlc05h2ma/el0OgPgfU3TkEqlkEgkkEgkHhvwMwA/XFeRVKVS2d/T03NO13WMjo7OdnZ2TnV0dBzlnLfeawmB53nIZDJPq6rqz83NXU0mk4hEIojFYo8MGKGUXgUw1OKVbkrp2729vda1a9cwMTHxZSKR0Lq7u4dc133oIYFzjvb29u9xzm+Vy+WbQgg4jrN5QEJInBDyD0LI3hYzVZZl+XnXdb9aWFhANBrFzMwMLMv6a39//wFd13d4ntey1Q0fzGazxzjnH929e3d2dnZ20yLZAmCcELJnfcsJIVAUZVEI8Q3Hccanp6cxNTWFvXv34vjx4+js7MSNGzdetG17WtO0Df2xIRrOORzHof39/Zd0Xe8uFoubAuwHkAfwxHo4Xdeh6/pHCwsL6Vu3bt11HCcthDAB4P79+0gmk0ilUlheXl65ffv2C7Isi43MeC2k4zhgjHUODQ19fujQoeTXAQ4AuA5g6/qWGIaBYrF4Znx8/MTS0tJLyWTyK8bYfFtb2/S2bdtuGoZxOQiC12q1GiKRCABcm5mZeVmW5Zaz2PjfSqUCxlj7wMBAD3sI3FMAxgCYjY8ppc1Nf2VlxV1eXk60tbV9sWXLlnQQBPB9H5qmtRmG0SaE2G0YxnO7du1K5fP5nxWLRdTr9bOKojyZyWR+allWE7RxPqzVapifn3/XcZxfApgwTbOlSJ4BcDUMwyhjDIwxCCHgeV5o2zYcx4HneXI8Hh8wDCPKOW/OY2PHaRwuMpnMdyzLKly8ePGfqqoiEol8qqpqzjCMJwCAMYZyuVwqFApvhGE4vLy8/EfTNJd6e3vDVCplbLTVfRvAKACJEBK4rsuFEJoQoumDDZBWs7R2TlVVRb1ex9jY2LcWFhY+X21jx86dO//CGNOKxeII53xU0zR0dXW90tXV9SaAqO/7KBQKr69v8dCqCUurQ0s9zxuZmZn5MhaL/VjTtEFJkvaqqppYVS+CIGjGemBCCFzXhaZpOHLkyMULFy7kXNed3rFjx1K5XP5mEAQwTTOSyWR+G4/HXwmCALIsw3VdLC4unrp3796v1wI+C+AyALL29pZOp8uO40xYljXhui5KpZIK4Kmurq5ngiDI6bo+qKrqLsYYkWW5WdlGqxv2Ua1WU9ls9rJlWYMdHR2lWCx2VFGUV9va2p6llCIMQwghUCwWLzmO87Jt28uyLKMBOAzg/TWw0wDep5T+yfO8K7FYDNVqFYwxAPBc173ued71paWl31FKQSntzGQy+znng9FoNMcY28cYS8my3KykbdvIZrNZz/Nuua4bpFKprrWWU61WC9Vq9cT8/Pwn8Xi8eWdhAF4E8A6AAoC3AHwIYHzt3ttw+YYQJEkCpRSapkEIgSAI5jnn75VKpffq9To454qqqnsopYPRaHQ/gEFVVfd4nqfIspw2DAOe5yEIAnDOUSqV3rRt+xeKokBVVVBKUa/Xm4BbADwH4MrjnLfWXqIadkEp5b7v54UQed/336rVamhvb++o1Wr7NE0bBJCLx+PPu657o1AovEQp/Xc0Gt3wvvzfAQC0fOWy6L2jqgAAAABJRU5ErkJggg==)'+' no-repeat 0% 0% / 20px');ym.style.width='20px';ym.style.height='14px';ym.style.display='inline-block';ym.style.position='relative';ym.style.marginRight='5px';ym.style.top='3px';mH.appendChild(ym);mH.innerHTML+='PrizmDoc v'+IPCC.Vv();if(ey===IPCC.PageLayout.HorizontalScrollDirection&&cq!==IPCC.ViewMode.SinglePage){mH.setAttribute('style',ajk);}else{mH.setAttribute('style',air);}As.appendChild(mH);if(!mH.addEventListener){mH.attachEvent('onclick',akZ);}else{mH.addEventListener('click',akZ,false);}if(!mo.addEventListener){mo.attachEvent('onclick',akV);}else{mo.addEventListener('click',akV,false);}ait=mH.offsetHeight;};this.amX=function(){return lG;};this.ack=function(h){lG=h;this.bY('enabled');};this.aCE=function(){if(cg+1<aA.length){K.qh(cg+1);}};this.aBJ=function(){var UY=cg-1;if(UY<0){UY=0;}K.qh(UY);};function Cg(L){IPCC.Web.UI.ar.removeHandler(L.target,IL,Cg);IPCC.Web.UI.ar.removeHandler(L.target,BE,Cg);if(Fx>cg){K.fu(L.target,'pccNextPageIn');K.fu(L.target,'pccPreviousPageIn');K.fu(L.target,'pccCurrentPage');K.fu(L.target,'pccPageBack');K.fu(L.target,'pccPageForward');K.ik(L.target,'pccNextPage');}else if(Fx<cg){K.fu(L.target,'pccNextPageIn');K.fu(L.target,'pccPreviousPageIn');K.fu(L.target,'pccCurrentPage');K.fu(L.target,'pccPageBack');K.fu(L.target,'pccPageForward');K.ik(L.target,'pccPreviousPage');}K.fu(ax,'pccPageListContainerPageChanging');bx.style.overflow='auto';lx=null;ax.style.overflow='hidden';var md=IPCC.V.filter(dO,function(cn){return cn.aY===cg+1;});LA(md);setTimeout(function(){od();},60);};this.qh=function aFG(av){var GZ=cg;var md;if(cq===IPCC.ViewMode.SinglePage){md=IPCC.V.filter(dO,function(cn){return cn.aY!==av+1;});Eu(md);}else{tI=true;var aen=aag(av);if(ey===IPCC.PageLayout.VerticalScrollDirection){bx.scrollTop=aen;}else{bx.scrollLeft=aen;}}var AL=[];if(cg!==av){cg=av;var bK=aA[cg];var L=new IPCC.PageEventArgs();L.imGearPage=K.get_currentPage();L.pageIndex=cg;L.pageNodeID=bK.aG;K.bB('currentPageChanged',L);if(cq===IPCC.ViewMode.SinglePage){var gZ=document.getElementById(aA[cg].aG);var sK=document.getElementById(aA[GZ].aG);if(gZ===null){gZ=HW(aA[cg].ej);AL.push(aA[cg]);gZ.className='pccPageListItem pccCurrentPage';pJ.push(cg);if(gc>0){var fP=VY(aA[cg]);gZ.style.width=fP.bA+'px';gZ.style.height=fP.ao+'px';}else{gZ.style.width=ax.clientWidth-hd-fT+'px';gZ.style.height=ax.clientWidth*0.8+'px';}gZ.style.display='block';gZ.setAttribute('id',aA[cg].aG);ax.appendChild(gZ);}if(BE.length>0){bx.style.overflow='hidden';ax.style.width=gZ.style.width;ax.style.height=gZ.style.height;ax.style.overflow='visible';if(lx!==null){IPCC.Web.UI.ar.removeHandler(lx,IL,Cg);IPCC.Web.UI.ar.removeHandler(lx,BE,Cg);if(Fx>cg){this.fu(lx,'pccNextPageIn');this.fu(lx,'pccPreviousPageIn');this.fu(lx,'pccCurrentPage');this.fu(lx,'pccPageForward');this.fu(lx,'pccPageBack');this.ik(lx,'pccNextPage');}else if(Fx<cg){this.fu(lx,'pccNextPageIn');this.fu(lx,'pccPreviousPageIn');this.fu(lx,'pccCurrentPage');this.fu(lx,'pccPageForward');this.fu(lx,'pccPageBack');this.ik(lx,'pccPreviousPage');}}IPCC.Web.UI.ar.addHandler(sK,IL,Cg);IPCC.Web.UI.ar.addHandler(sK,BE,Cg);lx=sK;Fx=GZ;this.ik(ax,'pccPageListContainerPageChanging');if(cg>GZ){this.ik(sK,'pccPageForward');this.fu(gZ,'pccPageBack');this.fu(gZ,'pccPreviousPage');this.fu(gZ,'pccPreviousPageIn');this.fu(gZ,'pccNextPage');this.ik(gZ,'pccCurrentPage');this.ik(gZ,'pccNextPageIn');}else{this.ik(sK,'pccPageBack');this.fu(gZ,'pccPageForward');this.fu(gZ,'pccPreviousPage');this.fu(gZ,'pccNextPage');this.fu(gZ,'pccNextPageIn');this.ik(gZ,'pccCurrentPage');this.ik(gZ,'pccPreviousPageIn');}}else{ax.style.width=gZ.style.width;ax.style.height=gZ.style.height;if(cg>GZ){this.fu(sK,'pccNextPage');this.fu(sK,'pccCurrentPage');this.ik(sK,'pccPreviousPage');}else{this.fu(sK,'pccPreviousPage');this.fu(sK,'pccCurrentPage');this.ik(sK,'pccNextPage');}this.fu(gZ,'pccPreviousPage');this.fu(gZ,'pccNextPage');this.ik(gZ,'pccCurrentPage');md=IPCC.V.filter(dO,function(el){return el.aY===av+1;});LA(md);setTimeout(function(){od();},60);}IPCC.V.forEach(AL,YU);}}};this.aCj=function(){if(aA.length>0){K.qh(0);}};this.aBK=function(){if(cg<aA.length-1){K.qh(aA.length-1);}};this.aBT=function(cj){if(rW===false){return "CommentsPanelClosed";}var eF=dO[cj.get_mark().get_markID()];if(!eF){return "ConversationDivDoesNotExist";}if(cq===IPCC.ViewMode.SinglePage&&eF.aY-1!==cg){return "SinglePageModePageNotShown";}var aI=document.getElementById(aA[eF.aY-1].aG);if(aA[eF.aY-1].gz===false||aI===undefined||aI.az===undefined||aI.az===null||aI.az.eZ()===false){return "PageOutOfView";}var C=cj.get_mark().get_boundingRectangle();var qI=aI.az.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x,C.y),true);var yP=aI.az.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x+C.width,C.y),true);qI.x=ax.offsetWidth;yP.x=ax.offsetWidth+vh();K.aeP(aI.offsetTop,aI.offsetLeft,qI,yP);return "Success";};this.aBL=function(av,C){if(cq===IPCC.ViewMode.SinglePage&&av!==cg){return true;}var aI=document.getElementById(aA[av].aG);if(aA[av].gz===false||aI===undefined||aI.az===undefined||aI.az===null||aI.az.eZ()===false){return false;}var qI=aI.az.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x,C.y),true);var yP=aI.az.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x+C.width,C.y+C.height),true);K.aeP(aI.offsetTop,aI.offsetLeft,qI,yP);return true;};this.aCb=function(Wd,Uk){bx.scrollTop+=Math.round(Uk);bx.scrollLeft+=Math.round(Wd);};this.aCD=function(Wd,Uk){bx.scrollTop=Math.round(Uk);bx.scrollLeft=Math.round(Wd);};this.aeP=function(axq,axF,qI,yP){var aaG=yP.x-qI.x;var abo=yP.y-qI.y;var cQ=new IPCC.Web.UI.Point(0,0);if(aaG>bx.clientWidth){cQ.x=qI.x;}else{cQ.x=qI.x+(aaG/2);}if(abo>bx.clientHeight){cQ.y=qI.y;}else{cQ.y=qI.y+(abo/2);}if(ey===IPCC.PageLayout.VerticalScrollDirection){bx.scrollTop=axq+cQ.y-bx.clientHeight/2;bx.scrollLeft=cQ.x-bx.clientWidth/2;}else{bx.scrollLeft=axF+cQ.x-bx.clientWidth/2;bx.scrollTop=cQ.y-bx.clientHeight/2;}};this.amY=function(){var dv=kb();var de=[];if(dv){de=sv(dv);}var H=0;for(H=0;H<de.length;H++){Kx(de[H]);}if(K.zZ.get_length()>0){K.zZ.removeAllDocuments();}};this.XD=function(av,aq,dn,cV){if(aA[av]&&aA[av].gz===true){var bq=document.getElementById(aA[av].aG);if(bq&&bq.az&&bq.az.eZ()===true){if(cV){IPCC.aS.cV(cV,"selectText");var gf=bq.az.BB();var ayV=gf.kH;var azM=gf.cN;gf.kH=cV;gf.cN=cV;bq.az.showTextSelection(aq,dn);gf.kH=ayV;gf.cN=azM;}else{bq.az.showTextSelection(aq,dn);}}}};this.amU=function(){var dv=kb();var de=[];if(dv){de=sv(dv);}var H;for(H=0;H<de.length;H++){if(aA[de[H]].gz===true){var eg=document.getElementById(aA[de[H]].aG),az=eg?eg.az:undefined;if(az&&az.eZ()===true){az.showEmptyTextSelection(0);az.extendTextSelection(undefined);az.display();}}}};this.amj=function(av){if(aA[av]&&aA[av].gz===true){var eg=document.getElementById(aA[av].aG),az=eg?eg.az:undefined;if(az&&az.eZ()===true){az.showEmptyTextSelection(0);az.extendTextSelection(undefined);az.display();}}};this.yE=function(){var aI,aP,az;be=null;IPCC.V.forEach(Nb,function(H){aI=aA[H];aP=document.getElementById(aI.aG);if(aP){az=aP.az;}if(az){if(az.eZ()&&az.CF()){az.showEmptyTextSelection(0);az.extendTextSelection(undefined);if(aI.gz){az.display();}}}aI=aP=az=undefined;});};this.xf=function(av,sa){var bq;var bu;var adA=function(apW,auU){return(apW+auU)%360;};aA[av].hl=adA(aA[av].hl,sa);if(aA[av].aG){bq=document.getElementById(aA[av].aG);}if(bq===undefined||bq===null){return;}bu=bq.az;if(bu&&bu.eZ()===false){aA[av].Cs=adA(aA[av].Cs,sa);return;}tI=true;if(bu&&bu.eZ()===true){bu.rotate(sa);}var aR=0;var al=0;var ed=gc;var fg=hN;if(jr(qo)===true){ed=hN;fg=gc;}if(jr(aA[av].hl)===true){if(bu&&bu.eZ()===true){aR=bu.get_pageHeight();al=bu.get_pageWidth();}else{aR=hN;al=gc;}}else{if(bu&&bu.eZ()===true){aR=bu.get_pageWidth();al=bu.get_pageHeight();}else{aR=gc;al=hN;}}tI=true;if(cq===IPCC.ViewMode.SinglePage){bq.style.width=aR*dc*cu/aA[av].hF+'px';bq.style.height=al*dc*cu/aA[av].he+'px';if(av===cg){ax.style.width=aR*dc*cu/aA[av].hF+'px';ax.style.height=al*dc*cu/aA[av].he+'px';}}else if(cq===IPCC.ViewMode.Document){bq.style.width=aR*dc*cu/aA[av].hF+'px';bq.style.height=al*dc*cu/aA[av].he+'px';var H=0;if(ey===IPCC.PageLayout.VerticalScrollDirection){if(aR*dc*cu/aA[av].hF>gN){gN=aR*dc*cu/aA[av].hF;}else if(bq.clientHeight>=gN-10){gN=0;for(H=0;H<aA.length;H++){bq=document.getElementById(aA[H].aG);if(bq&&bq.clientWidth>gN){gN=bq.clientWidth;}}}if(al*dc*cu/aA[av].he>gJ){gJ=al*dc*cu/aA[av].he;}}else{if(al*dc*cu/aA[av].he>gJ){gJ=al*dc*cu/aA[av].he;}else if(bq.clientWidth>=gJ-10){gJ=0;for(H=0;H<aA.length;H++){bq=document.getElementById(aA[H].aG);if(bq&&bq.clientHeight>gJ){gJ=bq.clientHeight;}}}if(aR*dc*cu/aA[av].hF>gN){gN=aR*dc*cu/aA[av].hF;}}}else{var hf;if(ey===IPCC.PageLayout.VerticalScrollDirection){hf=ed/aR*dc*cu/aA[av].he;if(bu&&bu.eZ()===true){bu.zoom(hf);}tI=true;bq.style.width=ed*dc*cu/aA[av].hF+'px';bq.style.height=hf*al+'px';}else{hf=fg/al*dc*cu/aA[av].he;if(bu&&bu.eZ()===true){bu.zoom(hf);}tI=true;bq.style.height=fg*dc*cu/aA[av].he+'px';bq.style.width=hf*aR+'px';}if(ed*dc*cu/aA[av].hF>gN){gN=ed*dc*cu/aA[av].hF;}if(fg*dc*cu/aA[av].he>gJ){gJ=fg*dc*cu/aA[av].he;}}if(bu&&bu.eZ()===true){tI=true;this.yl(bq,av);setTimeout(function(){if(rW===false){return;}var iF=yw();var md=IPCC.V.filter(dO,function(el){return av===el.aY-1;});zI(md);lf(md,true,iF);},0);}};this.aDQ=function(sa){var tP=cg;this.xf(cg,sa);if(cq!==IPCC.ViewMode.SinglePage){var K=this;setTimeout(function(){K.qh(tP);},10);}};this.adk=function(sa){var tP=cg;var dv=kb();if(cq!==IPCC.ViewMode.SinglePage){this.qh(tP);}var gn=0;var gE=aA.length-1;var H;for(H=gn;H<=gE;H++){this.xf(H,sa);}if(cq!==IPCC.ViewMode.SinglePage){var K=this;setTimeout(function(){ajJ(dv);K.qh(tP);},10);}};function afs(zh,lJ){var mv=0;var oq=0;var BY=false;tI=true;var dv=kb();if(dv){IPCC.V.forEach(dv.Ih,function(bM){var hC=ey===IPCC.PageLayout.VerticalScrollDirection?bM.ao+fN:bM.bA+hd+fT;var azJ=zh.Ih[bM.bk];if(azJ.yn){BY=true;return;}if(lJ&&bM.bk>=lJ.ii&&bM.bk<=lJ.iq){var bq=document.getElementById(aA[bM.bk].aG);if(bq){return;}}if(BY){oq+=hC;}else{mv+=hC;}});}return{oq:oq,mv:mv};};function ajJ(zh){if(cq===IPCC.ViewMode.SinglePage){return;}var lJ=OC(zh);var qU=afs(zh,lJ);if(ey===IPCC.PageLayout.VerticalScrollDirection){ax.style.paddingTop=qU.mv+'px';ax.style.paddingBottom=qU.oq+'px';}else{ax.style.paddingLeft=qU.mv+'px';ax.style.paddingRight=qU.oq+'px';}};function avE(zh){if(cq===IPCC.ViewMode.SinglePage){return;}var NN;var lJ;if(ey===IPCC.PageLayout.VerticalScrollDirection){NN=parseInt(window.getComputedStyle(ax,null).getPropertyValue('padding-top'),10);}else{NN=parseInt(window.getComputedStyle(ax,null).getPropertyValue('padding-left'),10);}lJ=OC(zh);var qU=afs(zh,lJ);if(ey===IPCC.PageLayout.VerticalScrollDirection){ax.style.paddingTop=qU.mv+'px';ax.style.paddingBottom=qU.oq+'px';bx.scrollTop=bx.scrollTop+qU.mv-NN;}else{ax.style.paddingLeft=qU.mv+'px';ax.style.paddingRight=qU.oq+'px';bx.scrollLeft=bx.scrollLeft+qU.mv-NN;}};this.Le=function(av){IPCC.aS.ly(av,'pageIndex',0,aA.length-1);var aI=aA[av];if(aI&&aI.aG&&(aI.CV===true||aI.vY===false)){var aE;var bq=document.getElementById(aI.aG);if(bq.az){bq.az.dispose();}alp(bq);aE=new IPCC.Web.UI.PageView(bq,false,bx);if(aE){aE.set_autoUpdate(false);aE.uF(bq);aE.initialize();aE.set_imageHandlerUrl(aI.ag.qT);aE.set_requireRequestsOptimize(tC);if(mp!==undefined){aE.set_serviceResponseTimeout(mp);}aE.set_scrollBars(IPCC.Web.UI.ScrollBars.None);Vb(aE,aI);Tm(aE);VD(aE);UJ(aE);UH(aE);}aE.set_textRequired(sN);aE.set_markHandleMode(st);aE.set_cursor(-1);aE.set_gamma(pH);aE.set_sharpening(qZ);aE.set_svgLineWidthMultiplier(ke);aE.nd(K.iH());if(pG){aE.set_resourcePath(pG);}if(iB){aE.FI(iB());}else{aE.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aE.oP(K.lU());aI.CV=false;aI.Ag=false;var An={encodedDocumentIdentifier:aI.ag.get_encodedDocumentIdentifier(),pageNumber:av,artServiceOption:0,documentArtPage:aI.ff,viewRotationDegreesClockwise:aI.hl};if(aI.aH){An.artPage=aI.aH;}if(aI.ff){An.documentArtPage=aI.ff;}aE.openPage(An);aI.vY=true;jJ++;}};function Sl(eu,ef){if(gc<=0){return;}var ed=gc;var fg=hN;var eI=cu/aA[0].hF;if(jr(qo)===true){ed=hN;fg=gc;eI=cu/aA[0].he;}var kd=1;if(ey===IPCC.PageLayout.VerticalScrollDirection){kd=(bx.clientWidth-vh()-(hd+fT+lL+oQ))/(ed*eI);}else{kd=(bx.clientHeight-(fN+io+nC+oG))/(fg*eI);}var vk;if(dc<=kd){vk=false;}else if(dc>kd){vk=true;}if(isNaN(kd)||kd<=0||Math.abs(kd)===Infinity){return;}dc=kd;gN=0;gJ=0;var gn=0;var gE=aA.length-1;var bE=0;var bu;for(bE=gn;bE<=gE;bE++,bu=undefined){var bq=document.getElementById(aA[bE].aG);if(bq){bu=bq.az;}if(bu===undefined){continue;}var aR=ed;var al=fg;if(aA[bE].jX()>0){if(jr(aA[bE].hl)===true){aR=aA[bE].pU();al=aA[bE].jX();}else{aR=aA[bE].jX();al=aA[bE].pU();}}var hf=1;if(ey===IPCC.PageLayout.VerticalScrollDirection){hf=ed/aR*dc*eI;bq.style.width=ed*dc*eI+'px';bq.style.height=al*hf+'px';if(ed*dc*eI>gN){gN=ed*dc*eI;}if(al*hf*cu/aA[bE].he>gJ){gJ=al*hf*eI;}}else{hf=fg/al*dc;bq.style.height=fg*dc*eI+'px';bq.style.width=aR*hf*eI+'px';if(aR*dc*cu/aA[bE].hF>gN){gN=aR*dc*eI;}if(fg*hf*eI>gJ){gJ=fg*hf*eI;}}if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.zoom(hf);}if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.display();}bu=undefined;}kb();od();setTimeout(function(){zI(dO);lf(dO);},0);K.bB('scaleChanged',{scaleType:(vk)?"scaledDown":"scaledUp",scaleTrigger:eu,fitType:ef,scaleFactor:dc});};function jr(ei){switch(ei){case 90:case 270:case-90:case-270:return true;default:return false;}};function hH(qF){var wB=document.createElement('div');var H;for(H in qF){if(qF.hasOwnProperty(H)){wB.style[H]=qF[H];}}return wB;};this.arz=function(){if(Hf===undefined||Hf===null){Hf=1;}var dw=this.nx().id.toString()+'_'+Hf.toString();Hf++;return dw;};this.Ym=function(){return this.zZ;};this.gB=function(azy){for(var pO=0;pO<aA.length;pO++){var aqw=aA[pO];if(azy===aqw.ej){return aA[pO].aH;}}return null;};this.aCT=function(iP){var bq=document.getElementById(aA[iP.get_pageNumber()].aG);if(bq){return bq.az.mT();}return null;};function axV(ay,L){UG(L);};function UG(aM){var hI=aM.imGearDocument;var are=K.arz();hI.PW=are;var dQ=hI.get_pages();var bX=dQ.get_length();if(bX>0){var OO=document.createDocumentFragment();for(var bE=0;bE<bX;bE++){var aI=dQ.getPage(bE);if(!aI.ag){aI.ag=hI;}HW(aI,aI.get_pageNumber()===0?null:OO);}ax.appendChild(OO);}};var aqj=IPCC.V.ZB(function(){if(II.length>0&&lG){var cZ;var Hn;var IJ=0;IPCC.V.forEach(II,aai);var akA=kb();if(!akA){return;}var fP=akA.Ih;IPCC.V.forEach(II,function(aI,bk){cZ=aI.oY();Hn=fP[cZ];if(ey===IPCC.PageLayout.VerticalScrollDirection){IJ+=Hn.ao+fN;}else{IJ+=Hn.bA+hd;}});if(IJ&&cq!==IPCC.ViewMode.SinglePage){if(ey===IPCC.PageLayout.VerticalScrollDirection){ax.style.paddingBottom=IJ+'px';}else{ax.style.paddingRight=IJ+'px';}}zI(dO,true);lf(dO,true);if(K.zZ.OM(0).fM===aA.length){K.bB('allPagesAdded');}od();}II=[];},10);function Vm(ay,L){if(L.imGearPage.get_pageNumber()===0){HW(L.imGearPage);return;}II.push(L.imGearPage);aqj();};function VC(ay,L){var cZ=L.imGearPage.get_pageNumber();var Sm=L.imGearPage.ag.get_documentIdentifier();for(var bE=0;bE<aA.length;bE++){if(aA[bE].ej.get_pageNumber()===cZ&&aA[bE].ej.ag.get_documentIdentifier()===Sm){var bq=document.getElementById(aA[bE].aG);if(bq){ax.removeChild(bq);if(bq.az){bq.az.dispose();var md=IPCC.V.filter(dO,function(el){return el.aY===aA[bE].cZ+1;});Eu(md);}}aA.splice(bE,1);}}};function aai(iP){if(!IPCC.V.contains(aA,iP)){var bK=new IPCC.bK({page:iP});if(qo){bK.hl=qo;}if(!bK.ag){bK.ag=iP.ag;}aA.push(bK);IPCC.Pagecounter++;aA=aA.sort(function(dp,fe){return dp.cZ-fe.cZ;});atg(iP);asB(iP);amM(iP);bK.arv=false;bK.Ag=false;asd(bK);arX(bK);arE(bK);atk(bK);asM(bK);avh(bK);asw(bK);aps(bK);aok(bK);alS(bK);return bK;}};function HW(aI,OO){var OU=aI.get_pageNumber();var cC=K.nx();var hI=null;var Wu;var bX=K.get_documents().get_length();for(var bF=0;bF<bX;bF++){hI=K.get_documents().getDocument(bF);if(hI!==null){Wu=hI.PW;if(Wu===aI.ag.PW){break;}}}var gV=IPCC.V.find(aA,function(bK){return bK.ej&&bK.ej===aI;});if(!gV){gV=aai(aI);}gV.GA=true;var adj=gV.aG;if(gV.GC===1){return document.getElementById(adj);}gV.GC=1;if(ax===''){adb();}var jh=(function(){var am;if(cq!==IPCC.ViewMode.SinglePage){am=hH({overflow:'hidden',position:'relative'});}else{am=hH({overflow:'hidden',position:'absolute',margin:'0px'});if(gV.cZ>cg){K.ik(am,'pccNextPage');}else if(gV.cZ<cg){K.ik(am,'pccPreviousPage');}else{K.ik(am,'pccCurrentPage');}}pJ.push(aI.cZ);K.ik(am,'pccPageListItem');alp(am);var Eb=VY(gV);am.style.width=Eb.bA+'px';am.style.height=Eb.ao+'px';var dv=kb();var NC;if(ey===IPCC.PageLayout.VerticalScrollDirection||cq===IPCC.ViewMode.SinglePage){am.style.display='block';if(gc>0){am.style.margin=fN+'px auto '+io+'px auto';}if(dv.cd.length>0&&cq!==IPCC.ViewMode.SinglePage){NC=dv.cd[0];if(OU<NC.bk){var apO=IPCC.V.Ot(ax,'padding-top');var arP=IPCC.V.Je(apO);var UR=arP-Eb.ao-fN;if(UR<0){UR=0;}ax.style.paddingTop=UR+'px';}else{var arY=IPCC.V.Ot(ax,'padding-bottom');var asx=IPCC.V.Je(arY);var UE=asx-Eb.ao-fN;if(UE<0){UE=0;}ax.style.paddingBottom=UE+'px';}}}else{am.style.display='inline-block';if(gc>0){am.style.margin=fN+'px '+hd+'px '+io+'px '+fT+'px';}if(dv.cd.length>0&&cq!==IPCC.ViewMode.SinglePage){NC=dv.cd[0];if(OU<NC.bk){var aqD=IPCC.V.Ot(ax,'padding-left');var asm=IPCC.V.Je(aqD);var UC=asm-Eb.bA-hd;if(UC<0){UC=0;}ax.style.paddingLeft=UC+'px';}else{var apT=IPCC.V.Ot(ax,'padding-right');var apP=IPCC.V.Je(apT);var Vi=apP-Eb.bA-hd;if(Vi<0){Vi=0;}ax.style.paddingRight=Vi+'px';}}}am.setAttribute('id',adj);return am;}());gV.ej=gV.ej||aI;gV.aeC=gV.aeC||Wu;gV.hl=gV.hl!==undefined?gV.hl:qo;gV.gz=false;function aDq(eg){var Vn=eg.childNodes;var aEq=IPCC.V.find(aA,function(bK){if(bK.cZ<=OU){return;}var hZ=IPCC.V.find(Vn,function(hZ){return hZ.id&&hZ.id===bK.aG;});if(!hZ){return;}if(bK.cZ>OU){hZ.parentElement.insertBefore(jh,hZ);return true;}});if(!aEq){eg.appendChild(jh);}}(function aFL(){if(aA.length===1){ax.appendChild(jh);}else{return aDq(OO||ax);}}());var aqg=false;if(jh&&cC.clientWidth>0){var ani=cC.clientWidth/(jh.clientWidth+(jh.clientLeft*2));var aDU=cC.clientHeight/(jh.clientHeight+(jh.clientTop*2));if(aA.length<(ani*aDU)){aqg=true;}}if(aA.length<2){var aE=new IPCC.Web.UI.PageView(jh,false,bx);if(aE){aE.set_autoUpdate(false);aE.uF(jh);aE.initialize();aE.set_imageHandlerUrl(aI.ag.qT);aE.set_imGearPage(gV.ej);aE.set_artPage(gV.aH);aE.set_documentArtPage(gV.ff);aE.set_requireRequestsOptimize(tC);if(mp!==undefined){aE.set_serviceResponseTimeout(mp);}aE.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aE.set_textRequired(sN);aE.set_markHandleMode(st);aE.set_cursor(-1);aE.set_gamma(pH);aE.set_sharpening(qZ);aE.set_svgLineWidthMultiplier(ke);aE.nd(K.iH());if(pG){aE.set_resourcePath(pG);}if(iB){aE.FI(iB());}else{aE.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aE.oP(K.lU());}Vb(aE,gV);VD(aE);UJ(aE);Tm(aE);UH(aE);aE.openPage({encodedDocumentIdentifier:aI.ag.get_encodedDocumentIdentifier(),pageNumber:aI.get_pageNumber(),artServiceOption:0,imGearPage:gV.ej,artPage:gV.aH,documentArtPage:gV.ff,viewRotationDegreesClockwise:gV.hl});gV.vY=true;jJ++;}return jh;};function adp(bK){return bK.GA;};function od(){if(jJ>0||lG===false||lx!==null){return;}if(Ao){return;}var dv=kb();if(!dv){return;}aA.forEach(function(aI,bk){if(!aI.gz){return;}K.Ib(bk);});var AL=azt(dv);IPCC.V.forEach(AL||[],function(bk){var aI=aA[bk];if(aI){YU(aI);}});IPCC.V.forEach(dv.cd,function(Hn){var bK=aA[Hn.bk];if(adp(bK)&& !bK.gz&&bK.GC){MA(bK);}});if(dv.cd.length!=0){var lJ=OC(dv);for(var bk=lJ.ii;bk<=lJ.iq;bk++){var bK=aA[bk];if(!adp(bK)){bK.GA=true;var Tj=K.Ym();var hI=Tj.OM(0);var iP=hI.dQ.hX(bk);HW(iP);ZY(bK,false);}}}amw();};function azt(dv){var aEp=sv(dv);var AL=[];IPCC.V.forEach(aEp,function(bk){var aI=aA[bk];if(aI&&aI.GC===0){var Tj=K.Ym();var hI=Tj.OM(0);var iP=hI.dQ.hX(bk);HW(iP);AL.push(bk);}});return AL;};function amw(){var wW=bx.scrollTop;var vo=bx.scrollLeft;var uz=bx.clientHeight;var uB=bx.clientWidth;var uM=bx.scrollWidth;var wN=bx.scrollHeight;var dv=TL({wW:wW,vo:vo,uz:uz,uB:uB,uM:uM,wN:wN});if(dv.cd.length!=0){var lJ=OC(dv);var ahx=aqZ(dv);var mv=0;var oq=0;var BY=false;IPCC.V.forEach(dv.Ih,function(bM){var hC=ey===IPCC.PageLayout.VerticalScrollDirection?bM.ao+fN:bM.bA+hd+fT;var bk= +bM.bk;if(bM.yn||(cq===IPCC.ViewMode.SinglePage&&bk===cg)){BY=true;return;}if(bk>=lJ.ii&&bk<=lJ.iq){if(bk>=ahx.ii&&bk<=ahx.iq){return;}if(BY){if(Kx(bk,true)> -1){oq+=hC;}}else{if(Kx(bk,true)> -1){mv+=hC;}}return;}if(BY){oq+=hC;Kx(bk);}else{mv+=hC;Kx(bk);}});}if(cq===IPCC.ViewMode.SinglePage){return;}if(ey===IPCC.PageLayout.VerticalScrollDirection){ax.style.paddingTop=mv+'px';ax.style.paddingBottom=oq+'px';}else{ax.style.paddingLeft=mv+'px';ax.style.paddingRight=oq+'px';}};function Kx(bE,aAu){var aI=aA[bE];if(!aI){return-1;}var cZ=aI.cZ;if(aAu===true&& !aI.gz){return-1;}aI.Ag=false;aI.vY=false;aI.gz=false;aI.GC=0;aI.GA=false;if(Oy&& !aI.ej.dC().aoc()&&Me!==true){aI.ej.agG();}var xM=document.getElementById(aI.aG);if(!xM){return-1;}if(xM.az){xM.az.dispose();var md=IPCC.V.filter(dO,function(el){return el.aY===cZ+1;});Eu(md);xM.parentElement.removeChild(xM);return bE;}else{xM.parentElement.removeChild(xM);}return-1;};function MA(bK){var am=document.getElementById(bK.aG);K.yl(am,bK.cZ);};function YU(bK){ZY(bK,true);MA(bK);};function ZY(aI,aDt){var am=document.getElementById(aI.aG);if(am===null){return;}var aE=new IPCC.Web.UI.PageView(am,false,bx);aE.set_autoUpdate(false);aE.uF(document.getElementById(aI.aG));aE.initialize();aE.set_imageHandlerUrl(aI.ag.qT);aE.set_imGearPage(aI.ej);aE.set_artPage(aI.aH);aE.set_requireRequestsOptimize(tC);if(mp!==undefined){aE.set_serviceResponseTimeout(mp);}aE.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aE.set_textRequired(sN);aE.set_markHandleMode(st);aE.set_cursor(-1);aE.set_gamma(pH);aE.set_sharpening(qZ);aE.set_svgLineWidthMultiplier(ke);aE.nd(K.iH());if(pG){aE.set_resourcePath(pG);}if(iB){aE.FI(iB());}else{aE.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aE.oP(K.lU());Vb(aE,aI);VD(aE);UJ(aE);Tm(aE);UH(aE);if(aDt===true){aE.add_pageOpened(function aFY(aT){K.yl(am,aI.cZ);});}if(aI.Ag===false&&aI.ej){aI.GA=true;var An={encodedDocumentIdentifier:aI.ej.ag.get_encodedDocumentIdentifier(),pageNumber:aI.ej.get_pageNumber(),imGearPage:aI.ej,viewRotationDegreesClockwise:aI.hl};if(aI.aH){An.artPage=aI.aH;}if(aI.ff){An.documentArtPage=aI.ff;}aE.openPage(An);aI.vY=true;jJ++;}};function ags(aH,jA){var bo;aH.forEachMark(function(G){switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:var ai=G.get_points();var bJ=ai.zD(0);var jM=ai.zD(1);ai.setPoint(0,new IPCC.Web.UI.Point(bJ.x*jA,bJ.y*jA));ai.setPoint(1,new IPCC.Web.UI.Point(jM.x*jA,jM.y*jA));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bo=G.get_rectangle();G.set_rectangle({x:bo.x*jA,y:bo.y*jA,width:bo.width*jA,height:bo.height*jA});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:bo=G.get_rectangle();G.set_rectangle({x:bo.x*jA,y:bo.y*jA,width:bo.width*jA,height:bo.height*jA});var cL=G.cL,gv;for(var i=0;i<cL.length;i++){gv=cL[i];gv.x=gv.x*jA;gv.y=gv.y*jA;gv.width=gv.width*jA;gv.height=gv.height*jA;}break;default:break;}});};function Vb(aE,aI){function axm(sender,evnt){var adx=function(bA,ao,aY){var Vu={'width':bA,'height':ao,'pageNumber':aY};K.bB('pageOpening',Vu);};var cZ=evnt.pageNumber;var Sm=evnt.documentIdentifier;aI.aR=aE.get_pageWidth();aI.al=aE.get_pageHeight();var gG=aE.get_pageXResolution();var gO=aE.get_pageYResolution();if(!isNaN(parseFloat(gG))&&isFinite(gG)){aI.hF=gG;}if(!isNaN(parseFloat(gO))&&isFinite(gO)){aI.he=gO;}aE=null;for(var bE=0;bE<aA.length;bE++){if(lG&&aA[bE].ej.get_pageNumber()===cZ&&aA[bE].ej.ag.get_documentIdentifier()===Sm){aA[bE].vY=false;aA[bE].Ag=true;aA[bE].CV=false;if(cq===IPCC.ViewMode.SinglePage){var mq= -1;if(Array.prototype.indexOf){mq=pJ.indexOf(bE);}else{mq=IPCC.Web.kO(pJ,bE);}if(mq!== -1){pJ.splice(mq,1);}}var agd=false;for(var bF=0;bF<Nb.length;bF++){if(Nb[bF]===bE){agd=true;}}if(agd===false){Nb.push(bE);}var lA=0;var jK=0;var bq=document.getElementById(aA[bE].aG);var bu=bq.az;var ed;var fg;var Vr;if(gc===0&&(bE===0||aA[0].CV===true)){if(bq.currentStyle){nC=parseInt(bq.currentStyle.borderTopWidth,10)||0;fN=parseInt(bq.currentStyle.marginTop,10)||0;lL=parseInt(bq.currentStyle.borderLeftWidth,10)||0;hd=parseInt(bq.currentStyle.marginLeft,10)||0;oG=parseInt(bq.currentStyle.borderBottomWidth,10)||0;io=parseInt(bq.currentStyle.marginBottom,10)||0;oQ=parseInt(bq.currentStyle.borderRightWidth,10)||0;fT=parseInt(bq.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var yk=document.defaultView.getComputedStyle(bq);nC=parseInt(yk.borderTopWidth,10)||0;fN=parseInt(yk.marginTop,10)||0;lL=parseInt(yk.borderLeftWidth,10)||0;hd=parseInt(yk.marginLeft,10)||0;oG=parseInt(yk.borderBottomWidth,10)||0;io=parseInt(yk.marginBottom,10)||0;oQ=parseInt(yk.borderRightWidth,10)||0;fT=parseInt(yk.marginRight,10)||0;}if(cq===IPCC.ViewMode.SinglePage){bq.style.margin=fN+'px 0px '+io+'px 0px';ax.style.margin="0px auto";}else{if(ey===IPCC.PageLayout.VerticalScrollDirection){bq.style.margin=fN+'px auto '+io+'px auto';}else{bq.style.margin=fN+'px '+fT+'px '+io+'px '+hd+'px';ax.style.margin='0px '+fT+'px 0px '+hd+'px';}}gc=bu.get_pageWidth();hN=bu.get_pageHeight();aid=gG;ed=gc;fg=hN;var eI=cu/aA[bE].hF;if(jr(aA[bE].hl)===true){fg=gc;ed=hN;eI=cu/aA[bE].he;}K.aAC();if(cq===IPCC.ViewMode.SinglePage){var asW=(bx.offsetWidth-(hd+fT+lL+oQ));var asA=(bx.offsetHeight-(fN+io+nC+oG+ait));ow=asW/(ed*eI);Vr=asA/(fg*eI);if(Vr<ow){ow=Vr;}bu.zoom(ow*eI);}else if(ey===IPCC.PageLayout.VerticalScrollDirection){ow=(bx.offsetWidth-IPCC.Web.nM()-(hd+fT+lL+oQ))/(ed*eI);bu.zoom(ow*eI);}else{ow=(bx.offsetHeight-IPCC.Web.nM()-(fN+io+nC+oG))/(fg*eI);bu.zoom(ow*eI);}lA=ed*ow*eI;jK=fg*ow*eI;bq.style.width=lA+'px';bq.style.height=jK+'px';if(cq===IPCC.ViewMode.SinglePage){ax.style.width=lA+'px';ax.style.height=jK+'px';}if(cq!==IPCC.ViewMode.SinglePage){for(var pO=0;pO<aA.length;pO++){if(aA[pO].gz===false&&pO!==bE){if(aA[pO].aG){bq=document.getElementById(aA[pO].aG);bq.style.width=ed*ow+'px';bq.style.height=fg*ow+'px';if(ey===IPCC.PageLayout.VerticalScrollDirection){bq.style.margin=fN+'px auto '+io+'px auto';}else{bq.style.margin=fN+'px '+fT+'px '+io+'px '+hd+'px';}}}}}dc=ow;adx(aI.aR,aI.al,cZ+1);bq.az.display();}else{if(cq===IPCC.ViewMode.Document||cq===IPCC.ViewMode.SinglePage){if(jr(aA[bE].hl)===true){lA=bu.get_pageHeight()*dc*cu/aA[bE].hF;jK=bu.get_pageWidth()*dc*cu/aA[bE].he;}else{lA=bu.get_pageWidth()*dc*cu/aA[bE].hF;jK=bu.get_pageHeight()*dc*cu/aA[bE].he;}}else{var hf;var aR=bu.get_pageWidth();var al=bu.get_pageHeight();ed=gc;fg=hN;if(jr(qo)===true){ed=hN;fg=gc;}if(jr(aA[bE].hl)===true){aR=bu.get_pageHeight();al=bu.get_pageWidth();}if(ey===IPCC.PageLayout.VerticalScrollDirection){hf=ed/aR*dc*cu/aA[0].he;lA=ed*dc*cu/aA[0].hF;jK=al*hf;}else{hf=fg/al*dc*cu/aA[0].hF;jK=fg*dc*cu/aA[0].he;lA=aR*hf;}}if(lA!==Math.round(lA)){lA=Math.floor(lA*100)/100;}if(jK!==Math.round(jK)){jK=Math.floor(jK*100)/100;}if(bq.style.width!==lA+'px'||bq.style.height!==jK+'px'){if(ey===IPCC.PageLayout.VerticalScrollDirection){bq.style.width=lA+'px';bq.style.height=jK+'px';}else{bq.style.width=lA+'px';bq.style.height=jK+'px';}zI(dO,true);lf(dO,true);}adx(aI.aR,aI.al,cZ+1);}if(lA>gN){gN=lA;if(ey===IPCC.PageLayout.VerticalScrollDirection){bx.scrollLeft=(gN-bx.clientWidth)/2;}}if(jK>gJ){gJ=jK;if(ey===IPCC.PageLayout.HorizontalScrollDirection){bx.scrollTop=(gJ-bx.clientHeight)/2;}}if(aA[bE].Cs>0){var Rz=document.getElementById(aA[bE].aG).az;if(Rz){Rz.rotate(aA[bE].Cs);Rz.display();aA[bE].Cs=0;}}if(jJ>0){jJ=jJ-1;}if(aA[bE].agw()===true){var iP=aA[bE].ej;var jA=aA[bE].jX()/iP.agU();if(jA!==1){var aH=K.gB(iP);if(aH){ags(aH,jA);}}}aA[bE].YZ(false);kb();var Fl=new IPCC.OpenPageEventArgs();Fl.pageIndex=evnt.pageNumber;Fl.imGearPage=evnt.imGearPage;Fl.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Fl.pageNodeID=aA[bE].aG;K.bB('pageOpened',Fl);break;}}if(jJ===0&&ml===null&&lx===null){setTimeout(function(){od();},60);}};aE.add_pageOpened(axm);};function VD(aE){function ayT(ay,ac){if(lG===false){return;}var abw=aE.nx();if(abw!==undefined){aBy(abw);}var yM;if(ac.pageNumber>=0){if(aA[ac.pageNumber].aG){yM=aA[ac.pageNumber].aG;}}aA[ac.pageNumber].CV=true;aA[ac.pageNumber].vY=false;aA[ac.pageNumber].Ag=false;aA[ac.pageNumber].gz=false;var mZ=new IPCC.ExceptionEventArgs();mZ.exception=ac.exception;mZ.pageIndex=ac.pageNumber;mZ.pageNodeID=yM;K.bB('pageOpenFailed',mZ);if(jJ>0){jJ=jJ-1;if(jJ===0){setTimeout(function(){od();},60);}}};aE.add_pageOpenFailed(ayT);};function UJ(aE){function ayx(ay,ac){if(lG===false){return;}var L=new IPCC.PageEventArgs();L.pageIndex=ac.aY;L.imGearPage=aA[ac.aY].ej;L.pageNodeID=aA[ac.aY].aG;aA[ac.aY].gz=true;if(cq===IPCC.ViewMode.SinglePage){var mq= -1;if(Array.prototype.indexOf){mq=pJ.indexOf(ac.aY);}else{mq=IPCC.Web.kO(pJ,ac.aY);}if(mq!== -1){pJ.splice(mq,1);}}K.bB('pageDisplayed',L);setTimeout(function(){var md=IPCC.V.filter(dO,function(el){if(cq===IPCC.ViewMode.SinglePage){return ac.aY===el.aY-1&&el.aY-1===cg;}else{return ac.aY===el.aY-1;}});zI(md);lf(md);},0);};aE.add_pageDisplayed(ayx);};function asB(aI){function Ij(ay,ac){if(lG===false){return;}K.bB('textPageReady',{pageIndex:ac.pageNumber,containsText:ac.containsText});var dv=kb();var de=[];if(dv){de=sv(dv);}if(ac.containsText===true&&ac.pageNumber>=de[0]&&ac.pageNumber<=de[de.length-1]){if(aA[ac.pageNumber].aH&&aA[ac.pageNumber].aH.get_markCount()>0){var bq=document.getElementById(aA[ac.pageNumber].aG);K.yl(bq,ac.pageNumber);}}};aI.zN(Ij);};function amM(aI){function ayX(ay,ac){if(lG===false){return;}var ff=aA[ac.pageNumber].ff;aI.ahH().Ky().kT(function(iA){var G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),bo=iA.di();G.set_rectangle(new IPCC.Web.UI.Rectangle(bo.x,bo.y,bo.width,bo.height));G.set_href(iA.ahi());G.set_lineColor(iA.amZ());G.set_lineWidth(iA.amP());G.set_borderPattern(iA.anb());G.set_borderType(iA.amC());G.set_borderHorizontalRadius(iA.alU());G.set_borderVerticalRadius(iA.anv());G.set_borderOpacity(iA.alI());ff.addMark(G);iA.aBe(G);});K.bB('hyperlinkPageReady',{pageIndex:ac.pageNumber});var dv=kb();var de=[];if(dv){de=sv(dv);}if(ac.pageNumber>=de[0]&&ac.pageNumber<=de[de.length-1]){var bq=document.getElementById(aA[ac.pageNumber].aG);K.yl(bq,ac.pageNumber);}};aI.XS(ayX);};function atg(aI){function Ip(ay,ac){if(lG===false){return;}var yM;if(ac.pageNumber>=0){if(aA[ac.pageNumber].aG){yM=aA[ac.pageNumber].aG;}}K.bB('textExtractionFailed',{'exception':ac.exception,'pageIndex':ac.pageNumber,'pageNodeID':yM});};aI.zr(Ip);};function Tm(aE){function avM(ay,ac){if(lG===false){return;}var yM;if(isNaN(ac.pageNumber)===false){if(ac.pageNumber>=0){if(aA[ac.pageNumber].aG){yM=aA[ac.pageNumber].aG;}}aA[ac.pageNumber].CV=true;aA[ac.pageNumber].vY=false;aA[ac.pageNumber].Ag=false;aA[ac.pageNumber].gz=false;}var mZ=new IPCC.ExceptionEventArgs();mZ.functionName=ac.function_name;mZ.exception=ac.exception;mZ.pageIndex=ac.pageNumber;mZ.pageNodeID=yM;K.bB('exceptionThrown',mZ);if(jJ>0){jJ=jJ-1;if(jJ===0){setTimeout(function(){od();},60);}}};aE.add_exceptionThrown(avM);};function UH(aE){function FU(ay,ac){K.bB('markCreating',ac);};aE.add_markCreating(FU);};function asd(bK){function YX(){if(lG===false){return;}var dv=kb();var de=[];if(dv){de=sv(dv);}if(bK.cZ>=de[0]&&bK.cZ<=de[de.length-1]){var bq=document.getElementById(bK.aG);K.yl(bq,bK.cZ);}var L=new IPCC.Web.UI.MarkEventArgs();L.pageIndex=bK.cZ;K.bB('marksLoaded',L);};bK.aH.add_marksLoaded(YX);};function arX(bK){function kC(ay,ac){var L=new IPCC.Web.UI.MarkEventArgs();L.pageIndex=bK.cZ;L.mark=ac.mark;L.zIndex=ac.zIndex;L.clientX=ac.clientX;L.clientY=ac.clientY;K.bB('markAdded',L);};bK.aH.add_markAdded(kC);};function arE(bK){var TZ,re=false,Xc,Xw;function Ht(T,eF){if(rW===false){return;}var iF=yw();afZ(T,eF,iF);lf(dO,true,iF);};function awV(T,eF){Xc=T;Xw=eF;if(re&& !TZ){TZ=JM(function(){re=false;TZ=undefined;if(Xc&&Xw){Ht(Xc,Xw);}else{Ht(T,eF);}});}};function qD(ay,ac){if(ac.mark.yX===true){return;}var L=new IPCC.Web.UI.MarkEventArgs();L.pageIndex=bK.cZ;L.mark=ac.mark;L.zIndex=ac.zIndex;L.propertyName=ac.propertyName;K.bB('markChanged',L);var eF=dO[ac.mark.get_markID()];if(eF&&(ac.propertyName==='rectangle'||ac.propertyName==='points'||ac.propertyName==='startPoint'||ac.propertyName==='endPoint')){re=true;awV(ac.mark,eF);}else if(eF&&ac.propertyName==='visible'){var aCg=ac.mark.get_visible();var WK=(function(du){return IPCC.V.inArray(Os(),du.aY-1);})(eF);if(aCg&&WK){LA([eF]);lf(dO,true,yw());}else{Eu([eF]);}}};bK.aH.add_markChanged(qD);};function atk(bK){function YF(ay,ac){var L=new IPCC.Web.UI.MarkEventArgs();L.pageIndex=bK.cZ;L.mark=ac.mark;L.zIndex=ac.zIndex;L.oldZIndex=ac.oldZIndex;K.bB('markReordered',L);};bK.aH.add_markReordered(YF);};function asM(bK){function CP(ay,ac){if(ac.mark.yX===true){return;}var L=new IPCC.Web.UI.MarkEventArgs();L.pageIndex=bK.cZ;L.mark=ac.mark;L.zIndex=ac.zIndex;K.bB('markSelectionChanged',L);};bK.aH.add_markSelectionChanged(CP);};function asw(bK){function Aj(ay,ac){if(ac.mark){var L=new IPCC.Web.UI.MarkEventArgs();L.pageIndex=bK.cZ;L.mark=ac.mark;L.zIndex=ac.zIndex;K.bB('markRemoved',L);var eF=dO[ac.mark.get_markID()];if(eF){if(ac.mark.get_conversation()===jB){jB=null;}eF.cX.parentElement.removeChild(eF.cX);delete dO[ac.mark.get_markID()];lf(dO,true);}}};bK.aH.add_markRemoved(Aj);};function avh(bK){function zS(ay,ac){var L=new IPCC.Web.UI.MarkEventArgs();L.pageIndex=bK.cZ;L.mark=ac.mark;L.zIndex=ac.zIndex;K.bB('markTextSelectionChanged',L);};bK.aH.add_markTextSelectionChanged(zS);};function afZ(T,eF,JW){var bK=aA[eF.aY-1],aI=document.getElementById(bK.aG),BU=Ti(T,bK.cZ+1);if(aI.az){var cQ=aI.az.transformPagePointToWindow(new IPCC.Web.UI.Point(BU.x,BU.y),true);var nV=(fN*bK.cZ);var GV=(aI.offsetTop-nV+cQ.y)/(JW-(fN*aA.length));eF.bo=BU;eF.RS=GV;}};function Eu(ig,aY){var aze=typeof aY==='undefined';IPCC.V.forEach(ig,function(cn){if(cn&&(aze||cn.pageNumber===aY)){cn.cX.style.display='none';cn.yn=false;}});};function vh(){if(kZ.currentStyle&&kZ.currentStyle.display==='none'){return 0;}return kZ.clientWidth;};function yw(){if(kZ.currentStyle&&kZ.currentStyle.display==='none'){return 0;}return kZ.offsetHeight;};function LA(ig,aY){var aBO=typeof aY==='undefined';IPCC.V.forEach(ig,function(el){if(aBO||el.pageNumber===aY){el.cX.style.display='';el.yn=true;if(el&&el.G&&el.G.get_visible()===false){el.cX.style.display='none';el.yn=false;}}});};function zI(ig,Tw){if(rW===false){return;}var Ma=(! !Tw)?IPCC.V.filter(dO,function(du){return IPCC.V.contains(Os(),du.aY-1);}):ig;var iF=yw();IPCC.V.forEach(Ma,function(el){afZ(el.G,el,iF);});};function auF(a,b){return(a.bo.y!==b.bo.y)?(a.bo.y-b.bo.y):(a.bo.x!==b.bo.x)?(a.bo.x-b.bo.x):(a.yC-b.yC);};function auy(a,b){return(a.bo.x!==b.bo.x)?(a.bo.x-b.bo.x):(a.bo.y!==b.bo.y)?(b.bo.y-a.bo.y):(a.yC-b.yC);};function aut(a,b){return(a.bo.y!==b.bo.y)?(b.bo.y-a.bo.y):(a.bo.x!==b.bo.x)?(b.bo.x-a.bo.x):(a.yC-b.yC);};function atw(a,b){return(a.bo.x!==b.bo.x)?(b.bo.x-a.bo.x):(a.bo.y!==b.bo.y)?(a.bo.y-b.bo.y):(a.yC-b.yC);};function awK(Xj,iF,yb){yb=yb||0;var _top,ahy,Hh,Qu=(fN*aA.length),RW=iF-Qu;IPCC.V.forEach(Xj,function(du){Hh=(fN*(du.aY-1));ahy=(du.RS*RW)+Hh;_top=Math.max(yb+5,ahy);if(du.cX.style.top!==_top+'px'){du.cX.style.top=_top+'px';}yb=_top+du.XM;});};function awQ(Xj,iF){var KW,_top,PE,Hh,aeN,Qu=(fN*aA.length),RW=iF-Qu;IPCC.V.forEach(Xj,function(du){Hh=(fN*(du.aY-1));PE=(du.RS*RW)+Hh;if(KW===undefined){KW=PE;}if(du.G.get_conversation()===jB){_top=PE;aeN=_top+du.XM;}else{_top=Math.min(KW-5-du.XM,PE);}if(du.cX.style.top!==_top+'px'){du.cX.style.top=_top+'px';}KW=_top;});return aeN;};function lf(ig,Tw,iF){if(rW===false){return;}if(!iF){iF=yw();}var amW=function(a,b){if(a.aY!==b.aY){return(a.aY-b.aY);}var aI=aA[a.aY-1],ei=aI.hl;switch(ei){case 90:return auy(a,b);case 180:return aut(a,b);case 270:return atw(a,b);default:return auF(a,b);}};var Ma=(! !Tw)?IPCC.V.filter(dO,function(du){return IPCC.V.inArray(Os(),du.aY-1);}):ig;LA(Ma);var aqB=IPCC.V.map(Ma,function(du,bw){du.XM=du.cX.offsetHeight;return du;});var Wp=aqB.sort(amW);var Ly=[],To=[],Vt=false;if(jB){var aAd=dO[jB.get_mark().get_markID()];if(!IPCC.V.inArray(Wp,aAd)){Vt=true;}IPCC.V.forEach(Wp,function(du){if(Vt){To.push(du);}else if(du.G.get_conversation()===jB){Ly.unshift(du);Vt=true;}else{Ly.unshift(du);}});}else{To=Wp;}var yb=0;if(Ly.length){yb=awQ(Ly,iF);}awK(To,iF,yb);};function awa(ig,T,cZ){var du=ig[T.mN()];du.aY=cZ;du.G=T;du.bo=Ti(T,cZ);du.yC=T.eP().nQ(T);};function Be(T,ig,kB){var eF=ig[T.get_markID()];if(eF){eF.cX.parentElement.replaceChild(kB,eF.cX);eF.cX=kB;}return eF;};function ane(T,ig,kB,axl,aDy,GV,cZ){var eF=new IPCC.eF();eF.cX=kB;dO[T.get_markID()]=eF;awa(dO,T,cZ);eF.RS=GV;axl.appendChild(kB);return eF;};function Ti(T,aY){var bo=(T.get_boundingRectangle)?T.get_boundingRectangle():{},ei=aA[aY-1].hl;switch(ei){case 90:return{x:bo.x,y:bo.y+(bo.height||0)};case 180:return{x:bo.x+(bo.width||0),y:bo.y+(bo.height||0)};case 270:return{x:bo.x+(bo.width||0),y:bo.y};default:return{x:bo.x,y:bo.y};}};function aps(bK){function Mu(ay,ac){var L=new IPCC.Web.UI.CommentEventArgs();L.pageIndex=bK.cZ;L.mark=ac.mark;L.index=ac.index;L.comment=ac.comment;var aI=document.getElementById(bK.aG);K.bB('commentAdding',L);setTimeout(function(){var JW=yw(),eF,cX;if(ac.index===0){cX=ox(ac.mark,{isSelected:false},null);if(!cX){return;}else if(!IPCC.V.wq(cX)){throw new Error(cX+' is not a valid HTMLElement');}var BU=Ti(ac.mark,bK.cZ+1),avH=BU.x,axv=BU.y;var cQ;if(aI&&aI.az){cQ=aI.az.transformPagePointToWindow(new IPCC.Web.UI.Point(avH,axv),true);}else{cQ=new IPCC.Web.UI.Point(0,0);}var nV=(fN*(bK.cZ));var GV=(aag(bK.cZ)-nV+cQ.y)/(JW-(fN*aA.length));eF=ane(ac.mark,dO,cX,kZ,cQ,GV,bK.cZ+1);}else{var Ff=ac.mark.get_conversation()===jB;var currentConversationDiv=dO[ac.mark.get_markID()];if(!currentConversationDiv){return;}cX=ox(ac.mark,{isSelected:Ff},currentConversationDiv.cX);if(!cX){return;}else if(!IPCC.V.wq(cX)){throw new Error(cX+' is not a valid HTMLElement');}eF=Be(ac.mark,dO,cX);}if(IPCC.V.contains(Os(),bK.cZ)){lf(dO,true,JW);}else{Eu([eF]);}K.bB('commentAdded',L);},0);};bK.aH.add_commentAdded(Mu);};function aok(bK){function Jo(ay,ac){var cX=null;if(dO[ac.mark.get_markID()]){cX=dO[ac.mark.get_markID()].cX;var Ff=ac.mark.get_conversation()===jB;cX=ox(ac.mark,{isSelected:Ff},cX);}if(!cX){K.bB('commentChanged',ac);return;}else if(!IPCC.V.wq(cX)){throw new Error(cX+' is not a valid HTMLElement');}if(cX){var iF=yw();Be(ac.mark,dO,cX);lf(dO,true,iF);}K.bB('commentChanged',ac);};bK.aH.add_commentChanged(Jo);};function alS(bK){function Oz(ay,ac){var cX=null;if(dO[ac.mark.get_markID()]){cX=dO[ac.mark.get_markID()].cX;}var Ff=ac.mark.get_conversation()===jB;cX=ox(ac.mark,{isSelected:Ff},cX);if(IPCC.V.wq(cX)){Be(ac.mark,dO,cX);}else{var eF=dO[ac.mark.get_markID()];if(eF){if(ac.mark.get_conversation()===jB){jB=null;}eF.cX.parentElement.removeChild(eF.cX);delete dO[ac.mark.get_markID()];}}lf(dO,true);K.bB('commentRemoved',ac);};bK.aH.add_commentRemoved(Oz);};function Yi(){var ao=hN;var bA=gc;var ape=function(jp){return{width:jp.width||(jp.right-jp.left),height:jp.height||(jp.bottom-jp.top),top:jp.top,bottom:jp.bottom,left:jp.left,right:jp.right};};var abL=ape(bx.getBoundingClientRect());var ng={height:abL.height/2};ng.width=ng.height*bA/ao;if(ng.width>bA/2){ng.width=bA/2;}if(ng.height>ao/2){ng.height=ao/2;}var XG=8;var agM={height:ao*XG,width:bA*XG};var aqv=bA*dc<ng.width+5;var aqk=bA*dc>agM.width-5;return{min:ng,max:agM,page:{width:bA,height:ao},viewport:abL,atMin:aqv,atMax:aqk,maxFactor:XG,minFactor:ng.width/bA};};function ky(aj,WJ){if(WJ){alq.apply(this,arguments);return;}var vk=(aj<dc)?true:false;var pb=Yi();if((pb.atMin&&vk)||(pb.atMax&& !vk)){return;}if(aj>pb.maxFactor){aj=pb.maxFactor;}else if(aj<pb.minFactor){aj=pb.minFactor;}if(!pb.atMax|| !pb.atMin){alq.apply(this,arguments);}};function alq(aj,aFn,aL,dr,DU,qs,eu,ef){if(isNaN(aj)||aj<=0||Math.abs(aj)===Infinity){return;}var VN=cg;var dv=kb();var vk=(aj<dc)?true:false;var gn=0;var gE=aA.length-1;if(cq===IPCC.ViewMode.SinglePage){if(cg-ug>=0){gn=cg-ug;}if(cg+ug<aA.length-1){gE=cg+ug;}}var JO=aj/dc;dc=aj;var EC=bx.getBoundingClientRect();var aao=(qs&&qs.x!==undefined)?qs.x:bx.scrollLeft+(EC.width/2);var abM=(qs&&qs.y!==undefined)?qs.y:bx.scrollTop+(EC.height/2);var azg=qs&&qs.x!==undefined&&qs.y!==undefined;gN=0;gJ=0;for(var bE=gn;bE<=gE;bE++){var bu;var bq=document.getElementById(aA[bE].aG);if(bq){bu=bq.az;}else{continue;}if(bE===VN){var Lj=bq.getBoundingClientRect();if(!azg){if(ey===IPCC.PageLayout.HorizontalScrollDirection&&EC.height>Lj.height){abM-=((EC.height-Lj.height)/2);}else if(ey===IPCC.PageLayout.VerticalScrollDirection&&EC.width>Lj.width){aao-=((EC.width-Lj.width)/2);}}}var hz=aj*cu/aA[bE].hF;var aR=gc;var al=hN;var ed=gc;var fg=hN;if(jr(qo)===true){ed=hN;fg=gc;}if(aA[bE].jX()>0){if(jr(aA[bE].hl)===true){aR=aA[bE].pU();al=aA[bE].jX();}else{aR=aA[bE].jX();al=aA[bE].pU();}}else{hz=aj*cu/aA[0].hF;if(jr(aA[bE].hl)===true){var Iv=aR;aR=al;al=Iv;hz=aj*cu/aA[0].he;}}var GR,JU,hf;if(cq===IPCC.ViewMode.SinglePage){JU=aR*hz;GR=al*hz;bq.style.width=JU+'px';bq.style.height=GR+'px';if(bE===cg){ax.style.width=JU+'px';ax.style.height=GR+'px';}if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.zoom(hz);}}else if(cq===IPCC.ViewMode.Document){JU=aR*hz;GR=al*hz;bq.style.width=JU+'px';bq.style.height=GR+'px';if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.zoom(hz);}if(aR*hz>gN){gN=aR*hz;}if(al*hz>gJ){gJ=al*hz;}}else{hz=aj*cu/aA[0].hF;if(ey===IPCC.PageLayout.VerticalScrollDirection){hf=ed/aR*hz;bq.style.width=ed*hz+'px';bq.style.height=al*hf+'px';if(ed*hz>gN){gN=ed*hz;}if(al*hz>gJ){gJ=al*hz;}}else{hf=fg/al*hz;bq.style.height=fg*hz+'px';bq.style.width=aR*hf+'px';if(aR*hz>gN){gN=aR*hz;}if(fg*hz>gJ){gJ=fg*hz;}}if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.zoom(hf);}}if(bu&&aA[bE].gz===true&&bu.eZ()===true){bu.display();if(IPCC.V.IW.PP){var axX=bx.style.display;bx.style.display='none';bx.style.display=axX;anp();}}}if(ey===IPCC.PageLayout.VerticalScrollDirection){IS=bx.scrollTop;}else{IS=bx.scrollLeft;}var KD,KL,PQ=0,OZ=0;if(DU){KD=DU.offsetLeft+JO*aL;KL=DU.offsetTop+JO*dr;bx.scrollLeft=KD-(bx.clientWidth/2)+PQ;bx.scrollTop=KL-(bx.clientHeight/2)+OZ;avE(dv);}else{if(ey===IPCC.PageLayout.VerticalScrollDirection){OZ=fN*(VN+1);}else{PQ=fT+((hd+fT)*(VN+1));}KD=JO*(aao-PQ);KL=JO*(abM-OZ);ajJ(dv);bx.scrollLeft=KD-(bx.clientWidth/2)+PQ;bx.scrollTop=KL-(bx.clientHeight/2)+OZ;}if(cq!==IPCC.ViewMode.SinglePage&&(eu===IPCC.ScaleTrigger.Pinch||vk===true)){od();}lf(dO,true);K.bB('scaleChanged',{scaleType:(vk)?"scaledDown":"scaledUp",scaleTrigger:eu,fitType:ef,scaleFactor:dc});};function anp(){var dummy=document.createElement('div');setTimeout(function(){bx.appendChild(dummy);bx.removeChild(dummy);},0);};function aeU(bS,eO,dZ,er){var gw=bS.igElements;er=er||ZM(bS);if(er&&(er.right-er.left)>0&&(er.bottom-er.top)>0){return new IPCC.Web.UI.Point(eO+er.left+gw.nj.scrollLeft,dZ+er.top+gw.nj.scrollTop);}else{return;}};function ZM(bS){var gw=bS.igElements;var er=null;if(!bS|| !gw|| !gw.mu){return null;}if(gw.mu.getBoundingClientRect){try{er=gw.mu.getBoundingClientRect();}catch(ad){return;}}else{var eg=gw.mu;var xd=document.documentElement;er={left:xd.clientLeft-xd.scrollLeft,top:xd.clientTop-xd.scrollTop};eg=eg.offsetParent;while(eg){er.top+=eg.offsetTop-eg.scrollTop;er.left+=eg.offsetLeft-eg.scrollLeft;eg=eg.offsetParent;}}return er;};function adb(){var cC=K.nx();var NZ=cC.id;var wp;var wP;var mg;var Xg;var Ww;var aX=false;var bS;var nz=[];var uq= -1;var gC=0;var pg;var Ed;var zP;var kc=0;var ci=0;var sk=null;var tw=null;if(ax===''){bx=hH({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bx.className='pccPageListContainerWrapper';bx.tabIndex=2;var Xl=function(eO,dZ){return IPCC.V.getPageFromPoint(eO,dZ,bx)||false;};var Yc=function(bS,eO,dZ){var gw=bS.igElements;var er=ZM(bS);if(er&&(er.right-er.left)>0&&(er.bottom-er.top)>0){return new IPCC.Web.UI.Point(eO-er.left-gw.nj.scrollLeft,dZ-er.top-gw.nj.scrollTop);}else{return;}};var azp=function(qv){qv.FI([new IPCC.nh(IPCC.Web.UI.MarkType.Text)]);};var azI=function(qv){qv.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var Mr=false,axb="";var ajU=function aER(ad,iM,aI){if(iM.match(/edit/)){Mr=true;return;}azp(aI.az);Mr=true;axb=iM;aI.az.Ki("touchstart",ad);};var akj=function(aI){Mr=false;azI(aI.az);};var WA=function(ad){if(ad.target&&ad.target.attributes&&ad.target.getAttribute('data-pcc-mark')){return ad.target;}else if(ad.target.parentElement&&ad.target.parentElement.attributes&&ad.target.parentElement.getAttribute('data-pcc-mark')){return ad.target.parentElement;}else if(ad.target.parentNode&&ad.target.parentNode.attributes&&ad.target.parentNode.getAttribute('data-pcc-mark')){return ad.target.parentNode;}else{return undefined;}};var Xp=function(ad){var dj=WA(ad);if(dj){return dj.getAttribute('data-pcc-mark');}return undefined;};var agL=function(qv){if(qv&&qv.eP()){qv.eP().CQ(function(G){G.set_selected(false);});qv.display();}};var NG,ZO=false;var NB=function(ad,L){var mJ={aZ:undefined,G:undefined,av:null};var kU=WA(ad);if(kU){if(typeof bS!=='undefined'&&bS!==false&&bS.az&&bS.igElements&&bS.az.eZ()===true){mJ.av=bS.az.oY();}if(kU.ImGearMarkRelation){mJ.aZ='mark';mJ.G=kU.ImGearMarkRelation.G;mJ.Zh=mJ.G.get_selected();return mJ;}else{while(!(kU.ImGearMarkRelation)&&kU.parentNode&&kU!==document.body){kU=kU.parentNode;if(kU.ImGearMarkRelation){mJ.aZ='mark';mJ.G=kU.ImGearMarkRelation.G;mJ.Zh=mJ.G.get_selected();return mJ;}}}}if(typeof bS!=='undefined'&&bS!==false&&bS.az&&bS.igElements&&bS.az.eZ()===true){mJ.av=bS.az.oY();var av=0;for(av=0;av<aA.length;av++){if(aA[av].aG===bS.id){if(typeof L.targetType==='undefined'||L.targetType===null){mJ.aZ='page';return mJ;}break;}}}return mJ;};var Qp=function(av,sH,kQ,awx){if(be===null||be===undefined){return;}var UV=false;if(sH===undefined){sH=be.sH;UV=true;}if(kQ===undefined){kQ=be.kQ;UV=true;}var G;var aI=document.getElementById(aA[av].aG);if(awx===true){G=be.ys;}else{G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);G.set_rectangle({x:0,y:0,width:0,height:0});G.cA=127;G.cN='#3366CC';G.cL=null;aI.az.mT().addMark(G);}G.set_selected(true);if(UV===true){if(be.gn===be.gE){G.aq=gC;G.dA=kQ-gC+1;G.kh=true;G.lj=true;aI.az.display();}else if(av===be.gn){G.aq=gC;G.dA=aI.az.dC().gm().dV()-1-sH;G.kh=true;G.lj=false;aI.az.display();}else if(av===be.gE){G.aq=0;G.dA=kQ+1;G.kh=false;G.lj=true;aI.az.display();}else{G.aq=0;G.dA=aI.az.dC().gm().dV()-1-gC;G.kh=false;G.lj=false;}}else{if(be.gn===be.gE){G.kh=true;G.lj=true;}else if(av===be.gn){G.kh=true;G.lj=false;}else if(av===be.gE){G.kh=false;G.lj=true;}else{G.kh=false;G.lj=false;}}be.ec[av]=G;};var alA=function(dj,aL,dr,MI){if(dj){var Qg=dj.getBoundingClientRect();aL=IPCC.V.NM(aL,Qg.left+MI);aL=IPCC.V.OJ(aL,Qg.right-MI);dr=IPCC.V.NM(dr,Qg.top+MI);dr=IPCC.V.OJ(dr,Qg.bottom-MI);}return{x:aL,y:dr};};var kF=function(ad){if(zP){if(zP.clientX===ad.clientX&&zP.clientY===ad.clientY){if(ad.rawEvent.preventDefault){ad.rawEvent.preventDefault();}else if(ad.preventDefault){ad.preventDefault();}if(ad.rawEvent.stopPropagation){ad.rawEvent.stopPropagation();}else if(ad.stopPropagation){ad.stopPropagation();}ZO=true;zP=undefined;return false;}}NG=ad;ain(ad,ad.clientX,ad.clientY,ad.button);};var ajd=function(ad,L){mg=NB(ad,L);};var ain=function(ad,eO,dZ,ps){var L=new IPCC.Web.UI.MouseEventArgs();bS=Xl(eO,dZ);ajd(ad,L);var iM;var kU=WA(ad);if(kU){iM=kU.getAttribute('data-pcc-mark');}var SL=false;var PJ=iM&&iM.substring(0,10);if(iM&&PJ==='texthandle'){Ed=true;SL=true;PJ=iM.substring(10,13);var G=kU.parentNode.ImGearMarkRelation.G;if(be&&G.cL===null){nz=be.qt.slice();nz[L.pageIndex]=undefined;}else{be=null;nz=[];K.yE();}var aco=function(avn){gC=be.sH;var H;for(H=be.gE;H>=be.gn;H--){var aI=document.getElementById(aA[H].aG);if(aI.az===undefined||aI.az===null){continue;}var zm=gC;if(H!==be.gn){zm=0;}var qV;if(H===be.gE){qV=be.kQ;}else{qV=aI.az.get_textPage().gm().dV()-1;}avn(aI,zm,qV);if(H!==be.oj){Qp(H);}}sk=cB;cB=IPCC.Web.UI.MouseTool.SelectText;aX=true;};var H,av,aH,Pr,eH,sG,cz;if(PJ==='sta'){if(be===null||be===undefined){av=G.av;be={};be.ec=[];be.gn=av;be.sH=G.aq;gC=G.aq;while(av<aA.length){aH=aA[av].aH;Pr=aH.get_markCount();for(H=0;H<Pr;H++){eH=aH.getMark(H);if(G.aa===eH.aa&&eH.get_type()===G.get_type()){be.ec[av]=eH;for(sG=eH.cL.length-1;sG>=0;sG--){if(eH.cL[sG].set_visible){eH.cL[sG].set_visible(false);}else{eH.set_visible(false);break;}}if(av===G.av){tw=eH;}else{nz[av]=cz.substring(eH.aq,eH.dA);eH.set_selected(false);}cz=eH.cz.substring(eH.dA);if(eH.lj===true){be.kQ=eH.aq+eH.dA-1;be.gE=av;break;}}}av++;}}pg=be.kQ+1;kc=be.gE;var aAx=function(aI,zm,qV){aI.az.showEmptyTextSelection(qV+1);aI.az.extendTextSelection(undefined);aI.az.extendTextSelection(qV);aI.az.extendTextSelection(zm);};be.ec[be.gn].yX=true;be.oj=be.gn;be.ys=be.ec[be.gn];aco(aAx);}else if(PJ==='end'){if(be===null||be===undefined){av=G.av;be={};be.ec=[];be.gE=av;be.kQ=G.aq+G.dA-1;while(av>=0){aH=aA[av].aH;Pr=aH.get_markCount();for(H=0;H<Pr;H++){eH=aH.getMark(H);if(G.aa===eH.aa&&eH.get_type()===G.get_type()){be.ec[av]=eH;for(sG=eH.cL.length-1;sG>=0;sG--){if(eH.cL[sG].set_visible){eH.cL[sG].set_visible(false);}else{eH.set_visible(false);break;}}if(av===G.av){cz=eH.cz;}else{nz[av]=cz.substring(cz.length-eH.dA);eH.set_selected(false);}cz=eH.cz.substring(0,cz.length-eH.dA);if(eH.kh===true){be.sH=eH.aq;gC=eH.aq;be.gn=av;tw=eH;break;}}}av--;}}pg=be.sH;kc=be.gn;var azY=function(aI,zm,qV){aI.az.showEmptyTextSelection(zm);aI.az.extendTextSelection(undefined);aI.az.extendTextSelection(zm);aI.az.extendTextSelection(qV);};be.ec[be.gE].yX=true;be.oj=be.gE;be.ys=be.ec[be.gE];aco(azY);}if(tw){bS.az.display();}}var AU=ad.target.tagName&&ad.target.tagName.toLowerCase()==='textarea';if(AU){return;}var AE=ad.target.tagName&&ad.target.tagName.toLowerCase()==='input'&&ad.target.type&&ad.target.type.toLowerCase()==='text';if(AE){return;}if(cB===IPCC.Web.UI.MouseTool.HandPan&&yY&&iM&&SL===false){if(!mg||mg.G.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){ajU(ad,iM,bS);return;}}var db;var dU;if(bS!==false&&bS.az&&bS.igElements&&bS.az.eZ()===true){var bV=0;for(bV=0;bV<aA.length;bV++){if(aA[bV].aG===bS.id){L.pageIndex=bV;break;}}L.pointLiesWithinImage=true;dU=Yc(bS,eO,dZ);if(dU){db=bS.az.OR(dU,false);L.imagePoint=db;L.constrainedImagePoint=db;}else{L.pointLiesWithinImage=false;}}else{L.pointLiesWithinImage=false;}L.domEvent=ad;L.windowPoint=new IPCC.Web.UI.Point(eO,dZ);if(SL===true){uq= -1;ci=L.pageIndex;ad.preventDefault();K.bB('mouseDown',L);return;}switch(cB){case IPCC.Web.UI.MouseTool.None:ad.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:if(ey===IPCC.PageLayout.VerticalScrollDirection){if(eO>bx.clientWidth){break;}}else{if(dZ>bx.clientHeight)break;}ad.preventDefault();wp=dZ;wP=eO;Xg=bx.scrollTop;Ww=bx.scrollLeft;aX=true;ax.style.cursor=IPCC.bz.fk(IPCC.bz.HandClosed);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:ad.preventDefault();if(ps===0&&bS&&bS.az&&db){K.yE();nz=[];uq= -1;Ed=undefined;var cf=bS.az.transformPagePointToTextIndex(db);gC=cf;pg=cf;aX=true;if(cf===undefined){K.bB('mouseDown',L);return;}bS.az.showEmptyTextSelection(cf);bS.az.extendTextSelection(undefined);bS.az.extendTextSelection(cf);bS.az.display();kc=L.pageIndex;ci=L.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:ad.preventDefault();if(ps===0&&bS&&bS.az&&dU){var jw=IPCC.bz.fk(IPCC.bz.None);ax.style.cursor=jw;bS.az.showMagnifier(dU);bS.az.display();}aX=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:ad.preventDefault();if(ps===0&&bS&&bS.az&&db){aX=true;wp=dU.y;wP=dU.x;bS.az.showEmptySelection(db);bS.az.display();}break;}K.bB('mouseDown',L);};var lc=function(ad){ahW(ad,ad.clientX,ad.clientY,ad.button);};var ajD=function(L,eO,dZ,cE){L.windowPoint=new IPCC.Web.UI.Point(eO,dZ);cE=Xl(eO,dZ);var db,dU;if(cE!==false&&cE.az&&cE.igElements&&cE.az.eZ()===true){L.pointLiesWithinImage=true;dU=Yc(cE,eO,dZ);if(dU){db=cE.az.OR(dU,false);L.imagePoint=db;L.constrainedImagePoint=db;}else{L.pointLiesWithinImage=false;}}else{L.pointLiesWithinImage=false;}return{L:L,eO:eO,dZ:dZ,cE:cE,db:db,dU:dU};};var ahW=function(ad,eO,dZ,ps){var AU=ad.target.tagName&&ad.target.tagName.toLowerCase()==='textarea';if(AU){return;}var AE=ad.target.tagName&&ad.target.tagName.toLowerCase()==='input'&&ad.target.type&&ad.target.type.toLowerCase()==='text';if(AE){return;}var L=new IPCC.Web.UI.MouseEventArgs();var db,dU,cE;var FH=function(eO,dZ){var pm=ajD(L,eO,dZ,cE);L=pm.L;L.domEvent=ad;eO=pm.eO;dZ=pm.dZ;cE=pm.cE;db=pm.db;dU=pm.dU;};FH(eO,dZ);var kU=NB(ad,L);if(kU&&kU.G){L.mark=kU.G;}var jw;switch(cB){case IPCC.Web.UI.MouseTool.None:ad.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ad.preventDefault();if(aX){var aqd=dZ;var aqc=eO;var axD=wp-aqd;var axA=wP-aqc;bx.scrollTop=Xg+axD;bx.scrollLeft=Ww+axA;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:ad.preventDefault();if(aX){if(ps!==0){DX();}var gu;if(!cE){K.bB('mouseMove',L);return;}if(gC===undefined){bS=cE;}else if(cE!==bS&&cE.az&&dU){uq= -1;var jL=0;var H=0;for(H=0;H<aA.length;H++){if(aA[H].aG===cE.id){jL=H;break;}}if(jL>ci){if(jL>kc){gu=bS.az.get_textPage().gm().dV()-1;if(gu<0){DX();K.bB('mouseMove',L);return;}bS.az.extendTextSelection(gu);if(be){gu=bS.az.get_textPage().gm().dV()-1;be.ec[ci].set_startIndex(bS.az.Ou());be.ec[ci].set_textLength(bS.az.CC());be.gE=jL;gC=bS.az.Ou();}nz[ci]=bS.az.getSelectedText();cE.az.showEmptyTextSelection(0);cE.az.extendTextSelection(undefined);uq=0;bS.az.display();bS=cE;}else{gC=0;nz[ci]=undefined;nz[jL]=undefined;bS.az.showEmptyTextSelection(0);bS.az.extendTextSelection(undefined);if(be&&be.ec[ci]){be.ec[ci].kh=false;}bS.az.display();bS=cE;if(be&&be.ec[ci]){be.ec[ci]=undefined;be.gn=jL;be.ec[jL].set_startIndex(0);be.ec[jL].set_textLength(be.ec[jL].get_startIndex()+be.ec[jL].get_textLength());be.ec[jL].kh=true;bS.az.display();}}}else if(jL<ci){if(jL<kc){gu=bS.az.get_currentTextIndex();if(gu!==0){bS.az.extendTextSelection(0);}if(be){be.ec[ci].set_startIndex(bS.az.Ou());be.ec[ci].set_textLength(bS.az.CC());be.gn=jL;}nz[ci]=bS.az.getSelectedText();bS.az.display();gu=cE.az.dC().gm().dV()-1;uq=gu;gC=0;cE.az.showEmptyTextSelection(gu+1);cE.az.extendTextSelection(undefined);bS=cE;bS.az.display();}else{nz[ci]=undefined;nz[jL]=undefined;bS.az.showEmptyTextSelection(0);bS.az.extendTextSelection(undefined);if(be&&be.ec[ci]){be.ec[ci].lj=false;}bS.az.display();bS=cE;if(be&&be.ec[ci]){be.ec[ci]=undefined;be.gE=jL;gu=bS.az.dC().gm().dV()-1;be.ec[jL].set_textLength(cE.az.CC());be.ec[jL].lj=true;bS.az.display();}}}ci=jL;}var aof=(ci<kc),anU=(ci>kc);if(bS&&bS.az&&bS.az.eZ()===true&&dU){dU=Yc(bS,eO,dZ);db=bS.az.OR(dU,false);var cf=bS.az.transformPagePointToTextIndex(db);if(gC===undefined){gC=cf;pg=cf;if(cf===undefined){K.bB('mouseMove',L);return;}bS.az.showEmptyTextSelection(cf);bS.az.extendTextSelection(undefined);bS.az.extendTextSelection(cf);bS.az.display();var bF=0;for(bF=0;bF<aA.length;bF++){if(aA[bF].aG===bS.id){kc=bF;ci=bF;break;}}}else{if(gC=== +gC&&cf=== +cf){if(aof){gC=cf;}else if(!anU){gC=Math.min(pg,cf);}}}gu=bS.az.get_currentTextIndex();if(gu===cf||cf===undefined){K.bB('mouseMove',L);return;}if(uq!== -1){if(cf!==uq){bS.az.extendTextSelection(uq);}uq= -1;}if((cf>pg&&ci===kc)||ci>kc){if(be){if(be.ec[ci]===undefined||be.ec[ci]===null){Qp(ci,0,0,ci===be.oj);if(ci-1>=0&&be.ec[ci-1]){be.ec[ci-1].lj=false;document.getElementById(aA[ci-1].aG).az.display();}}be.ec[ci].lj=true;}if(Ed===undefined){Ed=false;}}else if(cf<pg||ci<kc){if(be){if(be.ec[ci]===undefined||be.ec[ci]===null){Qp(ci,bS.az.dC().gm().dV()-1,0,ci===be.oj);if(be.ec[ci+1]){be.ec[ci+1].kh=false;document.getElementById(aA[ci+1].aG).az.display();}}be.ec[ci].kh=true;}if(Ed===undefined){Ed=true;pg++;bS.az.showEmptyTextSelection(pg);bS.az.extendTextSelection(undefined);var qV=bS.az.dC().gm().dV();if(pg>=qV){bS.az.extendTextSelection(qV-1);}else{bS.az.extendTextSelection(pg);}}}bS.az.extendTextSelection(cf);if(be&&be.ec[ci]){be.ec[ci].set_startIndex(bS.az.Ou());be.ec[ci].set_textLength(bS.az.CC());}bS.az.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:ad.preventDefault();if(aX){if(ps!==0||(bS&&bS.az&&bS!==cE)){bS.az.hideMagnifier();jw=IPCC.bz.fk(IPCC.bz.Magnifier);ax.style.cursor=jw;bS.az.display();}if(cE&&cE.az&&dU){bS=cE;jw=IPCC.bz.fk(IPCC.bz.None);ax.style.cursor=jw;cE.az.showMagnifier(dU);cE.az.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:ad.preventDefault();if(aX){var Iz=alA(bS,eO,dZ,1);FH(Iz.x,Iz.y);if(cE&&cE.az&&db&&cE===bS){if(ps!==0){cE.az.hideSelection();cE.az.display();aX=false;}else{cE.az.extendSelection(db);cE.az.display();}}}break;}K.bB('mouseMove',L);};var iZ=function(ad){if(ZO!==true){Yo(ad,ad.clientX,ad.clientY);}else{ZO=false;}};var ahp=function(ad,L){L.upTargetType=null;var CS=NB(ad,L);L.originalEvent=ad.rawEvent;L.clientX=ad.clientX;L.clientY=ad.clientY;L.downTarget={type:undefined,pageIndex:undefined};if(typeof mg!=='undefined'&&typeof mg.aZ!=='undefined'){L.downTarget.type=mg.aZ;}if(typeof mg!=='undefined'&&typeof mg.av!=='undefined'){L.downTarget.pageIndex=mg.av;}if(typeof mg!=='undefined'&&typeof mg.Zh!=='undefined'){L.downTarget.alreadySelected=mg.Zh;}L.downMark=(typeof mg!=='undefined')?mg.G:undefined;L.upMark=CS.G;switch(CS.aZ){case 'page':case 'mark':L.upTarget={type:CS.aZ,pageIndex:CS.av};break;}if(L.pointLiesWithinImage===false&&CS.aZ==='page'){CS.av= -1;}};var Yo=function(ad,eO,dZ){var L=new IPCC.Web.UI.MouseEventArgs();var cE;var db;var dU;var FH=function(eO,dZ){var pm=ajD(L,eO,dZ,cE);L=pm.L;L.domEvent=ad;eO=pm.eO;dZ=pm.dZ;cE=pm.cE;db=pm.db;dU=pm.dU;};FH(eO,dZ);if(ad){ahp(ad,L);K.bB('mouseUp',L);}mg=undefined;var jw;switch(cB){case IPCC.Web.UI.MouseTool.None:ad.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ad.preventDefault();if(aX){wP=undefined;wp=undefined;Xg=undefined;Ww=undefined;aX=false;ab=IPCC.bz.HandOpen;jw=IPCC.bz.fk(ab);ax.style.cursor=jw;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(ad){ad.preventDefault();}if(aX){var oO=new IPCC.Web.UI.TextSelectedEventArgs(),jF=[],H,wv,AF;var kQ;var Iy=bS.az.getSelectedText();var qt=nz.slice();if(Iy.length>0){qt[ci]=bS.az.getSelectedText();}else{if(ci>kc){ci--;bS=document.getElementById(aA[ci].aG);if(qt[ci]){Iy=qt[ci];}}else if(ci<kc){ci++;bS=document.getElementById(aA[ci].aG);if(qt[ci]){Iy=qt[ci];}}}oO.text=qt.join('');var Rw=true;if(ci>=kc){if(ci===kc){if(bS.az.get_currentTextIndex()>=pg){Rw=false;}kQ=gC+Iy.length-1;}else{kQ=Iy.length-1;}if(kQ<0){kQ=0;}wv=kc;AF=ci;}else{Rw=false;kQ=pg-1;wv=ci;AF=kc;}for(H=wv;H<=AF;H++){jF.push(H);}if(oO.text.length===0){DX();jF=[];}oO.pageNumbers=jF;oO.clientX=eO;oO.clientY=dZ;if(gC!==undefined){if(cB===IPCC.Web.UI.MouseTool.SelectText){var apf=function(aI,yv){var GS=aI.az.dC();var gR=GS.gm();var eo=gR.kk(yv);return eo.uZ();};var gu=bS.az.get_currentTextIndex();var Mb=apf(bS,gu);var ez=0,fc=0;if(Rw===false){ez=Mb.width;fc=Mb.height;}var DE=bS.az.transformPagePointToWindow(new IPCC.Web.UI.Point(Mb.x+ez,Mb.y+fc),true);var cQ=aeU(bS,DE.x,DE.y);oO.handleClientX=cQ.x;oO.handleClientY=cQ.y;}var aAl=be===undefined||be===null;if(tw){oO.previousFirstMark=tw;oO.firstMark=be.ec[wv];if(be.oj<wv||be.oj>AF){var Fy=document.getElementById(aA[be.oj].aG);if(Fy.az){Fy.az.mT().removeMark(be.ys);}}be.ys.yX=false;K.yE();if(sk!==null){cB=sk;}sk=null;}else if(aAl===true){if(cB===IPCC.Web.UI.MouseTool.SelectText){be={gn:wv,sH:gC,gE:AF,kQ:kQ,qt:qt.slice(),ec:[]};for(H=0;H<jF.length;H++){Qp(jF[H]);}}else{K.yE();}}else{if(be.oj<wv||be.oj>AF){var ahT=document.getElementById(aA[be.oj].aG);if(ahT.az){ahT.az.mT().removeMark(be.ys);}}be.ys.yX=false;be.gn=wv;be.sH=gC;be.gE=AF;be.kQ=kQ;be.qt=qt.slice();if(sk!==null){cB=sk;}sk=null;}oO.mouseTool=cB;oO.startIndex=gC;K.bB('selectTextMouseToolCompleted',oO);if(tw){tw=null;be=null;}}aX=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:ad.preventDefault();if(cE&&cE.az){cE.az.hideMagnifier();jw=IPCC.bz.fk(IPCC.bz.Magnifier);ax.style.cursor=jw;cE.az.display();}aX=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:ad.preventDefault();var Iz=alA(bS,eO,dZ,1);FH(Iz.x,Iz.y);if(aX&&dU){var Bm=0;var Bk=0;var Wt=0;var Xu=0;if(dU.x<wP){Bm=wP-dU.x;Wt=dU.x+Bm/2;}else{Bm=dU.x-wP;Wt=wP+Bm/2;}if(dU.y<wp){Bk=wp-dU.y;Xu=dU.y+Bk/2;}else{Bk=dU.y-wp;Xu=wp+Bk/2;}var aab=bx.clientWidth/Bm;var aaq=bx.clientHeight/Bk;var pz=aab;if(aab>aaq){pz=aaq;}if(cE&&cE.az){cE.az.oy();cE.az.display();}aX=false;if(Bm*2+Bk*2>25){K.anV(pz,Wt,Xu,cE);}}break;}var AU=false;var AE=false;if(ad){AU=ad.target.tagName&&ad.target.tagName.toLowerCase()==='textarea';AE=ad.target.tagName&&ad.target.tagName.toLowerCase()==='input'&&ad.target.type&&ad.target.type.toLowerCase()==='text';}if(Mr&& !AU&& !AE){akj(bS);}else if(cB===IPCC.Web.UI.MouseTool.HandPan&&NG&& !AU&& !AE&&ad&&NG.clientX===ad.clientX&&NG.clientY===ad.clientY&&ad.shiftKey!==true&&ad.ctrlKey!==true){agL(bS.az);}};var aCq=function(){var jw;switch(cB){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:ab=IPCC.bz.HandOpen;jw=IPCC.bz.fk(ab);ax.style.cursor=jw;aX=false;break;case IPCC.Web.UI.MouseTool.SelectText:DX();break;case IPCC.Web.UI.MouseTool.Magnifier:if(bS&&bS.az){bS.az.hideMagnifier();jw=IPCC.bz.fk(IPCC.bz.Magnifier);ax.style.cursor=jw;bS.az.display();}aX=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(bS&&bS.az){bS.az.hideSelection();bS.az.display();aX=false;}break;}};var aAM=function(){aCq();};var axe=function(){if(cB===IPCC.Web.UI.MouseTool.Magnifier){if(bS&&bS.az){bS.az.hideMagnifier();var jw=IPCC.bz.fk(IPCC.bz.Magnifier);ax.style.cursor=jw;bS.az.display();}aX=false;}else if(cB===IPCC.Web.UI.MouseTool.RectangleZoom){if(bS&&bS.az){bS.az.hideSelection();bS.az.display();aX=false;}}else if(cB===IPCC.Web.UI.MouseTool.SelectText){DX();}};var nu=function(ad){if(ad.ctrlKey){switch(cB){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var OE=ad.rawEvent.wheelDelta;ad.preventDefault();if(OE<0){K.zoomOut(1.5);}else{K.zoomIn(1.5);}break;}}else{ad.preventDefault();bx.scrollTop-=ad.rawEvent.wheelDelta*0.72;}if(cB===IPCC.Web.UI.MouseTool.Magnifier){if(bS&&bS.az){bS.az.hideMagnifier();var jw=IPCC.bz.fk(IPCC.bz.Magnifier);ax.style.cursor=jw;bS.az.display();}aX=false;}else if(cB===IPCC.Web.UI.MouseTool.RectangleZoom){if(bS&&bS.az){bS.az.hideSelection();bS.az.display();aX=false;}}else if(cB===IPCC.Web.UI.MouseTool.SelectText){DX();}};var aCQ=function(aT){var L=new IPCC.Web.UI.MouseEventArgs();L.upTarget={type:'comments',element:aT.target};L.downTarget={type:'comments',element:aT.target};L.originalEvent=aT.rawEvent;L.clientX=aT.clientX;L.clientY=aT.clientY;L.pageIndex=undefined;K.bB('mouseUp',L);};var DX=function(){if(aX===true){if(be&&be.oj!==undefined){if(tw){Yo(null,0,0);return;}else{var Fy=document.getElementById(aA[be.oj].aG);if(Fy.az){Fy.az.mT().removeMark(be.ys);}be.ys.yX=false;}}K.yE();tw=null;aX=false;if(sk!==null){cB=sk;}sk=null;}};As=hH({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(cq===IPCC.ViewMode.SinglePage){ax=hH({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});ax.className='pccPageListContainer pccSinglePageView';}else{ax=hH({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});ax.className='pccPageListContainer';}IPCC.Web.UI.ar.addHandler(bx,"mousedown",kF);IPCC.Web.UI.ar.addHandler(bx,"mouseup",iZ);IPCC.Web.UI.ar.addHandler(bx,"mousemove",lc);IPCC.Web.UI.ar.addHandler(bx,"mouseleave",aAM);IPCC.Web.UI.ar.addHandler(bx,"mousewheel",nu);IPCC.Web.UI.ar.addHandler(bx,"DOMMouseScroll",axe);bx.onscroll=(! !JM)?axL:axY;ax.setAttribute('id',NZ+'_ListContainer');bx.setAttribute('id',NZ+'_ListWrapper');amA=NZ+'_ListWrapper';kZ=hH();kZ.className='pccPageListComments pccHidden';kZ.setAttribute('id',NZ+'_CommentsPanel');var Uy=[];if(IPCC.V.aBv){Uy.push('touchend');}else{Uy.push('click');}IPCC.V.forEach(Uy,function(evName){IPCC.Web.UI.ar.addHandler(kZ,evName,aCQ);});As.appendChild(ax);As.appendChild(kZ);bx.appendChild(As);cC.appendChild(bx);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var bA='',ao='',rv='',sS='',ot;var xF=function(){ot=getComputedStyle(cC);rv=ot.getPropertyValue('width');sS=ot.getPropertyValue('height');if(rv!==bA||sS!==ao){bA=rv;ao=sS;bx.style.width=bA;bx.style.height=ao;}};setInterval(xF,1000);window.addEventListener('resize',xF);xF();K.xF=xF;}var aCd=IPCC.V.Ie;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aCd&&window.addEventListener&&document.querySelector){aCJ(bx);}var aAW=function(ax,aDp){var jS;var Yp=function(aT){var df=aT.rawEvent,ge=df.touches[0]||df.changedTouches[0];aT.clientX=ge.clientX;aT.clientY=ge.clientY;aT.preventDefault=function(){df.preventDefault();};aT.stopPropagation=function(){df.stopPropagation();};return aT;};var EK=function(ju,aT){var L=new IPCC.Web.UI.MouseEventArgs(),DS=(ju==='touchstart')?'mouseDown':(ju==='touchend')?'mouseUp':null;var BN=(ju==='touchstart')?ain:(ju==='touchmove')?ahW:(ju==='touchend')?Yo:null;jS=Xl(aT.clientX,aT.clientY);if(ju==='doubleTap'){jS&&jS.az&&jS.az.Ki(ju,aT);}var iM;iM=Xp(aT);if(iM){if(iM.substring(0,5)==='texth'){aT.preventDefault();aT.stopPropagation();if(ju==='touchstart'){zP=aT;}BN&&BN(aT,aT.clientX,aT.clientY,0);return;}}switch(cB){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:jS&&jS.az&&jS.az.Ki(ju,aT);if(DS==='mouseUp'){ahp(aT,L);}else if(DS==='mouseDown'){ajd(aT,L);}K.bB(ju,L);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aT.preventDefault();aT.stopPropagation();if(ju==='touchstart'){zP=aT;if(iM){K.yE();break;}}BN&&BN(aT,aT.clientX,aT.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:aT.preventDefault();aT.stopPropagation();if(ju==='touchstart'){zP=aT;}BN&&BN(aT,aT.clientX,aT.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(iM===undefined){iM=Xp(aT);}var F=NB(aT,{});if(iM&&yY){if(!F||F.G.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(ju==='touchstart'){ajU(aT,iM,jS);}else if(ju==='touchmove'){jS&&jS.az&&jS.az.Ki(ju,aT);}else if(ju==='touchend'){jS&&jS.az&&jS.az.Ki(ju,aT);akj(jS);}}}break;}};var Ca,xs,uE;var aBz=function(aT){if(aT.rawEvent.touches.length>1){clearTimeout(uE);uE=xs=Ca=undefined;return;}aT=Yp(aT);Ca=aT;if(cB===IPCC.Web.UI.MouseTool.CreatePolylineMark){aT.preventDefault();}xs=function(){EK('touchstart',aT);uE=xs=Ca=undefined;};uE=setTimeout(function(){xs();},200);};var Gt,BQ;var aCu=function(aT){aT=Yp(aT);re=false;var api=function(){if(!BQ){return false;}var eh=BQ.clientX-aT.clientX;var eC=BQ.clientY-aT.clientY;var gD=eh*eh+eC*eC;return gD<2500;};var Yu=function(){Gt=BQ=undefined;var iM=Xp(aT);if(!iM&&cB===IPCC.Web.UI.MouseTool.HandPan&&yY&&jS){agL(jS.az);}};var aqt=function(){var aaY=xs;if(Gt&&api()){clearTimeout(Gt);BQ=Gt=undefined;aaY();EK('touchend',aT);EK('doubleTap',aT);}else{Gt=setTimeout(function(){aaY();EK('touchend',aT);Yu();},300);BQ=aT;}};if(Ca&&uE){clearTimeout(uE);if(cB===IPCC.Web.UI.MouseTool.CreatePolylineMark){aqt();}else{Yu();}uE=xs=Ca=undefined;return;}EK('touchend',aT);};var afv,re=false;var aCF=function(aT){if(aT.rawEvent.touches.length>1){return;}afv=aT;if(Ca&&uE){clearTimeout(uE);xs();}axN();};function axN(){var aT=Yp(afv);EK('touchmove',aT);};IPCC.Web.UI.ar.addHandler(ax,"touchstart",aBz);IPCC.Web.UI.ar.addHandler(ax,"touchmove",aCF);IPCC.Web.UI.ar.addHandler(ax,"touchend",aCu);};aAW(ax,kZ);}};function aCJ(gg){var abK=function(){},dG=1;function akL(afM,adT,fW,avP){gg.style['-ms-transform']=afM;gg.style['-moz-transform']=afM;gg.style['-webkit-transform']=adT;gg.style['transform']=adT;gg.style['-ms-transform-origin']=fW;gg.style['-moz-transform-origin']=fW;gg.style['-webkit-transform-origin']=fW;gg.style['transform-origin']=fW;gg.style.overflow=avP||'';};function ajN(){akL('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};ajN();function ayD(pz,hC,Oq,vf,aaS){var ez=(-hC.x/pz)-Oq.x,fc=(-hC.y/pz)-Oq.y,aBP="scale3d("+pz+","+pz+",1) translate3d("+ez+"px,"+fc+"px,0px)",aCw="scale("+pz+", "+pz+") translate("+ez+"px,"+fc+"px)";var aqp=aaS.x+'px '+aaS.y+'px';akL(aCw,aBP,aqp,'visible');abK=function(){var bO=gg.getBoundingClientRect();var RR={x:(gg.clientWidth/2+ -bO.left+vf.left)/pz,y:(gg.clientHeight/2+ -bO.top+vf.top)/pz};if(ey===IPCC.PageLayout.VerticalScrollDirection&&vf.agB){RR.x=RR.x-(vf.agB/2);}ajN();K.JD(pz,RR,undefined,IPCC.ScaleTrigger.Pinch);Ao=false;};return gg;};function abC(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function abd(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function apJ(akb,Ho){return{x:akb.x-Ho.x,y:akb.y-Ho.y};};var Zs=false;gg.addEventListener('touchstart',function(ev){if(Ao){return;}if(!Zs&&ev.touches.length===2){alu(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var AQ,WO=false,zW={};IPCC.EventEmitter.extend(zW);gg.addEventListener(IPCC.V.pj['down'],function(aT){WO=true;aT=standardizeMSTouch(aT);if(AQ){var df={};df.touches=[AQ,aT];df.changedTouches=[AQ,aT];df.preventDefault=function(){AQ.rawEvent.preventDefault();aT.rawEvent.preventDefault();};df.stopPropagation=function(){AQ.rawEvent.stopPropagation();aT.rawEvent.stopPropagation();};alu(df);}else{AQ=aT;}});gg.addEventListener(IPCC.V.pj['move'],function(aT){zW.trigger('touchmove',{rawEvent:aT});});gg.addEventListener(IPCC.V.pj['up'],function(aT){zW.trigger('touchend',{rawEvent:aT});AQ=undefined;});function alu(ev){if(ey===IPCC.PageLayout.VerticalScrollDirection){if(ev.touches[1].clientX>bx.clientWidth)return;}else{if(ev.touches[1].clientY>bx.clientHeight)return;}Ao=true;var Oq={x:gg.scrollLeft,y:gg.scrollTop};var vf=gg.getBoundingClientRect();var pb=Yi();var GP=gg.querySelector('.pccPageListItem');if(ey===IPCC.PageLayout.VerticalScrollDirection&&GP.clientWidth<vf.width-30){vf.agB=vf.width-GP.clientWidth;}var hC={x:0,y:0,set:function(aeL){this.x=aeL.x;this.y=aeL.y;return this;}};var re=false;Zs=true;ev.preventDefault();ev.stopPropagation();function Jg(ge){ge.x=ge.clientX||ge.pageX||ge.screenX;ge.y=ge.clientY||ge.pageY||ge.screenY;return ge;};var ii=Jg(ev.touches[0]);var xh=Jg(ev.touches[1]);var vN=abC(ii.x,ii.y,xh.x,xh.y);var agH=abd(ii.x,ii.y,xh.x,xh.y);var yS,zL;function PG(aT){aT.preventDefault();[].forEach.call(aT.changedTouches,function(t){if(t.identifier===ii.identifier){yS=Jg(t);}else if(t.identifier===xh.identifier){zL=Jg(t);}});if(!yS|| !zL){return;}var atO=abC(yS.x,yS.y,zL.x,zL.y);var atG=abd(yS.x,yS.y,zL.x,zL.y);dG=atO/vN;if((dc*dG)<pb.minFactor){dG=pb.minFactor/dc;}else if((dc*dG)>pb.maxFactor){dG=pb.maxFactor/dc;}hC.set(apJ(agH,atG));if(!re){re=true;Ht();}};function QK(){Zs=false;re=false;gg.removeEventListener('touchmove',PG);gg.removeEventListener('touchend',QK);if(WO){zW.off('touchmove',agR);zW.off('touchend',agn);}if(!yS|| !zL){Ao=false;return;}JM(abK);};var agR=function(aT){var abv=standardizeMSTouch(aT.rawEvent);abv.preventDefault=function(){};PG(abv);};var agn=function(aT){QK(standardizeMSTouch(aT.rawEvent));};gg.addEventListener('touchmove',PG);gg.addEventListener('touchend',QK);if(WO){zW.on('touchmove',agR);zW.on('touchend',agn);}function Ht(){if(re){JM(function(){if(!re){return;}ayD(dG,hC,Oq,vf,agH);Ht();});}}}};function axL(){if(cq===IPCC.ViewMode.SinglePage){return;}if(Ao){return;}if(ml){clearTimeout(ml);}if(Rx){alW(Rx);}avJ();ml=setTimeout(function(){ml=null;Rx=JM(function aFt(){if(Ao){return;}od();});},40);};function axY(){if(lG===false||cq===IPCC.ViewMode.SinglePage){return;}kb(true);if(ml!==null){clearTimeout(ml);}var aqH=bx.scrollHeight/aA.length;var IK=0;if(ey===IPCC.PageLayout.VerticalScrollDirection){IK=bx.scrollTop;}else{IK=bx.scrollLeft;}var aBs=IK-IS;IS=IK;var aqN=new Date().getTime();var Ry=aqN-ws;if(Ry>1000){Ry=1000;}Vk=aBs/aqH*1000/Ry;ml=setTimeout(function(){ml=null;ws=0;ws=new Date().getTime();od();},1000);ws=new Date().getTime();if(Vk!==0&&Math.abs(Vk)<LO){if(Hk&&ml!==null){clearTimeout(ml);ml=null;}ws=0;ws=new Date().getTime();setTimeout(function(){if(Hk&&ml!==null){clearTimeout(ml);ml=null;}ws=0;ws=new Date().getTime();od();},40);}};function atT(){function yq(aro,ara,aC,cA){var JS=document.createElementNS('http://www.w3.org/2000/svg','circle');JS.setAttribute('cx',aro);JS.setAttribute('cy',ara);JS.setAttribute('r',aC);JS.setAttribute('opacity',cA);return JS;};var qb=document.createElementNS('http://www.w3.org/2000/svg','svg');qb.setAttribute('viewBox','0 0 52 52');qb.appendChild(yq(26,13.813,2.813,1));qb.appendChild(yq(24,38.188,2.813,0.4));qb.appendChild(yq(13.813,26,2.813,0.1));qb.appendChild(yq(38.188,26,2.813,0.7));qb.appendChild(yq(34.618,34.618,2.813,0.55));qb.appendChild(yq(17.382,34.618,2.813,0.25));qb.appendChild(yq(34.618,17.382,2.813,0.85));return qb;};function alp(jh){var bF=0;var ahC=false;var LE;var Fn;var qb;for(bF=0;bF<jh.childNodes.length;bF++){if(jh.childNodes[bF].className==="pccPageListItemLoading"){ahC=true;}}if(ahC===false){Fn=document.createElement('div');Fn.className='pccPageListItemLoading';qb=atT();jh.innerHTML="";jh.appendChild(Fn);Fn.appendChild(qb);if(FF.length>0){LE=document.createElement('div');LE.className='pccPageListItemLoadingContent';LE.innerHTML=FF;Fn.appendChild(LE);}}};function aBy(jh){var bF=0;for(bF=0;bF<jh.childNodes.length;bF++){if(jh.childNodes[bF].className==="pccPageListItemLoading"){jh.childNodes[bF].style.display='none';}}};function avJ(){var wW=bx.scrollTop;var vo=bx.scrollLeft;var uz=bx.clientHeight;var uB=bx.clientWidth;var uM=bx.scrollWidth;var wN=bx.scrollHeight;var dv=TL({wW:wW,vo:vo,uz:uz,uB:uB,uM:uM,wN:wN});var H=dv.akU;if(lG&&tI===false&&cg!==H&&H>=0){cg=H;var L=new IPCC.PageEventArgs();L.imGearPage=K.get_currentPage();L.pageIndex=cg;L.pageNodeID=aA[cg].aG;K.bB('currentPageChanged',L);}};function VY(bK){var bA=bK.aR||gc;var ao=bK.al||hN;if(bK.hl%180){var qr=bA;bA=ao;ao=qr;}var Ce=bK.hF||aid;return{bA:bA*(dc*cu/Ce),ao:ao*(dc*cu/Ce),aGE:Ce,bk:bK.cZ};};function VO(ayw){return IPCC.V.reduce(ayw,function(fj,bM,bk){fj[bk]=VY(bM);return fj;},{});};function aag(av){var tU,EN,yg,xC,nV;if(ey===IPCC.PageLayout.VerticalScrollDirection){tU=bx.scrollTop;EN=bx.scrollHeight;yg=bx.clientHeight;xC='ao';nV=fN;}else{tU=bx.scrollLeft;EN=bx.scrollWidth;yg=bx.clientWidth;xC='bA';nV=hd+fT;}var fP=VO(aA);var HS=ey===IPCC.PageLayout.VerticalScrollDirection?fN:hd;var akM=false;IPCC.V.forEach(fP,function(bM,bk){if(bM.bk===av){akM=true;}if(akM){return;}HS+=bM[xC]+nV;});return HS-(nV/2);};function sv(dv){var CA=IPCC.V.map(dv.cd,function(bM){return+bM.bk;}).sort();var ii=CA[0];var iq=CA[CA.length-1];var fM=aA.length;for(var H=zu;H;H--){ii-=1;iq+=1;if(ii>=0){CA.unshift(ii);}if(iq<fM){CA.push(iq);}}return CA.sort();};function OC(dv){var ii=Math.max(dv.cd[0].bk-ug,0);var iq=Math.min(dv.cd[dv.cd.length-1].bk+ug,aA.length-1);return{ii:ii,iq:iq};};function aqZ(dv){var ii=Math.max(dv.cd[0].bk-zu,0);var iq=Math.min(dv.cd[dv.cd.length-1].bk+zu,aA.length-1);return{ii:ii,iq:iq};};function TL(bQ){if(cq===IPCC.ViewMode.SinglePage){return aba();}var tU,EN,yg,xC,nV;if(ey===IPCC.PageLayout.VerticalScrollDirection){tU=bQ.wW;EN=bQ.wN;yg=bQ.uz;xC='ao';nV=fN;}else{tU=bQ.vo;EN=bQ.uM;yg=bQ.uB;xC='bA';nV=hd+fT;}var asv=tU;var arq=tU+yg;var fP=VO(aA);var HS=ey===IPCC.PageLayout.VerticalScrollDirection?fN:hd;var aCx=tU/EN;var LV=(aCx*yg)+tU;var VV=Number.MAX_VALUE;var rG= -1;var cd=[];IPCC.V.forEach(fP,function(bM,bk){var hK=HS;var ft=hK+bM[xC];if(hK<arq&&ft>asv){bM.yn=true;cd.push(bM);}var ahc=Math.min(Math.abs(hK-LV),Math.abs(ft-LV));if(hK<LV&&ft>LV){VV=0;rG=bk;}else if(ahc<VV){rG=bk;VV=ahc;}HS+=bM[xC]+nV;});if(cd.length===0&&fP[rG]!==undefined){cd.push(fP[rG]);}return{cd:cd,akU:Number(rG)||0,Ih:fP};};function aba(){var fP=VO(aA);var arU=[cg];var cd=IPCC.V.filter(fP,function(bM){return IPCC.V.contains(arU,+bM.bk);});return{cd:cd,akU:cg,Ih:fP};};function Os(){var dv=kb();if(!dv){return[];}return IPCC.V.map(dv.cd,function(bM){return bM.bk;});};function kb(){if(cq===IPCC.ViewMode.SinglePage){return aba();}if(bx===''||bx.clientHeight<=0){return;}var wW=bx.scrollTop;var vo=bx.scrollLeft;var uz=bx.clientHeight;var uB=bx.clientWidth;var uM=bx.scrollWidth;var wN=bx.scrollHeight;var arD=TL({wW:wW,vo:vo,uz:uz,uB:uB,uM:uM,wN:wN});tI=false;return arD;}};IPCC.PageList.prototype={dispose:function(){this._debug.aQ('dispose',arguments);this.ack(false);this.amY();},add_mouseDown:function(handler){try{this.Jb(handler);}catch(e){this._debug.bd(e,'add_mouseDown');throw e;}},remove_mouseDown:function(handler){try{this.PN(handler);}catch(e){this._debug.bd(e,'remove_mouseDown');throw e;}},add_mouseMove:function(handler){try{this.Jm(handler);}catch(e){this._debug.bd(e,'add_mouseMove');throw e;}},remove_mouseMove:function(handler){try{this.OP(handler);}catch(e){this._debug.bd(e,'remove_mouseMove');throw e;}},add_mouseUp:function(handler){try{this.LG(handler);}catch(e){this._debug.bd(e,'add_mouseUp');throw e;}},remove_mouseUp:function(handler){try{this.Ql(handler);}catch(e){this._debug.bd(e,'remove_mouseUp');throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wf(handler);}catch(e){this._debug.bd(e,'add_selectTextMouseToolCompleted');throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.QM(handler);}catch(e){this._debug.bd(e,'remove_selectTextMouseToolCompleted');throw e;}},add_currentPageChanged:function(handler){try{this.aBM(handler);}catch(e){this._debug.bd(e,"add_currentPageChanged");throw e;}},remove_currentPageChanged:function(handler){try{this.aug(handler);}catch(e){this._debug.bd(e,"remove_currentPageChanged");throw e;}},add_textPageReady:function(handler){try{this.zN(handler);}catch(e){this._debug.bd(e,"add_textPageReady");throw e;}},remove_textPageReady:function(handler){try{this.Cu(handler);}catch(e){this._debug.bd(e,"remove_textPageReady");throw e;}},add_hyperlinkPageReady:function(handler){try{this.XS(handler);}catch(e){this._debug.bd(e,"add_hyperlinkPageReady");throw e;}},remove_hyperlinkPageReady:function(handler){try{this.acH(handler);}catch(e){this._debug.bd(e,"remove_hyperlinkPageReady");throw e;}},add_textExtractionFailed:function(handler){this.zr(handler);},remove_textExtractionFailed:function(handler){this.Cr(handler);},add_allPagesAdded:function(handler){try{this.aBb(handler);}catch(e){this._debug.bd(e,"add_allPagesAdded");throw e;}},remove_allPagesAdded:function(handler){try{this.auO(handler);}catch(e){this._debug.bd(e,"remove_allPagesAdded");throw e;}},add_pageOpening:function(handler){try{this.XL(handler);}catch(e){this._debug.bd(e,"add_pageOpening");throw e;}},remove_pageOpening:function(handler){try{this.RE(handler);}catch(e){this._debug.bd(e,"remove_pageOpening");throw e;}},add_pageOpened:function(handler){try{this.WI(handler);}catch(e){this._debug.bd(e,"add_pageOpened");throw e;}},remove_pageOpened:function(handler){try{this.RH(handler);}catch(e){this._debug.bd(e,"remove_pageOpened");throw e;}},add_pageOpenFailed:function(handler){try{this.Fo(handler);}catch(e){this._debug.bd(e,"add_pageOpenFailed");throw e;}},remove_pageOpenFailed:function(handler){try{this.FV(handler);}catch(e){this._debug.bd(e,"remove_pageOpenFailed");throw e;}},add_pageDisplayed:function(handler){try{this.Xo(handler);}catch(e){this._debug.bd(e,"add_pageDisplayed");throw e;}},remove_pageDisplayed:function(handler){try{this.Qk(handler);}catch(e){this._debug.bd(e,"remove_pageDisplayed");throw e;}},add_propertyChanged:function(handler){try{this.kX(handler);}catch(e){this._debug.bd(e,"add_propertyChanged");throw e;}},remove_propertyChanged:function(handler){try{this.nl(handler);}catch(e){this._debug.bd(e,"remove_propertyChanged");throw e;}},add_markAdded:function(handler){try{this.AP(handler);}catch(e){this._debug.bd(e,"add_markAdded");throw e;}},remove_markAdded:function(handler){try{this.At(handler);}catch(e){this._debug.bd(e,"remove_markAdded");throw e;}},add_markCreating:function(handler){try{this.Wx(handler);}catch(e){this._debug.bd(e,"add_markCreating");throw e;}},remove_markCreating:function(handler){try{this.Qh(handler);}catch(e){this._debug.bd(e,"remove_markCreating");throw e;}},add_markChanged:function(handler){try{this.EO(handler);}catch(e){this._debug.bd(e,"add_markChanged");throw e;}},remove_markChanged:function(handler){try{this.Kk(handler);}catch(e){this._debug.bd(e,"remove_markChanged");throw e;}},add_markReordered:function(handler){try{this.Gh(handler);}catch(e){this._debug.bd(e,"add_markReordered");throw e;}},remove_markReordered:function(handler){try{this.IG(handler);}catch(e){this._debug.bd(e,"remove_markReordered");throw e;}},add_markSelectionChanged:function(handler){try{this.Ga(handler);}catch(e){this._debug.bd(e,"add_markSelectionChanged");throw e;}},remove_markSelectionChanged:function(handler){try{this.IT(handler);}catch(e){this._debug.bd(e,"remove_markSelectionChanged");throw e;}},add_markTextSelectionChanged:function(handler){try{this.ES(handler);}catch(e){this._debug.bd(e,"add_markTextSelectionChanged");throw e;}},remove_markTextSelectionChanged:function(handler){try{this.FN(handler);}catch(e){this._debug.bd(e,"remove_markTextSelectionChanged");throw e;}},add_markRemoved:function(handler){try{this.AB(handler);}catch(e){this._debug.bd(e,"add_markRemoved");throw e;}},remove_markRemoved:function(handler){try{this.yN(handler);}catch(e){this._debug.bd(e,"remove_markRemoved");throw e;}},add_commentAdding:function(handler){try{this.aBi(handler);}catch(e){this._debug.bd(e,"add_commentAdding");throw e;}},remove_commentAdding:function(handler){try{this.atS(handler);}catch(e){this._debug.bd(e,"remove_commentAdding");throw e;}},add_commentAdded:function(handler){try{this.vs(handler);}catch(e){this._debug.bd(e,"add_commentAdded");throw e;}},remove_commentAdded:function(handler){try{this.zJ(handler);}catch(e){this._debug.bd(e,"remove_commentAdded");throw e;}},add_commentRemoved:function(handler){try{this.xu(handler);}catch(e){this._debug.bd(e,"add_commentRemoved");throw e;}},remove_commentRemoved:function(handler){try{this.CE(handler);}catch(e){this._debug.bd(e,"remove_commentRemoved");throw e;}},add_commentChanged:function(handler){try{this.rE(handler);}catch(e){this._debug.bd(e,"add_commentChanged");throw e;}},remove_commentChanged:function(handler){try{this.rA(handler);}catch(e){this._debug.bd(e,"remove_commentChanged");throw e;}},add_scaleChanged:function(handler){try{this.Wn(handler);}catch(e){this._debug.bd(e,"add_scaleChanged");throw e;}},remove_scaleChanged:function(handler){try{this.QG(handler);}catch(e){this._debug.bd(e,"remove_scaleChanged");throw e;}},add_exceptionThrown:function(handler){this.XY(handler);},remove_exceptionThrown:function(handler){this.Qa(handler);},get_currentState:function(){try{var aC=this.MW();this._debug.aQ('get_currentState',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_currentState");throw e;}},get_scaleFactor:function(){try{var aC=this.rk();this._debug.aQ('get_scaleFactor',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_scaleFactor");throw e;}},set_scaleFactor:function(scaleFactor){try{this._debug.aQ('set_scaleFactor',arguments);this.aCn(scaleFactor);}catch(e){this._debug.bd(e,"set_scaleFactor");throw e;}},zoomIn:function(factor){try{this._debug.aQ('zoomIn',arguments);this.JD(factor);}catch(e){this._debug.bd(e,"zoomIn");throw e;}},zoomOut:function(factor){try{this._debug.aQ('zoomOut',arguments);this.Vs(factor);}catch(e){this._debug.bd(e,"zoomOut");throw e;}},getMinMaxZoom:function(){return this.aoj();},displayAll:function(){try{this._debug.aQ('displayAll',arguments,null,1);this.aqz();}catch(e){this._debug.bd(e,"displayAll");throw e;}},display:function(pageIndex){try{this._debug.aQ('display',arguments);this.dk(pageIndex);}catch(e){this._debug.bd(e,"display");throw e;}},get_textRequired:function(){try{var aC=this.kY();this._debug.aQ('get_textRequired',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_textRequired");throw e;}},set_textRequired:function(value){try{this._debug.aQ('set_textRequired',arguments);this.EW(value);}catch(e){this._debug.bd(e,"set_textRequired");throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this._debug.aQ('selectText',arguments);this.XD(pageIndex,startIndex,endIndex,color);}catch(e){this._debug.bd(e,"selectText");throw e;}},clearSelectedText:function(pageIndex){try{this._debug.aQ('clearSelectedText',arguments,null,1);this.amj(pageIndex);}catch(e){this._debug.bd(e,"clearSelectedText");throw e;}},clearAllSelectedText:function(){try{this._debug.aQ('clearAllSelectedText',arguments);this.amU();}catch(e){this._debug.bd(e,"clearAllSelectedText");throw e;}},get_maxPrefetch:function(){try{var aC=this.aot();this._debug.aQ('get_maxPrefetch',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_maxPrefetch");throw e;}},set_maxPrefetch:function(value){try{this._debug.aQ('set_maxPrefetch',arguments);this.aCv(value);}catch(e){this._debug.bd(e,"set_maxPrefetch");throw e;}},get_displayPagesWhenScrolling:function(){try{var aC=this.amE();this._debug.aQ('get_displayPagesWhenScrolling',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_displayPagesWhenScrolling");throw e;}},set_displayPagesWhenScrolling:function(value){try{this._debug.aQ('set_displayPagesWhenScrolling',arguments);this.aAQ(value);}catch(e){this._debug.bd(e,"set_displayPagesWhenScrolling");throw e;}},get_maxOutOfViewDisplay:function(){try{var aC=this.aou();this._debug.aQ('get_maxOutOfViewDisplay',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_maxOutOfViewDisplay");throw e;}},set_maxOutOfViewDisplay:function(value){try{this._debug.aQ('set_maxOutOfViewDisplay',arguments);this.aBw(value);}catch(e){this._debug.bd(e,"set_maxOutOfViewDisplay");throw e;}},get_discardOutOfViewText:function(){try{var aC=this.alV();this._debug.aQ('get_discardOutOfViewText',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_discardOutOfViewText");throw e;}},set_discardOutOfViewText:function(value){try{this._debug.aQ('set_discardOutOfViewText',arguments);this.azN(value);}catch(e){this._debug.bd(e,"set_discardOutOfViewText");throw e;}},get_scrollDisplayThreshold:function(){try{var aC=this.apt();this._debug.aQ('get_scrollDisplayThreshold',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_scrollDisplayThreshold");throw e;}},set_scrollDisplayThreshold:function(value){try{this._debug.aQ('set_scrollDisplayThreshold',arguments);this.aCB(value);}catch(e){this._debug.bd(e,"set_scrollDisplayThreshold");throw e;}},get_mouseCursor:function(){try{var aC=this.ahv();this._debug.aQ('get_mouseCursor',arguments,aC);return aC;}catch(e){this._debug.bd(e,"ahv");throw e;}},set_mouseCursor:function(value){try{this._debug.aQ('set_mouseCursor',arguments);this.aBX(value);}catch(e){this._debug.bd(e,"set_mouseCursor");throw e;}},get_mouseTool:function(){try{var aC=this.ZT();this._debug.aQ('get_mouseTool',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_mouseTool");throw e;}},set_mouseTool:function(value){try{this._debug.aQ('set_mouseTool',arguments);this.EI(value);}catch(e){this._debug.bd(e,"set_mouseTool");throw e;}},get_markHandleMode:function(){try{var aC=this.zR();this._debug.aQ('get_markHandleMode',arguments);return aC;}catch(e){this._debug.bd(e,"get_markHandleMode");throw e;}},set_markHandleMode:function(h){try{this._debug.aQ('set_markHandleMode',arguments);this.Dn(h);}catch(e){this._debug.bd(e,"set_markHandleMode");throw e;}},get_retainPageText:function(){try{var aC=this.amJ();this._debug.aQ('get_retainPageText',arguments);return aC;}catch(e){this._debug.bd(e,"get_retainPageText");throw e;}},set_retainPageText:function(h){try{this._debug.aQ('set_retainPageText',arguments);this.aBd(h);}catch(e){this._debug.bd(e,"set_retainPageText");throw e;}},get_allowMarkEdits:function(){try{var aC=this.alG();this._debug.aQ('get_allowMarkEdits',arguments);return aC;}catch(e){this._debug.bd(e,"get_allowMarkEdits");throw e;}},set_allowMarkEdits:function(bool){try{this._debug.aQ('set_allowMarkEdits',arguments);this.azi(! !bool);}catch(e){this._debug.bd(e,"set_allowMarkEdits");throw e;}},get_currentPage:function(){try{var aC=this.ajA();this._debug.aQ('get_currentPage',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_currentPage");throw e;}},get_pageNodeId:function(pageIndex){try{var akJ=this.anW(pageIndex);this._debug.aQ('get_pageNodeId',arguments,akJ);return akJ;}catch(e){this._debug.bd(e,"get_pageNodeId");throw e;}},scrollToNextPage:function(){try{this._debug.aQ('scrollToNextPage',arguments);this.aCE();}catch(e){this._debug.bd(e,"scrollToNextPage");throw e;}},scrollToPreviousPage:function(){try{this._debug.aQ('scrollToPreviousPage',arguments);this.aBJ();}catch(e){this._debug.bd(e,"scrollToPreviousPage");throw e;}},scrollToFirstPage:function(){try{this._debug.aQ('scrollToFirstPage',arguments);this.aCj();}catch(e){this._debug.bd(e,"scrollToFirstPage");throw e;}},scrollToLastPage:function(){try{this._debug.aQ('scrollToLastPage',arguments);this.aBK();}catch(e){this._debug.bd(e,"scrollToLastPage");throw e;}},scrollToPage:function(pageIndex){try{this._debug.aQ('scrollToPage',arguments,null,1);this.qh(pageIndex);}catch(e){this._debug.bd(e,"scrollToPage");throw e;}},rotate:function(degreesClockwise){try{this._debug.aQ('rotate',arguments,null,1);this.aDQ(degreesClockwise);}catch(e){this._debug.bd(e,"rotate");throw e;}},rotateAll:function(degreesClockwise){try{this._debug.aQ('rotateAll',arguments,null,1);this.adk(degreesClockwise,true);}catch(e){this._debug.bd(e,"rotateAll");throw e;}},get_enabled:function(){try{var aC=this.amX();this._debug.aQ('get_enabled',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_enabled");throw e;}},get_pageLayout:function(){try{var aC=this.anR();this._debug.aQ('get_pageLayout',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_pageLayout");throw e;}},set_pageLayout:function(value){try{this._debug.aQ('set_pageLayout',arguments);this.aBS(value);}catch(e){this._debug.bd(e,"set_pageLayout");throw e;}},get_viewMode:function(){try{var aC=this.aoB();this._debug.aQ('get_viewMode',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_viewMode");throw e;}},set_viewMode:function(value){try{this._debug.aQ('set_viewMode',arguments);this.NU(value);}catch(e){this._debug.bd(e,"set_viewMode");throw e;}},get_loadingContent:function(){try{var aC=this.app();this._debug.aQ('get_loadingContent',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_loadingContent");throw e;}},set_loadingContent:function(value){try{this._debug.aQ('set_loadingContent',arguments);this.aBh(value);}catch(e){this._debug.bd(e,"set_loadingContent");throw e;}},fitPages:function(fitType){try{this._debug.aQ('fitPages',arguments,null,1);this.asU(fitType);}catch(e){this._debug.bd(e,"fitPages");throw e;}},openPage:function(pageIndex){try{this._debug.aQ('openPage',arguments,1);this.Le(pageIndex);}catch(e){this._debug.bd(e,"openPage");throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this._debug.aQ('requestPageAttributes',arguments,1);this.Jr(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this._debug.bd(e,"requestPageAttributes");throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this._debug.aQ('scrollRegionIntoView',arguments,1);return this.aBL(pageIndex,rectangle);}catch(e){this._debug.bd(e,"scrollRegionIntoView");throw e;}},scrollBy:function(xVal,yVal){try{this._debug.aQ('scrollBy',arguments,1);return this.aCb(xVal,yVal);}catch(e){this._debug.bd(e,"scrollBy");throw e;}},scrollTo:function(xVal,yVal){try{this._debug.aQ('scrollTo',arguments,1);return this.aCD(xVal,yVal);}catch(e){this._debug.bd(e,"scrollBy");throw e;}},scrollConversationIntoView:function(conversation){try{this._debug.aQ('scrollConversationIntoView',arguments,1);return this.aBT(conversation);}catch(e){this._debug.bd(e,"scrollConversationIntoView");throw e;}},get_documents:function(){return this.Ym();},get_encryption:function(){try{var aC=this.iH();this._debug.aQ('get_encryption',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_encryption");throw e;}},set_encryption:function(value){try{this._debug.aQ('set_encryption',arguments);this.nd(value);}catch(e){this._debug.bd(e,"set_encryption");throw e;}},get_annotationXmlDom:function(){try{var aC=this.ana();return aC;}catch(e){this._debug.bd(e,"get_annotationXmlDom");throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.azu(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this._debug.bd(e,"set_annotationXmlDom");throw e;}},get_resourcePath:function(){try{var aC=this.uJ();this._debug.aQ('get_resourcePath',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_resourcePath");throw e;}},set_resourcePath:function(h){try{this._debug.aQ('set_resourcePath',arguments);this.FT(h);}catch(e){this._debug.bd(e,"set_resourcePath");throw e;}},get_redactionDraftMode:function(){try{var aC=this.lU();this._debug.aQ('get_redactionDraftMode',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_redactionDraftMode");throw e;}},set_redactionDraftMode:function(value){try{this._debug.aQ('set_redactionDraftMode',arguments);this.oP(value);}catch(e){this._debug.bd(e,"set_redactionDraftMode");throw e;}},get_displayedPages:function(){try{var aC=this.amg();this._debug.aQ('get_displayedPages',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_displayedPages");throw e;}},get_requireRequestsOptimize:function(){try{var aC=this.yp();this._debug.aQ('get_requireRequestsOptimize',arguments,aC);return aC;}catch(e){this._debug.bd(e,"yp");throw e;}},set_requireRequestsOptimize:function(value){try{this._debug.aQ('set_requireRequestsOptimize',arguments);this.FY(value);}catch(e){this._debug.bd(e,"set_requireRequestsOptimize");throw e;}},get_serviceResponseTimeout:function(){try{var aC=this.kS();this._debug.aQ('get_serviceResponseTimeout',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_serviceResponseTimeout");throw e;}},set_serviceResponseTimeout:function(value){try{this._debug.aQ('set_serviceResponseTimeout',arguments);this.wy(value);}catch(e){this._debug.bd(e,"set_serviceResponseTimeout");throw e;}},get_pageRotation:function(){try{var aC=this.aoE();this._debug.aQ('get_pageRotation',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_pageRotation");throw e;}},set_pageRotation:function(value){try{this._debug.aQ('set_pageRotation',arguments);this.aCr(value);}catch(e){this._debug.bd(e,"set_pageRotation");throw e;}},getNodeID:function(pageIndex){try{this._debug.aQ('getNodeID',arguments,1);return this.aos(pageIndex);}catch(e){this._debug.bd(e,"getNodeID");throw e;}},get_isCommentsPanelOpen:function(){try{var aC=this.aop();this._debug.aQ('get_isCommentsPanelOpen',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_isCommentsPanelOpen");throw e;}},openCommentsPanel:function(){try{this._debug.aQ('openCommentsPanel',arguments);this.axp();}catch(e){this._debug.bd(e,"openCommentsPanel");throw e;}},closeCommentsPanel:function(){try{this._debug.aQ('closeCommentsPanel',arguments);this.ams();}catch(e){this._debug.bd(e,"closeCommentsPanel");throw e;}},get_conversationDOMFactory:function(){try{var aC=this.anr();this._debug.aQ('get_conversationDOMFactory',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_conversationDOMFactory");throw e;}},set_conversationDOMFactory:function(value){try{this._debug.aQ('set_conversationDOMFactory',arguments);this.azQ(value);}catch(e){this._debug.bd(e,"set_conversationDOMFactory");throw e;}},get_selectedConversation:function(){try{var aC=this.aoJ();this._debug.aQ('get_selectedConversation',arguments,aC);return aC;}catch(e){this._debug.bd(e,"get_selectedConversation");throw e;}},set_selectedConversation:function(value){try{this._debug.aQ('set_selectedConversation',arguments);this.aAY(value);}catch(e){this._debug.bd(e,"set_selectedConversation");throw e;}},refreshConversations:function(markIDs){try{this._debug.aQ('refreshConversations',arguments);this.auQ(markIDs);}catch(e){this._debug.bd(e,"refreshConversations");throw e;}}};IPCC.PageList.registerClass=IPCC.Web.regClass;IPCC.PageList.registerClass('IPCC.PageList',IPCC.Sys.UI.Control);IPCC.bK=function(aM){this.ej=aM.page;this.aR=0;this.al=0;this.hF=0;this.he=0;var bj=new IPCC.Web.UI.iS();this.aeC=undefined;this.gz=false;this.arv=false;this.GC=0;this.aGi=undefined;this.Ag=false;this.vY=false;this.CV=false;this.hl=0;this.Cs=0;this.BF=false;this.GA=false;this.aH=new IPCC.Web.UI.ArtPage();this.ff=new IPCC.Web.UI.ArtPage();this.cZ=this.ej.get_pageNumber();this.aG=this.ej.ag.PW+'_'+this.cZ+'__pViewId';this.ag=this.ej.ag;this.bY=function(cw){var R=bj.getHandler('propertyChanged');if(R){R(this,new IPCC.rC(cw));}};return this;};IPCC.bK.prototype.jX=function(){if(this.ej){return this.ej.ks()||this.aR;}return this.aR;};IPCC.bK.prototype.pU=function(){if(this.ej){return this.ej.jj()||this.al;}return this.al;};IPCC.bK.prototype.YZ=function(bool){bool= ! !bool;if(this.ej){this.ej.BF=bool;}this.BF=bool;};IPCC.bK.prototype.agw=function(){if(this.ej){return this.ej.BF||this.BF;}return this.BF;};IPCC.eF=function(){this.cX=undefined;return this;};var IPCC=window.IPCC||{};(function(IPCC){var zq='0.0.0000.0000';IPCC.Vv=function Vv(){return zq;};})(IPCC);(function(IPCC){IPCC.Error=function(code,message){var abG=Error.call(null,message);this.code=code;function auH(aZ,hG){Object.getOwnPropertyNames(hG).forEach(function(propName){Object.defineProperty(aZ,propName,Object.getOwnPropertyDescriptor(hG,propName));});return aZ;};function auc(aZ,hG){for(var i in hG){if(hG.hasOwnProperty(i)){aZ[i]=hG[i];}}return aZ;};if(typeof Object.create==='function'){auH(this,abG);}else{auc(this,abG);}};var ayo=(function(){var fJ=function(){};return function(acy){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof acy!=='object'){throw TypeError('Argument must be an object');}fJ.prototype=acy;var aV=new fJ();fJ.prototype=null;return aV;};})();if(typeof Object.create==='function'){IPCC.Error.prototype=Object.create(Error.prototype);}else{IPCC.Error.prototype=ayo(Error.prototype);}IPCC.Error.prototype.constructor=IPCC.Error;})(IPCC||{});(function(IPCC){IPCC.Language={data:{},initializeData:function(aCo){IPCC.Language.data=IPCC.V.extend({},aCo);return IPCC.Language;},getData:function(){return IPCC.Language.data;},getValue:function(aic){if(typeof IPCC.Language.data==='undefined'){throw new Error('Language data is not set.');}var oU=aic.split('.'),aU=IPCC.Language.data,bw;while(oU.length){bw=oU.shift();aU=aU[bw];if(typeof aU==='undefined'){aU=aic;break;}}return aU;}};})(IPCC||{});(function(IPCC){"use strict";function Event(target,type){this.aZ=target;this.bv=type;};IPCC.Event=Event;IPCC.Event.prototype.getTarget=function(){return this.aZ;};IPCC.Event.prototype.getType=function(){return this.bv;};if(Object.defineProperties){Object.defineProperties(IPCC.Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}IPCC.EventEmitter=(function(){function on(eventType,handler){if(!this.jU){this.jU={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jU[lowerCaseEventType];if(!handlers){handlers=this.jU[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jU){this.jU={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jU[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jU){this.jU={};}var lowerCaseEventType=eventType.toLowerCase(),event=new IPCC.Event(this,lowerCaseEventType),handlers=this.jU[lowerCaseEventType],i,length=0;if(properties){IPCC.Gz.wc(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();})(IPCC||{});(function(IPCC){'use strict';function PromiseDeferred(){this.eN=PromiseDeferred.States.Pending;this.h=null;this.eL=null;this.kv=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var zU=new PromiseDeferred();var SO,Rg;if(onFulfilled&&typeof onFulfilled==='function'){var axB=function(h){try{var aC=onFulfilled(h);zU.resolve(aC);}catch(e){zU.reject(e);}};SO=axB;}else{var axj=function(h){zU.resolve(h);};SO=axj;}if(onRejected&&typeof onRejected==='function'){var aAv=function(eL){try{var aC=onRejected(eL);RI(zU,aC);}catch(e){zU.reject(e);}};Rg=aAv;}else{var aAr=function(eL){zU.reject(eL);};Rg=aAr;}this.kv.push({alR:SO,aui:Rg});if(this.eN===PromiseDeferred.States.Fulfilled){this.amK();}if(this.eN===PromiseDeferred.States.Rejected){this.amV();}return zU;};PromiseDeferred.prototype.resolve=function(x){if(!this.ajS()){return;}RI(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.ajS()){return;}this.zn(reason);};PromiseDeferred.prototype.SH=function(aL){this.eN=PromiseDeferred.States.Fulfilled;this.h=aL;this.amK();};PromiseDeferred.prototype.amK=function(){var callback;while(this.kv.length>0){callback=this.kv.shift().alR;(function(lM,h){setTimeout(function(){lM(h);},0);})(callback,this.h);}};PromiseDeferred.prototype.amV=function(){var callback;while(this.kv.length>0){callback=this.kv.shift().aui;(function(lM,h){setTimeout(function(){lM(h);},0);})(callback,this.eL);}};function RI(cT,aL){if(cT===aL){cT.zn(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aL&&aL.VF&&cT.adf&&cT.adf===aL){cT.zn(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aL&&aL.VF&&aL.VF==="IPCC.Promise"){aL.then(function(anC){cT.SH(anC);},function(anF){cT.zn(anF);});}else if(aL!==null&&(typeof aL==='object'||typeof aL==='function')){var Vj;try{Vj=aL.then;}catch(e){cT.zn(e);return;}if(typeof Vj==='function'){var JR=true;var anA=function(dr){if(JR){RI(cT,dr);JR=false;}};var anS=function(aC){if(JR){cT.zn(aC);JR=false;}};try{Vj.call(aL,anA,anS);}catch(e){if(JR){cT.zn(e);}}}else{cT.SH(aL);}}else{cT.SH(aL);}};PromiseDeferred.prototype.zn=function(reason){this.eN=PromiseDeferred.States.Rejected;this.eL=reason;this.amV();};PromiseDeferred.prototype.ajS=function(){return this.eN===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};IPCC.Deferred=function(){var Rn=new PromiseDeferred();function Promise(cT){this.then=function(onFulfilled,onRejected){return new Promise(cT.then(onFulfilled,onRejected));};this.VF="IPCC.Promise";cT.adf=this;};var promise=new Promise(Rn);return{getPromise:function(){return promise;},resolve:function(value){Rn.resolve(value);},reject:function(reason){Rn.reject(reason);}};};IPCC.Promise={all:function(promises){var i,ah=new IPCC.Deferred(),XB=ah.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var ah=new IPCC.Deferred();ah.resolve(value);return ah.getPromise();};ah.resolve([]);for(i=0;i<promises.length;i++){XB=XB.then(createPushFunction(promises[i]));}return XB;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=IPCC.Deferred;}})(IPCC||{});(function(IPCC){"use strict";IPCC.AjaxResponse=function(aD){if(aD instanceof IPCC.AjaxResponse){return aD;}else if(!(this instanceof IPCC.AjaxResponse)){return new IPCC.AjaxResponse(aD);}this.nH=new IPCC.V.nH(aD);this.status=this.nH.status;this.statusText=this.nH.statusText;this.responseText=this.nH.responseText;if(typeof this.nH.responseBody!=='undefined'){this.responseBody=this.nH.responseBody;}return this;};IPCC.AjaxResponse.prototype.getResponseHeader=function(Es){return this.nH.getResponseHeader(Es);};IPCC.Ajax=(function(){function anI(){return IPCC.V.extend({},IPCC.V.mR.hg);};function auS(hg){if(!(typeof hg==='undefined'||(typeof hg==='object'&&hg!==null&& !(hg instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof hg==='object'){var apL=Object.keys(IPCC.V.aiA());Object.keys(hg).forEach(function(Es){if(apL.indexOf(Es)!== -1){throw new Error('Cannot overwrite the header "'+Es+'".');}});}IPCC.V.mR.hg=IPCC.V.extend({},hg);return IPCC.Ajax;};function azW(){return IPCC.V.mR.Pw;};function auM(hU){if(typeof hU!=='undefined'&&typeof hU!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.V.mR.Pw=hU;return IPCC.Ajax;};function fB(bH){var ah=IPCC.Deferred();if(!(typeof bH==='undefined'||(typeof bH==='object'&&bH!==null&& !(bH instanceof Array)))){throw new Error('Options should be an object or undefined.');}function ee(aD){if(!(aD instanceof IPCC.AjaxResponse)){aD=new IPCC.AjaxResponse(aD);}ah.resolve(aD);};function fl(aV){if(aV.response){aV.response=new IPCC.AjaxResponse(aV.response);}ah.reject(aV);};IPCC.V.mR.fB(bH).then(ee,fl);return ah.getPromise();};return{getHeaders:anI,setHeaders:auS,getOverrideMethod:azW,setOverrideMethod:auM,fB:fB,};})();if(Object.defineProperties){Object.defineProperties(IPCC.Ajax,{"headers":{enumerable:true,get:function(){return IPCC.Ajax.getHeaders();},set:function(hg){return IPCC.Ajax.setHeaders(hg);}},"overrideMethod":{enumerable:true,get:function(){return IPCC.Ajax.getOverrideMethod();},set:function(hU){return IPCC.Ajax.setOverrideMethod(hU);}}});}})(IPCC||{});(function(IPCC){function ajK(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function axW(axx){var aA=[];var aiI=function(n){return!(isNaN(+n));};var aau=axx.split(',');var Mx,Qw;var Oo=0;var wQ=0;for(var H=0;H<aau.length;H++){var Jq=aau[H].split('-');var Cz=Jq[0].replace(/\s+/g,'');if(Cz.length===0){continue;}var Kd=Cz;if(Jq[1]!==undefined&&Jq[1]!==""){Kd=Jq[1].replace(/\s+/g,'');}Cz= +(Cz);Kd= +(Kd);if(aiI(Cz)===true){Oo=parseInt(Cz);}if(aiI(Kd)===true){wQ=parseInt(Kd);}if(Oo<wQ){Mx=Oo;Qw=wQ;}else{Mx=wQ;Qw=Oo;}if(Jq.length>1){for(var bV=Mx;bV<=Qw;bV++){aA.push(bV);}}else{aA.push(Mx);}}aA.sort(function(a,b){return a-b;});for(H=aA.length-1;H>0;H--){if(aA[H-1]===aA[H]){aA.splice(H,1);}}return aA;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};IPCC.Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var fY;if(!(selections instanceof Array)){fY=[selections];}else{fY=selections;}IPCC.V.forEach(fY,function(du){IPCC.aS.na(du.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aS.na(du.length,'selection.length',1,Number.MAX_VALUE);IPCC.aS.cV(du.color,'selection.color');IPCC.aS.na(du.opacity,'selection.opacity',0,255);});IPCC.aS.cV(backgroundColor,'backgroundColor');var amB=IPCC.V.abh(fY);return IPCC.V.map(amB,function(cn){cn.length=cn.endIndex-cn.startIndex+1;return cn;});},layerColors:function(colors,backgroundColor){var LB;if(!(colors instanceof Array)){LB=[colors];}else{LB=colors;}IPCC.V.forEach(LB,function(du){IPCC.aS.cV(du.color,'selection.color');IPCC.aS.na(du.opacity,'selection.opacity',0,255);});IPCC.aS.cV(backgroundColor,'backgroundColor');return IPCC.V.afu(LB,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{IPCC.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw ajK('Illegal page range value',pageRange);}var dQ=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dQ.unshift(upperLimit--);}}else{dQ=axW(pageRange);if((dQ.length===0&& !allowEmpty)||dQ[0]<lowerLimit||dQ[dQ.length-1]>upperLimit){throw ajK('Pages are out of range',dQ.join(', '));}}return dQ;}};})(IPCC||{});(function(IPCC){IPCC.ObservableCollection=function(){var yi=[];var oZ={};IPCC.EventEmitter.extend(oZ);oZ.Pa=function(DS,bP){var K=this;return setTimeout(function(){K.trigger(DS,bP);},0);};this.add=function(item){yi.push(item);oZ.Pa(this.EventType.ItemAdded,{item:item,count:yi.length});return this;};this.remove=function(item){var K=this;this.forEach(function(e,idx){if(e===item){yi.splice(idx,1);oZ.Pa(K.EventType.ItemRemoved,{item:item,count:yi.length});}});return this;};this.removeAll=function(){yi=[];oZ.Pa(this.EventType.ItemRemoved,{count:yi.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.V.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(yi);};this.on=function(eventType,handler){oZ.on.apply(oZ,arguments);return this;};this.off=function(eventType,handler){oZ.off.apply(oZ,arguments);return this;};};IPCC.ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};})(IPCC||{});(function(IPCC){"use strict";IPCC.Data=(function(){function getData(key){return this.dB.get_data(key);};function setData(key,value){this.dB.set_data(key,value);return this;};function getDataKeys(){return this.dB.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},mO:function(hG,oV){if(typeof hG.getData!=="function"||typeof hG.setData!=="function"||typeof hG.getDataKeys!=="function"||typeof oV.getData!=="function"||typeof oV.setData!=="function"||typeof oV.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var oU=hG.getDataKeys(),i,length=oU.length;for(i=0;i<length;i++){var bw=oU[i];oV.setData(bw,hG.getData(bw));}}};})();IPCC.SessionData=(function(){function getSessionData(key){return this.Eq.get_data(key);};function setSessionData(key,value){this.Eq.set_data(key,value);return this;};function getSessionDataKeys(){return this.Eq.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aFe:function(hG,oV){if(typeof hG.getSessionData!=="function"||typeof hG.setSessionData!=="function"||typeof hG.getSessionDataKeys!=="function"||typeof oV.getSessionData!=="function"||typeof oV.setSessionData!=="function"||typeof oV.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var oU=hG.getSessionDataKeys(),i,length=oU.length;for(i=0;i<length;i++){var bw=oU[i];oV.setSessionData(bw,hG.getSessionData(bw));}}};})();})(IPCC||{});(function(IPCC){'use strict';function Mark(parameters){this.uv=parameters.igNetType;if(parameters.type=='RectangleAnnotation')this.uv='RectangleMark:ImageGear.Web.Viewer.Art';else if(parameters.type=="EllipseAnnotation")this.uv='EllipseMark:ImageGear.Web.Viewer.Art';else if(parameters.type=="LineAnnotation")this.uv='LineMark:ImageGear.Web.Viewer.Art';else if(parameters.type=="PolylineAnnotation")this.uv='PolylineMark:ImageGear.Web.Viewer.Art';else if(parameters.type=="PolygonAnnotation")this.uv='PolygonMark:ImageGear.Web.Viewer.Art';else if(parameters.type=="TextAnnotation")this.uv='TextMark:ImageGear.Web.Viewer.Art';this.aY=0;this.dw=undefined;this.DV=false;this.pl=IPCC.Mark.InteractionMode.Full;this.cd=true;if(parameters.uid&&parameters.viewerControl){(function(bn,jG){IPCC.V.forEach(bn,function validateMark(jZ){if(jZ.getUid()===jG){throw new Error('Uid '+jG+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var jG=parameters.uid||IPCC.V.agp();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.T=parameters.igMark;this.dw=this.T.get_markID().toString();this.dB=this.T.get_data();}else{this.dB=new IPCC.Web.UI.Data();}IPCC.Data.extend(this);this.Eq=new IPCC.Web.UI.Data();IPCC.SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aS.ho(parameters.pageNumber,'pageNumber');this.aY=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aS.mP(parameters.id,'id');this.dw=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.DV){this.bv=parameters.type;this.DV=true;}else if(parameters.type!==undefined){IPCC.aS.mP(parameters.type,'type');var IX=Pm(parameters.type,IPCC.Mark.Type);if(IX===null){throw new RangeError("The value of mark type was invalid.");}this.bv=IX;}if('cY'in parameters){this.cY=parameters.cY;}if('bI'in parameters){this.bI=parameters.bI;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return jG;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:jG,enumerable:true,writable:false});}};IPCC.Mark=Mark;IPCC.Mark.prototype.getType=function(){return this.bv;};IPCC.Mark.prototype.getId=function(){return this.dw;};IPCC.Mark.prototype.getIgNetType=function(){return this.uv;};IPCC.Mark.prototype.getPageNumber=function(){return this.aY;};IPCC.Mark.prototype.getConversation=function(){if(!this.cj){this.cj=new IPCC.Conversation(this);}return this.cj;};IPCC.Mark.prototype.getBoundingRectangle=function(){if(this.T){var bo=this.T.get_boundingRectangle();if(bo instanceof IPCC.Web.UI.Rectangle){this.me={width:bo.width,height:bo.height,x:bo.x,y:bo.y};}}return this.me;};IPCC.Mark.prototype.getInteractionMode=function(){if(this.T){switch(this.T.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return IPCC.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return IPCC.Mark.InteractionMode.Full;default:return IPCC.Mark.InteractionMode.Full;}}return this.pl;};IPCC.Mark.prototype.setInteractionMode=function(interactionMode){var pl=Pm(interactionMode,IPCC.Mark.InteractionMode),XU;switch(pl){case IPCC.Mark.InteractionMode.SelectionDisabled:XU=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case IPCC.Mark.InteractionMode.Full:XU=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.T){this.T.set_interactionMode(XU);}this.pl=pl;return this;};IPCC.Mark.prototype.reset=function(){var cs=new Mark({type:this.bv,DV:this.DV});this.dB={};if(this.setBorderColor&&cs.getBorderColor){this.setBorderColor(cs.getBorderColor());}if(this.setBorderThickness&&cs.getBorderThickness){this.setBorderThickness(cs.getBorderThickness());}if(this.setColor&&cs.getColor){this.setColor(cs.getColor());}if(this.setEndHeadType&&cs.getEndHeadType){this.setEndHeadType(cs.getEndHeadType());}if(this.setEndPoint&&cs.getEndPoint){this.setEndPoint(cs.getEndPoint());}if(this.setFillColor&&cs.getFillColor){this.setFillColor(cs.getFillColor());}if(this.setFontColor&&cs.getFontColor){this.setFontColor(cs.getFontColor());}if(this.setFontName&&cs.getFontName){this.setFontName(cs.getFontName());}if(this.setFontSize&&cs.getFontSize){this.setFontSize(cs.getFontSize());}if(this.setFontStyle&&cs.getFontStyle){this.setFontStyle(cs.getFontStyle());}if(this.setHorizontalAlignment&&cs.getHorizontalAlignment){this.setHorizontalAlignment(cs.getHorizontalAlignment());}if(this.setLabel&&cs.getLabel){this.setLabel(cs.getLabel());}if(this.setPosition&&this.T&&cs.getPosition){this.setPosition(cs.getPosition());}if(this.setReason&&cs.setReason){this.setReason(cs.getReason());}if(this.setOpacity&&cs.getOpacity){this.setOpacity(cs.getOpacity());}if(this.setRectangle&&cs.getRectangle){this.setRectangle(cs.getRectangle());}if(this.setStartPoint&&cs.getStartPoint){this.setStartPoint(cs.getStartPoint());}if(this.setText&&cs.getText){this.setText(cs.getText());}if(this.setThickness&&cs.getThickness){this.setThickness(cs.getThickness());}if(this.setPath&&cs.getPath){this.setPath(cs.getPath());}if(this.setHref&&cs.getHref){this.setHref(cs.getHref());}if(this.setImage&&cs.getImage){this.setImage(cs.getImage());}if(this.setInteractionMode&&cs.getInteractionMode){this.setInteractionMode(cs.getInteractionMode());}if(this.setPoints&&cs.getPoints){this.setPoints(cs.getPoints());}if(this.setMask&&cs.getMask){this.setMask(cs.getMask());}if(this.setMaxLength&&cs.getMaxLength){this.setMaxLength(cs.getMaxLength());}if(this.setMaxFontSize&&cs.getMaxFontSize){this.setMaxFontSize(cs.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(IPCC.Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}IPCC.Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",PolylineAnnotation:"PolylineAnnotation",PolygonAnnotation:"PolygonAnnotation",};IPCC.Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};IPCC.Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};IPCC.Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};IPCC.Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function Pm(Sp,bv){var RO=Sp.toLowerCase();for(var standardType in bv){if(bv.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===RO){return standardType;}}return null;};function addMethodsToMark(G){function amO(G){G.highlightText=function(highlights){if(!this.T){throw new Error("It is invalid to highlight text on this mark.");}var ni;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){ni=[highlights];}else{ni=highlights;}for(var i=0;i<ni.length;i++){avw(ni[i]);}}else{ni=[];}var bv=G.getType();switch(bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:G.T.selectText(ni);break;case IPCC.Mark.Type.HighlightAnnotation:case IPCC.Mark.Type.TextSelectionRedaction:case IPCC.Mark.Type.TextHyperlinkAnnotation:case IPCC.Mark.Type.StrikethroughAnnotation:var K=this;var Qb=[];var wc=false,KO=0,OY,Cq;var ael=function(Fz,alZ,fY){var xU;var Pv= -1,Pj=[];var vO=(Fz.aq+Fz.dA);if(wc===true&&OY>=0&&Cq>=0){if(Fz.av-1===OY){xU=0;if(KO<=vO){Pj.push({startIndex:xU,length:KO,color:fY[Cq].color,opacity:(fY[Cq].opacity)?fY[Cq].opacity:127});wc=false;KO=0;OY= -1;Cq= -1;}}}for(var bF=0;bF<fY.length;bF++){xU=Fz.aq+fY[bF].startIndex-alZ;if(xU<0){continue;}if(Array.prototype.indexOf){Pv=Qb.indexOf(bF);}else{Pv=IPCC.Web.kO(Qb,bF);}var cA=127;if(Pv=== -1){if(xU+fY[bF].length<=vO){if(fY[bF].opacity){cA=fY[bF].opacity;}Pj.push({startIndex:xU,length:fY[bF].length,color:fY[bF].color,opacity:cA});Qb.push(bF);K.Dv.push(fY[bF]);}else{var XC=vO-xU;if(XC>0){KO=fY[bF].length-XC;cA=127;if(fY[bF].opacity){cA=fY[bF].opacity;}Pj.push({startIndex:xU,length:XC,color:fY[bF].color,opacity:cA});Qb.push(bF);K.Dv.push(fY[bF]);wc=true;Cq=bF;OY=Fz.av;}}}}return Pj;};this.Dv=[];var fF=ael(this.T,0,ni);G.clearHighlights();if(fF.length>0){K.T.selectText(fF);}fF=[];var hC=this.T.dA;if(this.ck&&this.ck.length){for(var H=0;H<this.ck.length;H++){fF=[];fF=ael(this.ck[H],hC,ni);hC+=this.ck[H].dA;if(fF.length>0){this.ck[H].selectText(fF);}}}break;}return this;};function avw(EZ){IPCC.aS.na(EZ.startIndex,'highlight.startIndex',0,G.getText().length);IPCC.aS.na(EZ.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aS.cV(EZ.color,'highlight.color');if(EZ.opacity){IPCC.aS.na(EZ.opacity,"highlight.opacity",0,255);}};G.clearHighlights=function(){if(this.T){if(!this.T){throw new Error("It is invalid to clear highlights on this mark.");}}var bv=G.getType();switch(bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:G.T.selectText();break;case IPCC.Mark.Type.HighlightAnnotation:case IPCC.Mark.Type.TextSelectionRedaction:case IPCC.Mark.Type.TextHyperlinkAnnotation:case IPCC.Mark.Type.StrikethroughAnnotation:this.T.selectText();if(this.ck&&this.ck.length){for(var H=0;H<this.ck.length;H++){this.ck[H].selectText();}}break;}return this;};};var bv=G.getType();switch(bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.HighlightAnnotation:case IPCC.Mark.Type.TextSelectionRedaction:case IPCC.Mark.Type.TextHyperlinkAnnotation:case IPCC.Mark.Type.StrikethroughAnnotation:amO(G);break;default:break;}};function addPropertiesToMark(G){G.me={x:0,y:0,width:0,height:0};var bv=G.getType();switch(bv){case IPCC.Mark.Type.LineAnnotation:G.cV='#18385F';G.hB=IPCC.Web.UI.LineStyle.Solid;G.nr=6;G.cA=255;G.Mz={x:0,y:0};G.vO={x:0,y:0};G.mU="None";break;case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:G.cN='#FB0404';G.pI=true;G.cA=255;G.nt='#000000';G.np=4;G.C={x:0,y:0,width:0,height:0};break;case IPCC.Mark.Type.RectangleRedaction:G.eL="";G.cN='#000000';G.nt='#000000';G.np=1;G.hc='#FFFFFF';G.C={x:0,y:0,width:0,height:0};G.nS=true;if(G.T){G.T.lk(G.nS);}break;case IPCC.Mark.Type.TransparentRectangleRedaction:G.C={x:0,y:0,width:0,height:0};G.nS=true;if(G.T){G.T.lk(G.nS);G.T.set_fillColor('#FFFF00');G.T.set_opacity(127);G.T.set_lineWidth(1);G.T.set_lineColor('#FFFF00');}break;case IPCC.Mark.Type.TextAnnotation:G.an='';G.cN='#FFFFFF';G.cA=127;G.nt='#000000';G.np=4;G.hc='#000000';G.hq="Arial";G.dH=12;G.dF=[];G.lQ="Left";G.fr=0;G.C={x:0,y:0,width:0,height:0};break;case IPCC.Mark.Type.StampAnnotation:case IPCC.Mark.Type.StampRedaction:G.us="Approved";G.C={x:0,y:0,width:0,height:0};if(bv===IPCC.Mark.Type.StampRedaction){G.nS=true;if(G.T){G.T.lk(G.nS);G.T.set_fillColor('#000000');}}else{G.cV="#000000";}break;case IPCC.Mark.Type.HighlightAnnotation:G.cN="#FFFF00";G.an='';G.cz='';if(G.T){if(G.T.cz){G.an=G.T.cz;}}G.dg={startIndex:0,length:0};G.Dv=[];G.ck=[];break;case IPCC.Mark.Type.TextSelectionRedaction:G.eL="";G.an='';G.dg={startIndex:0,length:0};if(G.T){G.T.set_fillColor('#000000');if(G.T.cz){G.an=G.T.cz;}}G.Dv=[];G.ck=[];break;case IPCC.Mark.Type.TextHyperlinkAnnotation:G.oK='';G.cN="#3B00FF";G.an='';if(G.T){if(G.T.cz){G.an=G.T.cz;}}G.dg={startIndex:0,length:0};G.Dv=[];G.ck=[];break;case IPCC.Mark.Type.TextRedaction:G.an='';G.hc='#000000';G.hq="Arial";G.dH=12;G.C={x:0,y:0,width:0,height:0};G.nS=true;G.fr=0;if(G.T){G.T.lk(G.nS);G.T.set_fillColor('#FFFFFF');}G.lQ="Left";break;case IPCC.Mark.Type.FreehandAnnotation:G.cA=255;G.C={x:0,y:0,width:0,height:0};G.nr=4;G.cV='#000000';G.gP='M0,0';break;case IPCC.Mark.Type.FreehandSignature:G.C={x:0,y:0,width:0,height:0};G.nr=4;G.cV='#000000';G.lQ="Center";G.gP='M0,0';break;case IPCC.Mark.Type.TextSignature:G.an="John Doe";G.C={x:0,y:0,width:0,height:0};G.cV="#000000";if(G.T){G.cV=G.T.cN||'#000000';G.T.lk(G.nS);G.T.set_fillColor(G.cV);}G.lQ="Center";G.hq="";break;case IPCC.Mark.Type.TextInputSignature:G.an="";G.C={x:0,y:0,width:0,height:0};G.hc="#000000";G.fr=0;if(G.T){G.hc=G.T.get_textColor()||'#000000';G.T.lk(false);}G.lQ="Left";G.hq="Courier New";G.iG=null;break;case IPCC.Mark.Type.TextAreaSignature:G.an="";G.C={x:0,y:0,width:0,height:0};G.hc="#000000";if(G.T){G.hc=G.T.get_textColor()||'#000000';G.T.lk(false);}G.lQ="Left";G.hq="Courier New";G.dF=[];G.fr=0;G.iu=0;break;case 'PlaceSignature':G.jH=undefined;G.C={x:0,y:0,width:0,height:0};break;case IPCC.Mark.Type.ImageStampAnnotation:case IPCC.Mark.Type.ImageStampRedaction:G.ap="";G.rd="";G.C={x:0,y:0,width:0,height:0};if(G.T&&bv===IPCC.Mark.Type.ImageStampRedaction){G.nS=true;G.T.lk(G.nS);}break;case IPCC.Mark.Type.PolylineAnnotation:G.cV='#000000';G.hB=IPCC.Web.UI.LineStyle.Solid;G.nr=2;G.cA=255;G.ai=[{x:0,y:0},{x:0,y:0}];break;case IPCC.Mark.Type.PolygonAnnotation:G.nt='#000000';G.cN='#FB0404';G.pI=true;G.hB=IPCC.Web.UI.LineStyle.Solid;G.nr=2;G.cA=255;G.ai=[{x:0,y:0},{x:0,y:0}];break;case IPCC.Mark.Type.StrikethroughAnnotation:G.cV='#000000';G.hB=IPCC.Web.UI.LineStyle.Solid;G.nr=2;G.an='';G.cz='';if(G.T){if(G.T.cz){G.an=G.T.cz;}}G.dg={startIndex:0,length:0};G.Dv=[];G.ck=[];break;}function getSignature(){return this.jH||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.jH=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.jH=signature;return this;};if(G.jH||G.bv==='PlaceSignature'){G.getSignature=getSignature;G.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(G,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.T){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:case IPCC.Mark.Type.FreehandSignature:case IPCC.Mark.Type.FreehandAnnotation:case IPCC.Mark.Type.StrikethroughAnnotation:this.cV=this.T.get_lineColor()||this.cV;break;case IPCC.Mark.Type.StampAnnotation:case IPCC.Mark.Type.TextSignature:this.cV=this.T.get_fillColor()||this.cV;break;}}return this.cV;};function setColor(value){IPCC.aS.cV(value,'color');this.cV=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:case IPCC.Mark.Type.FreehandSignature:case IPCC.Mark.Type.FreehandAnnotation:this.T.set_lineColor(value);break;case IPCC.Mark.Type.StampAnnotation:this.T.set_fillColor(value);break;case IPCC.Mark.Type.TextSignature:this.T.set_textColor(value);this.T.set_fillColor(value);break;case IPCC.Mark.Type.StrikethroughAnnotation:this.T.set_lineColor(value);if(this.ck&&this.ck.length){for(var H=0;H<this.ck.length;H++){this.ck[H].set_lineColor(value);}}break;}}return this;};if(G.cV!==undefined){G.getColor=getColor;G.setColor=setColor;if(Object.defineProperties){Object.defineProperties(G,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.HighlightAnnotation:case IPCC.Mark.Type.TextHyperlinkAnnotation:case IPCC.Mark.Type.RectangleRedaction:this.cN=this.T.get_fillColor()||this.cN;break;}}return this.cN;};function setFillColor(value){if(this.bv===IPCC.Mark.Type.HighlightAnnotation||this.bv===IPCC.Mark.Type.TextHyperlinkAnnotation){IPCC.aS.cV(value,'fillColor');}else{IPCC.aS.SJ(value,'fillColor');}this.cN=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.RectangleRedaction:case IPCC.Mark.Type.PolygonAnnotation:this.T.set_fillColor(value);break;case IPCC.Mark.Type.HighlightAnnotation:case IPCC.Mark.Type.TextHyperlinkAnnotation:this.T.set_fillColor(value);if(this.ck&&this.ck.length){for(var H=0;H<this.ck.length;H++){this.ck[H].set_fillColor(value);}}break;}}return this;};if(G.cN!==undefined){G.getFillColor=getFillColor;G.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(G,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getFillVisible(){if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.PolygonAnnotation:this.pI=this.T.get_fillVisible()||this.pI;break;}}return this.pI;};function setFillVisible(value){this.pI=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.PolygonAnnotation:this.T.set_fillVisible(value);break;}}return this;};if(G.pI!==undefined){G.getFillVisible=getFillVisible;G.setFillVisible=setFillVisible;if(Object.defineProperties){Object.defineProperties(G,{"fillVisible":{enumerable:true,get:function(){return this.getFillVisible();},set:function(value){return this.setFillVisible(value);}}});}}function getImage(){var retVal={dataUrl:this.ap,id:this.rd};return retVal;};function setImage(params){IPCC.aS.mP(params.dataUrl,'string');IPCC.aS.mP(params.id,'string');this.ap=params.dataUrl;this.rd=params.id;if(this.T){switch(this.bv){case IPCC.Mark.Type.ImageStampAnnotation:case IPCC.Mark.Type.ImageStampRedaction:this.T.set_image(params.dataUrl);this.T.rd=params.id;break;}}return this;};if(G.ap!==undefined){G.getImage=getImage;G.setImage=setImage;if(Object.defineProperties){Object.defineProperties(G,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.PolygonAnnotation:case IPCC.Mark.Type.RectangleRedaction:this.nt=this.T.get_lineColor()||this.nt;break;}}return this.nt;};function setBorderColor(value){IPCC.aS.SJ(value,'borderColor');this.nt=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.RectangleRedaction:case IPCC.Mark.Type.PolygonAnnotation:this.T.set_lineColor(value);break;}}return this;};if(G.nt!==undefined){G.getBorderColor=getBorderColor;G.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(G,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getLineStyle(){if(this.T){switch(this.bv){case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:this.hB=this.T.get_lineStyle()||this.hB;break;}}return this.hB;};function setLineStyle(value){if(this.T){switch(this.bv){case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:this.T.set_lineStyle(value);break;}}return this;};if(G.hB!==undefined){G.getLineStyle=getLineStyle;G.setLineStyle=setLineStyle;if(Object.defineProperties){Object.defineProperties(G,{"lineStyle":{enumerable:true,get:function(){return this.getLineStyle();},set:function(value){return this.setLineStyle(value);}}});}}function getOpacity(){if(this.T){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.FreehandAnnotation:case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:this.cA=this.T.get_opacity()||this.cA;break;}}return this.cA;};function setOpacity(value){IPCC.aS.na(value,'opacity',0,255);this.cA=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.FreehandAnnotation:case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:this.T.set_opacity(value);break;}}return this;};if(G.cA!==undefined&&G.cA>=0){G.getOpacity=getOpacity;G.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(G,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.T){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:case IPCC.Mark.Type.FreehandSignature:case IPCC.Mark.Type.FreehandAnnotation:case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:case IPCC.Mark.Type.StrikethroughAnnotation:this.nr=this.T.get_lineWidth()||this.nr;break;}}return this.nr;};function setThickness(value){IPCC.aS.ly(value,'thickness',1,50);this.nr=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:case IPCC.Mark.Type.FreehandSignature:case IPCC.Mark.Type.FreehandAnnotation:case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:this.T.set_lineWidth(value);break;case IPCC.Mark.Type.StrikethroughAnnotation:this.T.set_lineWidth(value);if(this.ck&&this.ck.length){for(var H=0;H<this.ck.length;H++){this.ck[H].set_lineWidth(value);}}break;}}return this;};if(G.nr){G.getThickness=getThickness;G.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(G,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.RectangleRedaction:this.np=this.T.get_lineWidth()||this.np;break;}}return this.np;};function setBorderThickness(value){IPCC.aS.ly(value,'borderThickness',1,50);this.np=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.RectangleRedaction:this.T.set_lineWidth(value);break;}}return this;};if(G.np!==undefined){G.getBorderThickness=getBorderThickness;G.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(G,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.T){this.cd=this.T.get_visible();}return this.cd;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.cd=value;if(this.T){this.T.set_visible(value);}var H;switch(this.bv){case IPCC.Mark.Type.TextSelectionRedaction:case IPCC.Mark.Type.TextHyperlinkAnnotation:case IPCC.Mark.Type.HighlightAnnotation:case IPCC.Mark.Type.StrikethroughAnnotation:if(this.ck&&this.ck.length){for(H=0;H<this.ck.length;H++){this.ck[H].set_visible(value);}}if(this.bv===IPCC.Mark.Type.TextSelectionRedaction){var dX=this.T;for(H=0;H<this.T.cL.length;H++){dX.cL[H].set_visible(value);}if(dX.aa){IPCC.V.forEach(this.ck,function(T){for(H=0;H<T.cL.length;H++){T.cL[H].set_visible(value);}});}}break;}return this;};if(G.cd!==undefined){G.getVisible=getVisible;G.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(G,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getIgNetType(){return this.uv;};function setIgNetType(value){this.uv=value;};function getStartPoint(){if(this.T&&this.T!==null){var ai=this.T.get_points();if(ai.get_length()>0){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:var bJ=ai.getPoint(0);if(bJ){this.Mz={x:bJ.x,y:bJ.y};}break;}}}return this.Mz;};function setStartPoint(value){IPCC.aS.ho(value.x,'startPoint'+'.x');IPCC.aS.ho(value.y,'startPoint'+'.y');if(this.T&&this.T!==null){var ai=this.T.get_points();switch(this.bv){case IPCC.Mark.Type.LineAnnotation:ai.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Mz=value;return this;};if(G.Mz){G.getStartPoint=getStartPoint;G.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(G,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.T&&this.T!==null){var ai=this.T.get_points();if(ai.get_length()>0){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:var bJ=ai.getPoint(1);if(bJ){this.vO={x:bJ.x,y:bJ.y};}break;}}}return this.vO;};function setEndPoint(value){IPCC.aS.ho(value.x,'endPoint'+'.x');IPCC.aS.ho(value.y,'endPoint'+'.y');if(this.T&&this.T!==null){var ai=this.T.get_points();switch(this.bv){case IPCC.Mark.Type.LineAnnotation:ai.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.vO=value;return this;};if(G.vO){G.getEndPoint=getEndPoint;G.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(G,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.T&&this.T!==null){var AZ;switch(this.bv){case IPCC.Mark.Type.LineAnnotation:AZ=this.T.get_endHeadType();switch(AZ){case IPCC.Web.UI.LineHeadType.None:this.mU=IPCC.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mU=IPCC.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mU;};function setEndHeadType(value){var AZ;switch(value){case IPCC.Mark.LineHeadType.None:AZ=IPCC.Web.UI.LineHeadType.None;break;case IPCC.Mark.LineHeadType.FilledTriangle:AZ=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.T&&this.T!==null){switch(this.bv){case IPCC.Mark.Type.LineAnnotation:this.T.set_endHeadType(AZ);break;}}this.mU=value;return this;};if(G.mU){G.getEndHeadType=getEndHeadType;G.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(G,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.T&&this.T!==null){var Gl=this.T.get_points();var bX=Gl.get_length();var ajq=[];var WB=function(aAb,bV){ajq.push(aAb.getPoint(bV));};if(bX>1){switch(this.bv){case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:for(var H=0;H<bX;H++){WB(Gl,H);}this.ai=ajq;break;}}}return this.ai.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bF=0;bF<value.length;bF++){IPCC.aS.bJ(value[bF],'PolylinePoint');}if(this.T&&this.T!==null){var Gl=this.T.get_points();var aBV=function(bV){Gl.addPoint(new IPCC.Web.UI.Point(value[bV].x,value[bV].y));};switch(this.bv){case IPCC.Mark.Type.PolylineAnnotation:case IPCC.Mark.Type.PolygonAnnotation:Gl.removeAllPoints();for(var H=0;H<value.length;H++){aBV(H);}}}this.ai=value;return this;};if(G.ai){G.getPoints=getPoints;G.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(G,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.RectangleRedaction:case IPCC.Mark.Type.TransparentRectangleRedaction:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.StampAnnotation:case IPCC.Mark.Type.StampRedaction:case IPCC.Mark.Type.FreehandAnnotation:case IPCC.Mark.Type.FreehandSignature:case IPCC.Mark.Type.TextSignature:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.TextAreaSignature:case IPCC.Mark.Type.ImageStampAnnotation:case IPCC.Mark.Type.ImageStampRedaction:var bo=this.T.get_rectangle();if(bo instanceof IPCC.Web.UI.Rectangle){this.C={width:bo.width,height:bo.height,x:bo.x,y:bo.y};}break;}}return this.C;};function setRectangle(value){IPCC.aS.ho(value.x,'rectangle'+'.x');IPCC.aS.ho(value.y,'rectangle'+'.y');IPCC.aS.ho(value.width,'rectangle'+'.width');IPCC.aS.ho(value.height,'rectangle'+'.height');if(this.T&&this.T!==null){switch(this.bv){case IPCC.Mark.Type.RectangleAnnotation:case IPCC.Mark.Type.RectangleRedaction:case IPCC.Mark.Type.TransparentRectangleRedaction:case IPCC.Mark.Type.EllipseAnnotation:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.StampAnnotation:case IPCC.Mark.Type.StampRedaction:case IPCC.Mark.Type.FreehandAnnotation:case IPCC.Mark.Type.FreehandSignature:case IPCC.Mark.Type.TextSignature:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.TextAreaSignature:case IPCC.Mark.Type.ImageStampAnnotation:case IPCC.Mark.Type.ImageStampRedaction:var bo=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.T.set_rectangle(bo);break;}}this.C=value;return this;};if(G.C){G.getRectangle=getRectangle;G.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(G,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var cI=0;if(this.T&&this.T.cz){cI=this.T.cz.length;}else if(this.T){cI=IPCC.V.reduce([this.T].concat(this.ck||[]),function(bX,T){return bX+T.get_textLength();},0);}return this.T?{startIndex:this.T.aq,length:cI}:this.dg;};function setPosition(value){IPCC.aS.ho(value.startIndex,'position.startIndex');IPCC.aS.ho(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.T===undefined||this.T===null){throw new Error("The mark must be on a page.");}var aI;var aH;var av=this.aY-1;var uj= -value.startIndex;var oA=[];var cz="";var dn;while(true){if(av>=this.cY.get_length()){throw new Error("The specified length is out of range.");}aI=this.cY.getPage(av);if(aI.dC()&&aI.dC().Ac()&&aI.dC().nA()===true){var Zm=uj;var Vq=aI.dC().Cv();uj+=Vq.length;if(uj<0||(uj===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var TU=0;if(av===this.aY-1){TU=value.startIndex;}if(uj>=value.length){dn=value.startIndex+value.length-1;if(Zm>=0){dn=value.length-1-Zm;}oA.push({pageIndex:av,endIndex:dn});cz+=Vq.substring(TU,dn+1);break;}else{dn=aI.dC().Cv().length-1;oA.push({pageIndex:av,endIndex:dn});cz+=Vq.substring(TU,dn+1);}}else{throw new Error("The text has not been retrieved for this page.");}av++;}this.aa=IPCC.FD();var H=0;if(this.ck){if(this.T){this.T.aa=this.aa;aH=this.bI.gB(this.cY.getPage(this.T.av));if(this.T.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var QW=this.T.cL.length-1;QW>=0;QW--){aH.removeMark(this.T.cL[QW]);this.T.cL.pop();}}}for(H=this.ck.length-1;H>=0;H--){var sl=this.ck[H];aH=this.bI.gB(this.cY.getPage(sl.av));aH.removeMark(sl);this.ck.splice(H,1);}}else{this.ck=[];}Im.call(this,oA,dn,cz,value);this.dg=value;return this;};function Im(oA,dn,cz,value,Wz){var H,av,aI,aH;Wz=Wz||{};var cL;this.ck=this.ck||[];var abD=(this.T.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?avy:awX;for(H=0;H<oA.length;H++){av=oA[H].pageIndex;aI=this.cY.getPage(av);var arC=aI.dC().gm();aH=this.bI.gB(aI);var dX;var aq=0;dn=oA[H].endIndex;if(H===0){aq=value.startIndex;}av=oA[H].pageIndex;cL=Wz[av]||IPCC.V.UF(arC,aq,dn);if(H===0){dX=abD(this.T,aq,dn-aq+1,cz,cL,av,this.aa,this.T.get_type(),aH);this.T.kh=true;}else{dX=abD(null,aq,dn-aq+1,cz,cL,av,this.aa,this.T.get_type(),aH);this.ck.push(dX);aH.addMark(dX);dX.set_selected(this.T.get_selected());if(this.getFillColor){dX.set_fillColor(this.T.get_fillColor());}if(this.getColor){dX.set_lineColor(this.T.get_lineColor());}if(this.getThickness){dX.set_lineWidth(this.T.get_lineWidth());}if(this.getHref){dX.set_href(this.T.get_href());}if(this.getReason){dX.set_text(this.T.get_text());}}if(H===oA.length-1){dX.lj=true;}}};if(G.dg){G.getPosition=getPosition;G.setPosition=setPosition;G.Im=Im;if(Object.defineProperties){Object.defineProperties(G,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function awX(G,aq,cI,cz,cL,av,jO,af,aH){if(!G){G=new IPCC.Web.UI.Mark(af);}G.aq=aq;G.dA=cI;G.kI='y';G.aa=jO;G.cz=cz;G.cL=cL||[];G.av=av;var TC=IPCC.V.reduce(G.cL,function(IE,bo){if(!IE){return bo.clone();}else{return IE.union(bo);}},null);G.set_rectangle(TC);return G;};function avy(G,aq,cI,cz,cL,av,jO,af,aH){if(!G){G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}G.aq=aq;G.dA=cI;G.aa=jO;G.cz=cz;G.av=av;G.cL=IPCC.V.map(cL,function(bo){var vm=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);vm.set_rectangle(bo);vm.lk(true);vm.set_fillColor('#000000');vm.set_text(G.an);vm.set_lineWidth(0);vm.aa=jO;aH.addMark(vm);return vm;});var TC=IPCC.V.reduce(cL,function(IE,bo){if(!IE){return bo.clone();}else{return IE.union(bo);}},null);G.set_rectangle(TC);return G;};function getText(){if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.TextSignature:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.TextAreaSignature:this.an=(typeof this.T.get_text()==="string")?this.T.get_text():this.an;break;case IPCC.Mark.Type.HighlightAnnotation:case IPCC.Mark.Type.TextSelectionRedaction:case IPCC.Mark.Type.TextHyperlinkAnnotation:case IPCC.Mark.Type.StrikethroughAnnotation:if(G.T.cz){this.an=G.T.cz;}break;}}return this.an;};function setText(value){IPCC.aS.mP(value,'text');this.an=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.TextSignature:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.TextAreaSignature:this.T.set_text(value);break;}}return this;};if(G.an!==undefined){G.getText=getText;var af=G.getType();if(af!==IPCC.Mark.Type.HighlightAnnotation&&af!==IPCC.Mark.Type.TextSelectionRedaction&&af!==IPCC.Mark.Type.TextHyperlinkAnnotation&&af!==IPCC.Mark.Type.StrikethroughAnnotation){G.setText=setText;}if(Object.defineProperties){var agD={enumerable:true,get:function(){return this.getText();}};if(G.setText!==undefined){agD.set=function(value){return this.setText(value);};}Object.defineProperties(G,{"text":agD});}}function getFontColor(){if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.RectangleRedaction:case IPCC.Mark.Type.TextAreaSignature:this.hc=this.T.get_textColor()||this.hc;break;}}return this.hc;};function setFontColor(value){IPCC.aS.cV(value,'fontColor');this.hc=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.TextAreaSignature:case IPCC.Mark.Type.RectangleRedaction:this.T.set_textColor(value);break;}}return this;};if(G.hc){G.getFontColor=getFontColor;G.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(G,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.TextSignature:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.TextAreaSignature:this.hq=this.T.get_fontName()||this.hq;break;}}return this.hq;};function setFontName(value){IPCC.aS.mP(value,'fontName');this.hq=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:case IPCC.Mark.Type.TextSignature:case IPCC.Mark.Type.TextInputSignature:case IPCC.Mark.Type.TextAreaSignature:this.T.set_fontName(value);break;}}return this;};if(G.hq!==undefined){G.getFontName=getFontName;G.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(G,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:this.dH=this.T.get_fontSize()||this.dH;break;}}return this.dH;};function setFontSize(value){IPCC.aS.ly(value,'fontSize',0.1,288);this.dH=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:this.T.set_fontSize(value);break;}}return this;};if(G.dH){G.getFontSize=getFontSize;G.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(G,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.T){var Ae=this.T.get_textHorizontalAlignment();switch(Ae){case IPCC.Web.UI.HorizontalAlignment.Center:this.lQ="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.lQ="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.lQ="Right";break;}}return this.lQ;};function setHorizontalAlignment(value){IPCC.aS.mP(value,'horizontalAlignment');var qH=Pm(value,IPCC.Mark.HorizontalAlignment);var Ae;switch(qH){case 'Center':Ae=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':Ae=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':Ae=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}G.lQ=qH;if(this.T&&Ae!==undefined){this.T.set_textHorizontalAlignment(Ae);this.lQ=qH;}return this;};if(G.lQ){G.getHorizontalAlignment=getHorizontalAlignment;G.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(G,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function aph(SM){var xm=[];for(var H=0;H<SM.length;H++){switch(SM[H]){case "Bold":xm.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":xm.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":xm.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":xm.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+SM[H]);}}if(xm.length===0){xm.push(IPCC.Web.UI.FontStyle.Regular);}return xm;};function getFontStyle(){if(this.T){var ot=[];switch(this.bv){case IPCC.Mark.Type.TextAreaSignature:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:var uf=this.T.get_fontStyle();if(uf&IPCC.Web.UI.FontStyle.Bold){ot.push("Bold");}if(uf&IPCC.Web.UI.FontStyle.Italic){ot.push("Italic");}if(uf&IPCC.Web.UI.FontStyle.Strikeout){ot.push("Strikeout");}if(uf&IPCC.Web.UI.FontStyle.Underline){ot.push("Underline");}if(ot.length>0){this.dF=ot;}break;}}return this.dF;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var Py,H,abJ=[];for(H=0;H<value.length;H++){Py=Pm(value[H],IPCC.Mark.FontStyles);if(Py===null){throw new RangeError("The value of font styles "+value[H]+" is invalid.");}else{IPCC.aS.mP(Py,'fontStyle');abJ.push(Py);}}this.dF=abJ;var uf=[];uf=aph(this.dF);var bL=this;function ave(bM){setTimeout(function(){bL.T.set_fontStyle(bM);},2);};if(this.T){switch(this.bv){case IPCC.Mark.Type.TextAreaSignature:case IPCC.Mark.Type.TextAnnotation:case IPCC.Mark.Type.TextRedaction:var ajc=uf[0];for(H=1;H<uf.length;H++){ajc|=uf[H];}ave(ajc);break;}}return this;};if(G.dF){G.getFontStyle=getFontStyle;G.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(G,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.T){switch(this.bv){case IPCC.Mark.Type.StampAnnotation:case IPCC.Mark.Type.StampRedaction:this.us=this.T.get_text()||this.us;break;}}return this.us;};function setLabel(value){IPCC.aS.mP(value,'label');this.us=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.StampAnnotation:case IPCC.Mark.Type.StampRedaction:this.T.set_text(value);break;}}return this;};if(typeof G.us!=='undefined'){G.getLabel=getLabel;G.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(G,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleRedaction:case IPCC.Mark.Type.TextSelectionRedaction:this.eL=this.T.get_text()||this.eL;break;}}return this.eL;};function setReason(value){IPCC.aS.mP(value,'text');this.eL=value;if(this.T){switch(this.bv){case IPCC.Mark.Type.RectangleRedaction:this.T.set_text(value);break;case IPCC.Mark.Type.TextSelectionRedaction:this.T.set_text(value);if(this.ck&&this.ck.length){for(var H=0;H<this.ck.length;H++){this.ck[H].set_text(value);}}break;}}return this;};if(typeof G.eL!=='undefined'){G.getReason=getReason;G.setReason=setReason;if(Object.defineProperties){Object.defineProperties(G,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.T){return this.T.get_pathString();}else{return this.gP;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var uy=IPCC.V.Yw(path);this.gP=path;if(this.T){this.T.set_pathString(path);this.T.set_pathWidth(uy.width);this.T.set_pathHeight(uy.height);}return this;};if(G.gP){G.setPath=setPath;G.getPath=getPath;if(Object.defineProperties){Object.defineProperties(G,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.T){return this.T.get_href();}else{return this.oK;}};function setHref(href){if(href!==null){var bv=typeof href;if(bv!=="undefined"&&bv!=="number"&&bv!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.oK=href;if(this.T){this.T.set_href(href);}if(this.ck){IPCC.V.forEach(this.ck,function(T){T.set_href(href);});}return this;};if(typeof G.oK!=='undefined'){G.setHref=setHref;G.getHref=getHref;if(Object.defineProperties){Object.defineProperties(G,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.fr=maxLength;if(this.T){this.T.set_maxLength(this.fr);}return this;};function getMaxLength(){if(this.T){this.fr=this.T.get_maxLength();}return this.fr;};if(typeof G.fr!=='undefined'){G.getMaxLength=getMaxLength;G.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(G,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.iu=maxFontSize;if(this.T){this.T.set_maxFontSize(this.iu);}return this;};function getMaxFontSize(){if(this.T){this.iu=this.T.get_maxFontSize();}return this.iu;};if(typeof G.iu!=='undefined'){G.getMaxFontSize=getMaxFontSize;G.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(G,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.iG;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.iG=null;if(this.T){this.T.set_mask(this.iG);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var ahj=false;IPCC.V.forEach(mask.translations,function(val,key){ahj=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!ahj){throw new Error('`mask.translations` must have at least one translation.');}this.iG=mask;if(this.T){this.T.set_mask(this.iG);}return this;};if(typeof G.iG!=='undefined'){G.getMask=getMask;G.setMask=setMask;if(Object.defineProperties){Object.defineProperties(G,{"mask":{enumerable:true,get:getMask,set:setMask}});}}}})(IPCC||{});(function(IPCC){'use strict';function MouseTool(name,type){this.aN=name;var IX=aAH(type);if(IX===null){throw new RangeError("The value of type was invalid.");}this.bv=IX;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.aN;};MouseTool.prototype.getType=function(){return this.bv;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function aAH(Sp){var RO=Sp.toLowerCase();for(var standardType in IPCC.MouseTool.Type){if(IPCC.MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===RO){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bv=mouseTool.getType();switch(bv){case IPCC.MouseTool.Type.Magnifier:break;case IPCC.MouseTool.Type.SelectToZoom:break;case IPCC.MouseTool.Type.Pan:mouseTool.yY=false;break;case IPCC.MouseTool.Type.PanAndEdit:mouseTool.yY=true;break;case IPCC.MouseTool.Type.SelectText:break;case IPCC.MouseTool.Type.EditMarks:break;case IPCC.MouseTool.Type.LineAnnotation:mouseTool.aO=new IPCC.Mark({type:IPCC.Mark.Type.LineAnnotation});break;case IPCC.MouseTool.Type.RectangleAnnotation:mouseTool.aO=new IPCC.Mark({type:IPCC.Mark.Type.RectangleAnnotation});break;case IPCC.MouseTool.Type.EllipseAnnotation:mouseTool.aO=new IPCC.Mark({type:IPCC.Mark.Type.EllipseAnnotation});break;case IPCC.MouseTool.Type.TextAnnotation:mouseTool.aO=new IPCC.Mark({type:IPCC.Mark.Type.TextAnnotation});break;case IPCC.MouseTool.Type.PolylineAnnotation:mouseTool.aO=new IPCC.Mark({type:IPCC.Mark.Type.PolylineAnnotation});break;case IPCC.MouseTool.Type.PolygonAnnotation:mouseTool.aO=new IPCC.Mark({type:IPCC.Mark.Type.PolygonAnnotation});break;}if(mouseTool.aO){mouseTool.getTemplateMark=function(){return this.aO;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.aO){this.aO.reset();}};IPCC.MouseTools={rM:{},createMouseTool:function(name,type){if(!this.rM){this.rM={};createDefaultMouseTools();}var Ar=name.toLowerCase();var existingTool=this.rM[Ar];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.rM[Ar]=new MouseTool(name,type);}return this.rM[Ar];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.rM){this.rM={};createDefaultMouseTools();}var Ar=name.toLowerCase();return this.rM[Ar];}return undefined;}};IPCC.MouseTool=MouseTool;IPCC.MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",PolylineAnnotation:"PolylineAnnotation",PolygonAnnotation:"PolygonAnnotation",};function createDefaultMouseTools(){IPCC.MouseTools.createMouseTool("AccusoftMagnifier",IPCC.MouseTool.Type.Magnifier);IPCC.MouseTools.createMouseTool("AccusoftSelectToZoom",IPCC.MouseTool.Type.SelectToZoom);IPCC.MouseTools.createMouseTool("AccusoftPan",IPCC.MouseTool.Type.Pan);IPCC.MouseTools.createMouseTool("AccusoftPanAndEdit",IPCC.MouseTool.Type.PanAndEdit);IPCC.MouseTools.createMouseTool("AccusoftSelectText",IPCC.MouseTool.Type.SelectText);IPCC.MouseTools.createMouseTool("AccusoftEditMarks",IPCC.MouseTool.Type.EditMarks);IPCC.MouseTools.createMouseTool("AccusoftLineAnnotation",IPCC.MouseTool.Type.LineAnnotation);IPCC.MouseTools.createMouseTool("AccusoftRectangleAnnotation",IPCC.MouseTool.Type.RectangleAnnotation);IPCC.MouseTools.createMouseTool("AccusoftEllipseAnnotation",IPCC.MouseTool.Type.EllipseAnnotation);IPCC.MouseTools.createMouseTool("AccusoftTextAnnotation",IPCC.MouseTool.Type.TextAnnotation);IPCC.MouseTools.createMouseTool("AccusoftPolylineAnnotation",IPCC.MouseTool.Type.PolylineAnnotation);IPCC.MouseTools.createMouseTool("AccusoftPolygonAnnotation",IPCC.MouseTool.Type.PolygonAnnotation);return IPCC.MouseTools.rM;};createDefaultMouseTools();})(IPCC||{});(function(IPCC){"use strict";function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.V.wq(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var K=this;IPCC.V.NF(element);var kB=document.createElement('div');kB.className='pccViewerControl';kB.id='pccViewerControl-'+IPCC.FD();element.appendChild(kB);this.dj=kB;this.gW=element;var rD=document.createElement('div');rD.className='pccPageListLoading';kB.appendChild(rD);this.rD=rD;IPCC.EventEmitter.extend(this);this.vJ=false;this.bH=IPCC.Gz.wc({},ViewerControl.TG,options);if(this.bH.hasOwnProperty("debug"))IPCC.au.aAU(this.bH.debug);if(this.bH.hasOwnProperty("debugErrorLevel"))IPCC.au.aAS(this.bH.debugErrorLevel);if(this.bH.hasOwnProperty("tagDebugErrorLevel"))IPCC.au.YO(this.bH.tagDebugErrorLevel);this.bH.language=IPCC.Gz.wc({},ViewerControl.arm,(options.language?options.language:{}));IPCC.Language.initializeData(this.bH.language);if(this.bH.pageLayout.toLowerCase()==="vertical"){this.bH.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bH.pageLayout.toLowerCase()==="horizontal"){this.bH.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bH.viewMode.toLowerCase()==="document"){this.bH.viewMode=IPCC.ViewMode.Document;}else if(this.bH.viewMode.toLowerCase()==="equalwidthpages"){this.bH.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bH.viewMode.toLowerCase()==="equalfitpages"){this.bH.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bH.viewMode.toLowerCase()==="singlepage"){this.bH.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(K.bH.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bH.searchMethodPageCountThreshold)&&(typeof this.bH.searchMethodPageCountThreshold!=='number')&&this.bH.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bH.redactionViewMode){if(this.bH.redactionViewMode.toLowerCase()==="draft"){this.bH.redactionViewMode=IPCC.RedactionViewMode.Draft;}else if(this.bH.redactionViewMode.toLowerCase()==="normal"){this.bH.redactionViewMode=IPCC.RedactionViewMode.Normal;}}else{this.bH.redactionViewMode=IPCC.RedactionViewMode.Normal;}var hL=this.bH.pageRotation%360;if(hL!==0){var wg=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hL||wg.indexOf(hL)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!hL||IPCC.Web.kO(wg,hL)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bH.pageRotation=hL;if(this.bH.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bH.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bH.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bH.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bH.serviceResponseTimeout)||typeof this.bH.serviceResponseTimeout!=='number'||this.bH.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bH.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bH.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}this.jU={};this.bg="";this.fM=1;this.aiV=1;this.adm=0;this.ke=1;this.bI=undefined;this.RD=new IPCC.Deferred();this.rg=this.RD.getPromise();this.fA=false;this.ag=undefined;this.Lk=0;this.cY=undefined;this.cB=IPCC.MouseTools.getMouseTool("AccusoftPanAndEdit");this.ta=false;this.AK=false;this.EA=false;this.EB=[];this.Nu=new IPCC.Deferred();this.aqV=this.Nu.getPromise();this.yV=[];this.bZ={};this.EG=[];this.Ds=[];this.be=null;this.GY={};this.ht=null;this.mV=new IPCC.MarkupLayerCollection(this);this.xR=new IPCC.MarkupLayer(this);this.mV.addItem(this.xR);this.uN=true;setTimeout(function(){K.ahV(kB,K.bH);},0);this.yt=null;this.aF=null;this.Fb=false;this.Ha= -1;this.Gq={};this.ahk=false;this.ayk=this.bH.printTemplate||(this.bH.template?this.bH.template.print:"");this.kE=null;this.wS=null;this.ox=function(cj,eN,aeQ){var cX=document.createElement('div'),fq=cX.style;fq.position='absolute';if(eN.isSelected){fq.backgroundColor='white';}else{fq.backgroundColor='lightgray';}fq.left='10px';fq.right='0';fq.textAlign='left';IPCC.V.forEach(cj.getComments(),function(pe,H){var Vz=document.createElement('div'),or=Vz.style;or.position='relative';or.padding='5px';or.border='1px solid gray';if(H>0){or.borderTop='none';}Vz.appendChild(document.createTextNode(pe.getText()));cX.appendChild(Vz);});return cX;};return K;};IPCC.ViewerControl=ViewerControl;ViewerControl.TG={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};ViewerControl.arm={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.ahV=function(element,options){if(this.vJ){return;}var K=this;var Wl=function(){if(K.bH.viewMode===IPCC.ViewMode.SinglePage||K.vJ){return;}var aqS=K.bI.get_pageNodeId(K.getPageNumber()-1);var am=document.getElementById(aqS);var Vn=K.dj.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!am){return;}IPCC.V.forEach(Vn,function(hZ){if(am!==hZ){if(document.documentMode===8&&hZ.style.outline){hZ.style.outline='';}else if(hZ.style.boxShadow){hZ.style.boxShadow='';}}});if(document.documentMode===8){am.style.outline='2px solid #aaa';}else{am.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};var akN=function(){if(K.rD.parentNode){K.rD.parentNode.removeChild(K.rD);}K.bI.remove_pageOpenFailed(US);K.bI.remove_pageDisplayed(akN);var av=arguments[1].pageIndex;setTimeout(function(){K.trigger("PageDisplayed",{pageNumber:(av+1)});Wl();},10);if(av!==0){return;}function ee(aD){if(K.vJ){return;}var aV;if(aD.status===200){if(typeof JSON!=='undefined'){aV=JSON.parse(aD.responseText);}else{aV=IPCC.cP.oE(aD.responseText);}if(aV.pageCountConfidence<100){var bg;if(!(/^[\x00-\x7F]*$/.test(rh))){bg=K.bH.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rh+'&DesiredPageCountConfidence=100';}else{bg=K.bH.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(K.bH.documentID)+'&DesiredPageCountConfidence=100';}IPCC.Ajax.fB({method:'GET',url:bg,headers:{'Content-Type':'application/json'}}).then(ee,fl);K.fM=aV.pageCount;K.ag.fM=aV.pageCount;K.EA=true;setTimeout(function(){K.trigger("EstimatedPageCountReady",{pageCount:aV.pageCount});},10);acO();}else{if(K.fM>1){K.ag.fM=aV.pageCount;setTimeout(function(){var H;if(aV.pageCount<K.fM){for(H=K.fM-1;H>=aV.pageCount;H--){K.cY.removePage(H);}}else if(aV.pageCount>K.fM){for(H=K.fM;H<aV.pageCount;H++){var Qs=new IPCC.Web.UI.ImGearPage({pageNumber:H});K.cY.addPage(Qs);}}K.fM=aV.pageCount;if(K.fA===true){K.ta=true;K.AK=true;setTimeout(function(){K.trigger("PageCountReady",{pageCount:aV.pageCount});},30);}},30);}else{K.fM=aV.pageCount;K.ag.fM=aV.pageCount;if(K.fA===true){acO(function(){K.ta=true;K.AK=true;setTimeout(function(){K.trigger("PageCountReady",{pageCount:aV.pageCount});},0);});}}}}};function fl(aV){if(K.vJ){return;}var Sr="None",afk,Ta;var aep=aV.response.getResponseHeader('Accusoft-Status-Message');if(aep){Sr=aep;Ta=aV.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yj(Ta)){afk=parseInt(Ta,10);}}else if(aV.response.statusText){Sr=aV.response.statusText;}setTimeout(function(){K.trigger("PageLoadFailed",{statusCode:aV.response.status,errorMessage:Sr,accusoftErrorNumber:afk});},1);throw("Unable to obtain document information from the server");};var rh=IPCC.gd.sJ(K.bH.documentID);if(!rh||rh===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(rh))){K.bg=K.bH.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rh+'&DesiredPageCountConfidence=50';}else{K.bg=K.bH.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(K.bH.documentID)+'&DesiredPageCountConfidence=50';}IPCC.Ajax.fB({method:'GET',url:K.bg,headers:{'Content-Type':'application/json'}}).then(ee,fl);};function acO(qO){qO=qO||function(){};var akC=K.fM;function aae(){K.bI.remove_allPagesAdded(aae);qO();};if(akC>1){K.bI.add_allPagesAdded(aae);if(!K.adS){K.bI.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var bP=arguments[1];setTimeout(function(){K.trigger('PageChanged',{pageNumber:bP.pageIndex+1});Wl();},0);});K.bI.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var bP=arguments[1];if(K.kE){K.kE();K.kE=null;if(K.ht){K.ht.resolve();}K.ht=null;}setTimeout(function(){K.trigger('PageDisplayed',{pageNumber:bP.pageIndex+1});Wl();},0);setTimeout(function(){K.requestPageText(bP.pageIndex+1).then(function Bf(){K.QX(bP.pageIndex+1,K.Ha);});},10);});K.bI.add_pageOpenFailed(function(){aei(arguments);});K.adS=true;}for(var H=K.Lk;H<akC;H++){K.cY.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:H}));K.Lk++;}}else{qO();}};var ayc=function(bP){var am=document.getElementById(bP.pageNodeID),cn=document.createElement('div'),zd=document.createElement('button'),akW='pccPageLoadFailRetry'+bP.pageIndex,acE=function(){K.bI.Le(bP.pageIndex);},anz=IPCC.Language.data.pageLoadFailed,aoh=IPCC.Language.getValue("pageLoadFailedPassword"),apn=IPCC.Language.data.pageLoadFailedRetry,ayP=bP.exception.statusCode===480&&bP.exception.customErrorCode===4001;if(am===null){return;}zd.id=akW;zd.innerHTML=apn;cn.className='pccPageLoadFail';if(ayP){cn.innerHTML=aoh+'<br>';am.appendChild(cn);}else{cn.innerHTML=anz+'<br>';cn.appendChild(zd);am.appendChild(cn);zd=document.getElementById(akW);if(!zd.addEventListener){zd.attachEvent('onclick',acE);}else{zd.addEventListener('click',acE,false);}}};function aei(Dp){if(Dp.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var adX,aeF,bP=Dp[1];if(Dp[1].exception.customErrorCode!==undefined){aeF=Dp[1].exception.customErrorCode;}if(Dp[1].exception.message!==undefined){adX=Dp[1].exception.message;}setTimeout(function(){K.trigger('PageLoadFailed',{statusCode:bP.exception.statusCode,pageNumber:bP.pageIndex+1,errorMessage:adX,accusoftErrorNumber:aeF});ayc(bP);},0);};function asV(){if(K.bI&&typeof K.bI.dispose==="function"){K.bI.dispose();}K.bg="";K.bI=undefined;while(K.dj.firstChild){K.dj.removeChild(K.dj.firstChild);}};function aDJ(Zo){var ah=new IPCC.Deferred();if(typeof Zo==="string"){IPCC.Ajax.fB({url:K.bH.imageHandlerUrl+'/ViewingSession/u'+K.bH.documentID+'/Replacement',body:JSON.stringify({password:Zo}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aDF(aD){var result=JSON.parse(aD.responseText);var anu=result.viewingSessionId;K.bH.documentID=anu;asV();K.ahV(K.dj,K.bH);ah.resolve(anu);},function aEu(err){ah.reject(new IPCC.Error("AjaxError","The call to replace the viewing session failed."));});}else{ah.reject(new IPCC.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return ah.getPromise();};function US(){K.bI.remove_pageOpenFailed(US);aei(arguments);};var axZ=function(ay,L){K.uC=true;var Vu={width:L.width,height:L.height,pageNumber:L.pageNumber};K.trigger("PageOpening",Vu);};function aaW(){K.RD.resolve(K.bI);K.bI.remove_pageOpened(aaW);K.fA=true;var bL=K;setTimeout(function(){K.trigger("ViewerReady",{});if(bL.ta===true&&bL.AK===false){bL.AK=true;setTimeout(function(){K.trigger("PageCountReady",{pageCount:bL.getPageCount()});},10);}},10);function acD(){setTimeout(function(){K.bI.scrollTo(0,0);K.off("PageCountReady",acD);},200);};K.on("PageCountReady",acD);K.setCurrentMouseTool("AccusoftPanAndEdit");};var asK=function(ay,L){if(L.containsText===true){K.Nu.resolve(true);}var xH= -1;if(Array.prototype.indexOf){xH=(K.yV.indexOf(L.pageIndex)>=0);}else{xH=(IPCC.Web.kO(K.yV,L.pageIndex)>=0);}if(xH===false){K.yV.push(L.pageIndex);if(K.yV.length===K.fM){K.Nu.resolve(false);}}setTimeout(function(){K.trigger("PageTextReady",{pageNumber:L.pageIndex+1});},0);};var arJ=function(ay,L){var xH= -1;if(Array.prototype.indexOf){xH=(K.yV.indexOf(L.pageIndex)>=0);}else{xH=(IPCC.Web.kO(K.yV,L.pageIndex)>=0);}if(xH===false){K.yV.push(L.pageIndex);if(K.yV.length===K.fM){K.Nu.resolve(false);}}};function axs(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var jF=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){jF.push(eventArgs.pageNumbers[i]+1);}var gi=[],uj= -eventArgs.startIndex,aq,dn,js,cL,j,k;for(j=0;j<jF.length;j++){js=K.cY.hX(jF[j]-1).dC().gm();uj+=js.dV();aq=0;if(j===0){aq=eventArgs.startIndex;}if(uj>=eventArgs.text.length){dn=uj-eventArgs.text.length-1;}else{dn=js.dV()-1;}cL=IPCC.V.UF(js,aq,dn);for(k=0;k<cL.length;k++){gi.push({x:cL[k].x,y:cL[k].y,width:cL[k].width,height:cL[k].height,pageNumber:jF[j]});}}K.be={pageNumber:jF[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:gi};var G,Zx={selectedText:eventArgs.text,pageNumbers:jF,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:K.be};function ays(){var Al=K.kC;K.ahF=true;K.kC=function(sender,args){K.kC=Al;setTimeout(function(){K.trigger(IPCC.EventType.MarkCreated,{mark:G,pageNumber:jF[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){G=K.bZ[eventArgs.previousFirstMark.get_markID()];K.bI.remove_markRemoved(K.Aj);K.bI.remove_markSelectionChanged(K.CP);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.av){var aAi=G.T.RG;var QZ;if(G.getReason){QZ=G.T.get_text();}var RK;if(G.getFillColor){RK=G.T.get_fillColor();}var Rr;if(G.getColor){Rr=G.T.get_lineColor();}var Rs;if(G.getThickness){Rs=G.T.get_lineWidth();}var QO;if(G.getHref){QO=G.T.get_href();}var azv=new IPCC.Conversation(G);var aH=K.bI.gB(K.cY.getPage(G.T.av));aH.removeMark(G.T);for(var H=G.ck.length-1;H>=0;H--){var sl=G.ck[H];aH=K.bI.gB(K.cY.getPage(sl.av));aH.removeMark(sl);G.ck.splice(H,1);}G.T=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());G.T.av=eventArgs.pageNumbers[0];G.aY=eventArgs.pageNumbers[0]+1;G.T.kh=true;G.T.RG=aAi;var Al=K.kC;K.kC=null;K.bI.remove_markChanged(K.qD);aH=K.bI.gB(K.cY.getPage(G.T.av));aH.addMark(G.T);if(QZ){G.T.set_text(QZ);}if(RK){G.T.set_fillColor(RK);}if(Rr){G.T.set_lineColor(Rr);}if(Rs){G.T.set_lineWidth(Rs);}if(QO){G.T.set_href(QO);}G.cj=new IPCC.Conversation(G);IPCC.Conversation.pS(azv,G.cj);K.bI.add_markChanged(K.qD);K.kC=Al;}G.T.set_selected(true);G.T.set_visible(true);G.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});K.bI.add_markRemoved(K.Aj);K.bI.add_markSelectionChanged(K.CP);K.nG(G,eventArgs.pageNumbers[0]);return;}var Aw=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:Aw='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:Aw='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:Aw='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:Aw='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:axc(eventArgs.text);K.GY[jF[0]]='selectText';break;}var cB=IPCC.MouseTools.getMouseTool(K.getCurrentMouseTool());var aO=(cB&&cB.getTemplateMark)?cB.getTemplateMark():undefined;var alO=aO?aO.getType():"";if(Aw){ays();K.trigger(IPCC.EventType.TextSelected,Zx);G=K.addMark(jF[0],Aw);if(K.uN){K.xR.addMarks(G);}G.T.kh=true;G.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(alO===Aw){if(aO.getFillColor){G.setFillColor(aO.getFillColor());}if(aO.getReason){G.setReason(aO.getReason());}if(aO.getHref){G.setHref(aO.getHref());}if(aO.getColor){G.setColor(aO.getColor());}if(aO.getThickness){G.setThickness(aO.getThickness());}IPCC.Data.mO(aO,G);}return;}setTimeout(function(){K.trigger(IPCC.EventType.TextSelected,Zx);},0);};function att(){var am=K.dj,cn=document.createElement('div');cn.className='pccCopyText';am.appendChild(cn);K.Gk=cn;};function axc(an){var mG,aGl=an.split('\n'),IF=document.createDocumentFragment(),Er,jg;mG=document.createTextNode(an);IF.appendChild(mG);IPCC.V.NF(K.Gk);K.Gk.appendChild(IF);if(document.body.createTextRange){Er=document.body.createTextRange();Er.moveToElementText(K.Gk);Er.select();}else if(window.getSelection){jg=window.getSelection();Er=document.createRange();Er.selectNodeContents(K.Gk);jg.removeAllRanges();jg.addRange(Er);}};this.ag=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bH.documentID,imageServicePath:this.bH.imageHandlerUrl});this.ag.set_encryption(this.bH.encryption||false);var Qs=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.ag.get_pages().addPage(Qs);this.cY=this.ag.get_pages();this.bI=IPCC.initializePageListPlugin(element,options);this.bI.get_documents().addDocument(this.ag);this.Lk=1;this.bI.add_pageDisplayed(akN);this.bI.add_pageOpenFailed(US);this.bI.add_pageOpening(axZ);this.bI.add_pageOpened(aaW);this.bI.add_textPageReady(asK);this.bI.add_textExtractionFailed(arJ);this.bI.set_conversationDOMFactory(function(T,eN,aeQ){var G=K.bZ[T.get_markID()];if(G){return K.ox(G.getConversation(),eN,aeQ);}});att();this.bI.add_selectTextMouseToolCompleted(axs);this.bI.add_propertyChanged(function(pD,df){var proprtyName=df.aoS();if(proprtyName==="mouseTool"){setTimeout(function(){K.trigger(IPCC.EventType.MouseToolChanged,{mouseToolName:K.cB.getName()});},0);}});this.bI.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&K.bZ[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.aa!==undefined){K.nG(eventArgs.mark,eventArgs.pageIndex);}if(K.kC){var af=eventArgs.mark.get_type();if(af!==IPCC.Web.UI.MarkType.Highlight&& !(af===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.aa!==undefined)){K.kC(sender,eventArgs);}}});this.bI.add_markCreating(function(sender,eventArgs){if(K.FU){K.FU(sender,eventArgs);}});this.bI.Jb(function(sender,eventArgs){var Cx=0;var xv=0;var adt=0;var wa=0;var vA=0;var Nq=0;var apu=K.cB.getName().toLowerCase(),aqY=K.cB.getType();if(aqY===IPCC.MouseTool.Type.PlaceSignature){var cB=K.cB;var aO=cB.getTemplateMark(),jH=aO.getSignature(),aad=aO.getRectangle(),G,C={};if(!jH){return;}K.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var uy;if(attributes.width>0){xv=aad.width||(attributes.width/5);}if(jH.path&&jH.path.length>0){uy=IPCC.V.Yw(jH.path);C={x:0,y:0,width:uy.width,height:uy.height};G=K.addMark(eventArgs.pageIndex+1,IPCC.Mark.Type.FreehandSignature);G.setPath(jH.path);G.setThickness(jH.thickness||4);}if(jH.text&&jH.text.length){uy=IPCC.V.tm(jH.text,jH.fontName);G=K.addMark(eventArgs.pageIndex+1,IPCC.Mark.Type.TextSignature);C={x:0,y:0,width:uy.width,height:uy.height};G.setText(jH.text);G.setFontName(jH.fontName);}adt=(C.width/xv);Cx=aad.height||(C.height/adt);wa=(eventArgs.imagePoint.x-(xv/2));vA=(eventArgs.imagePoint.y-(Cx/2));if(wa<=0){wa=0;}if(vA<=0){vA=0;}if((wa+xv)>=attributes.width){Nq=(wa+xv)-attributes.width;wa=wa-Nq;}if((vA+Cx)>=attributes.height){Nq=(vA+Cx)-attributes.height;vA=vA-Nq;}C={x:wa,y:vA,width:xv,height:Cx};G.setRectangle({x:wa,y:vA,width:xv,height:Cx});IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());});K.setCurrentMouseTool(apu);}});function MouseEvent(aT){var K=this;for(var i in aT){if(i){K[i]=aT[i];}}};this.bI.LG(function(sender,eventArgs){var be=null,gA=null,G=null,iA=null,yx=false,Ny=eventArgs.upTarget.type,XA=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){XA=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){yx=true;}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){iA=K.asJ(eventArgs.upMark);yx=iA!==null;Ny="documentHyperlink";}else{G=K.bZ[eventArgs.upMark.get_markID()];if(G===undefined){for(var nf in K.bZ){if(K.bZ.hasOwnProperty(nf)){if(K.bZ[nf].T.aa===eventArgs.upMark.aa&&K.bZ[nf].T.aa===eventArgs.downMark.aa){G=K.bZ[nf];eventArgs.pageIndex=G.aY-1;yx=true;var ava=K.getCurrentMouseTool();var atN=IPCC.MouseTools.getMouseTool(ava);var aix=atN.getType();if(XA===false&&eventArgs.domEvent.button===0){if(aix===IPCC.MouseTool.Type.PanAndEdit||aix===IPCC.MouseTool.Type.EditMarks){K.deselectAllMarks();G.T.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.mN()===eventArgs.upMark.mN()){yx=true;if(XA===false&&eventArgs.downTarget.alreadySelected===false){K.deselectAllMarks();G.T.set_selected(true);}}if(G===undefined){if(K.aF&&K.GY[eventArgs.upTarget.pageIndex+1]==='search'){var ep=K.aF.getResults();for(var H=0;H<ep.length;H++){if(ep[H].aY===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.aq!=='undefined'&&typeof eventArgs.upMark.aq!=='undefined'&&typeof eventArgs.downMark.dA!=='undefined'&&typeof eventArgs.upMark.dA!=='undefined'&&eventArgs.downMark.aq>=ep[H].getStartIndexInPage()&&eventArgs.downMark.aq+eventArgs.downMark.dA<=ep[H].getStartIndexInPage()+ep[H].getText().length&&eventArgs.upMark.aq>=ep[H].getStartIndexInPage()&&eventArgs.upMark.aq+eventArgs.upMark.dA<=ep[H].getStartIndexInPage()+ep[H].getText().length){Ny='searchResult';gA=ep[H];eventArgs.upTarget.pageIndex=gA.aY-1;yx=true;break;}}}}if(yx===false&&G===undefined&&K.GY[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.aq!=='undefined'&&typeof eventArgs.upMark.aq!=='undefined'&&eventArgs.downMark.aq>=K.be.startIndex&&eventArgs.downMark.aq+eventArgs.downMark.dA<=K.be.startIndex+K.be.length&&eventArgs.upMark.aq>=K.be.startIndex&&eventArgs.upMark.aq+eventArgs.upMark.dA<=K.be.startIndex+K.be.length){Ny='textSelection';be=K.be;yx=true;}}}var Vy=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var ayr=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var L={pageNumber:ayr,targetType:Ny,textSelection:be,searchResult:gA,mark:G,originalEvent:Vy,hyperlink:iA,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(yx===true){K.trigger('Click',L);}},0);});(function(){var yT=null;K.bI.Jm(function(sender,eventArgs){var Vy=new MouseEvent(eventArgs.domEvent);var L={originalEvent:Vy,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(yT!==null){L.mark=K.bZ[yT];yT=null;setTimeout(function(){K.trigger('MarkMouseLeave',L);},0);}}else{L.mark=K.bZ[eventArgs.mark.get_markID()];if(L.mark===undefined){for(var nf in K.bZ){if(K.bZ.hasOwnProperty(nf)){if(K.bZ[nf].T.aa===eventArgs.mark.aa){L.mark=K.bZ[nf];break;}}}}if(!L.mark){return;}setTimeout(function(){if(yT!==L.mark.getId()){if(yT!==null){K.trigger('MarkMouseLeave',IPCC.V.extend({},L,{mark:K.bZ[yT]}));}yT=L.mark.getId();K.trigger('MarkMouseEnter',L);}K.trigger('MarkMouseOver',L);},0);}});})();this.bI.add_hyperlinkPageReady(function(sender,eventArgs){if(K.EG[eventArgs.pageIndex]!==undefined){return;}var av=eventArgs.pageIndex,aI=K.cY.getPage(av),Go=aI.get_hyperlinkPage().Ky(),vC=K.EG[av]=[];Go.kT(function(zl){vC.push(new IPCC.DocumentHyperlink({aY:av+1,zl:zl}));});if(!K.Ds[av]){K.Ds[av]=new IPCC.Deferred();}K.Ds[av].resolve(vC);});this.nG=function(G,iv){var Ue=false;function Rh(){var jR=false;var de=K.bI.get_displayedPages();for(var H=0;H<de.get_length();H++){var aI=de.getPage(H);if(aI.get_pageNumber()===iv){jR=true;break;}}return jR;};function MA(hk){if(K.bI){K.bI.dk(hk);}};if(Rh()){if(Array.prototype.indexOf){if(IPCC.Web.kO(K.EB,iv)>=0){Ue=true;}}else{if(IPCC.Web.kO(K.EB,iv)>=0){Ue=true;}}if(!Ue){K.EB.push(iv);setTimeout(function(){var bX=K.EB.length;if(bX>0){for(var H=0;H<bX;H++){MA(K.EB[H]);}K.EB.splice(0,bX);}},10);}}};var Fc={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var LD={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.qD=function(ay,L){var G=K.bZ[L.mark.get_markID()];var bv;if(G){bv=G.bv;}if(bv&&Fc[bv]&&Fc[bv][L.propertyName]===false){return;}var cw;if(bv){cw=Fc[bv]&&Fc[bv][L.propertyName]?Fc[bv][L.propertyName]:LD[L.propertyName]?LD[L.propertyName]:L.propertyName;}else{cw=LD[L.propertyName]?LD[L.propertyName]:L.propertyName;}if(L.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||L.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||L.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||L.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||L.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||L.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(L.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&L.mark.aa!==undefined)){if(G){setTimeout(function(){K.trigger('MarkChanged',{mark:G,pageNumber:L.pageIndex+1,propertyName:cw});},0);}else{for(var nf in K.bZ){if(K.bZ.hasOwnProperty(nf)){G=K.bZ[nf];if(G.aa===L.mark.aa){break;}}}}K.nG(G,L.pageIndex);}else if(G&&L.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cw==='points'){if(G.Uj){clearTimeout(G.Uj);}G.Uj=setTimeout(function(){G.Uj=undefined;K.nG(G,L.pageIndex);K.trigger('MarkChanged',{mark:G,pageNumber:L.pageIndex+1,propertyName:cw});},1);}else if(G){K.nG(G,L.pageIndex);setTimeout(function(){K.trigger('MarkChanged',{mark:G,pageNumber:L.pageIndex+1,propertyName:cw});},0);}if(G&&G.type===IPCC.Mark.Type.TextRedaction){G.T.set_opacity(0);}if(G&&(G.bv===IPCC.Mark.Type.TextInputSignature||G.bv===IPCC.Mark.Type.TextAreaSignature)){G.T.set_lineVisible(false);}};this.bI.add_markChanged(K.qD);this.bI.add_markReordered(function(sender,eventArgs){var G=K.bZ[eventArgs.mark.get_markID()];setTimeout(function(){K.trigger('MarkReordered',{mark:G,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.CP=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var G;for(var Nj in K.bZ){if(K.bZ.hasOwnProperty(Nj)){G=K.bZ[Nj];if(G.T.aa===eventArgs.mark.aa){G.T.set_selected(eventArgs.mark.get_selected());K.nG(G.T,G.T.av);for(var H=0;H<G.ck.length;H++){G.ck[H].set_selected(eventArgs.mark.get_selected());K.nG(G.ck[H],G.ck[H].av);}}}}}setTimeout(function(){K.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.bI.add_markSelectionChanged(K.CP);this.bI.add_markTextSelectionChanged(function(sender,eventArgs){K.nG(eventArgs.mark,eventArgs.pageIndex);});this.Aj=function(sender,eventArgs){var G;if(eventArgs.mark){G=K.bZ[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&G===undefined&&eventArgs.mark.aa!==undefined){K.nG(eventArgs.mark,eventArgs.pageIndex);}else if(G){setTimeout(function(){K.trigger(IPCC.EventType.MarkRemoved,{mark:G,pageNumber:eventArgs.pageIndex});},0);}}};this.bI.add_markRemoved(K.Aj);this.bI.add_commentAdding(function(sender,eventArgs){var G=K.bZ[eventArgs.mark.get_markID()];if(eventArgs.comment.HU.iw===undefined){eventArgs.comment.HU.iw=K.getActiveMarkupLayer();}});this.bI.add_commentAdded(function(sender,eventArgs){var G=K.bZ[eventArgs.mark.get_markID()];K.trigger(IPCC.EventType.CommentCreated,{conversation:G.getConversation(),comment:eventArgs.comment.HU});});this.bI.add_commentRemoved(function(sender,eventArgs){var G=K.bZ[eventArgs.mark.get_markID()];K.trigger(IPCC.EventType.CommentRemoved,{conversation:G.getConversation(),comment:eventArgs.comment.HU});});this.bI.add_commentChanged(function(sender,eventArgs){var G=K.bZ[eventArgs.mark.get_markID()];K.trigger(IPCC.EventType.CommentChanged,{conversation:G.getConversation(),comment:eventArgs.comment.HU});});this.bI.add_scaleChanged(function(sender,eventArgs){var ef;switch(eventArgs.fitType){case 0:ef=IPCC.FitType.FullWidth;break;case 1:ef=IPCC.FitType.ShrinkToWidth;break;case 2:ef=IPCC.FitType.ActualSize;break;case 3:ef=IPCC.FitType.FullHeight;break;case 4:ef=IPCC.FitType.FullPage;break;default:break;}K.trigger(IPCC.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:ef,scaleFactor:eventArgs.scaleFactor});});};IPCC.ViewerControl.prototype.getPageCount=function(){return this.fM;};IPCC.ViewerControl.prototype.getPageNumber=function(){return(this.bI)?(this.bI.ajA().get_pageNumber()+1):1;};IPCC.ViewerControl.prototype.setPageNumber=function(pageNumber){var aY;if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=Number(pageNumber);}}if(parseInt(aY,10)!==aY){throw new Error("The 'pageNumber' value "+aY+" is not an integer page number.");}if(aY<1||aY>this.getPageCount()|| !isFinite(aY)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aY){return this;}if(this.bI){this.bI.scrollToPage(aY-1);}return this;};IPCC.ViewerControl.prototype.changeToFirstPage=function(){if(this.bI){if(this.EA||this.ta){this.bI.scrollToFirstPage();}}return this;};IPCC.ViewerControl.prototype.changeToLastPage=function(){if(this.bI){if(this.EA||this.ta){this.bI.scrollToLastPage();}}return this;};IPCC.ViewerControl.prototype.changeToNextPage=function(){if(this.bI){if(this.EA||this.ta){this.bI.scrollToNextPage();}}return this;};IPCC.ViewerControl.prototype.changeToPrevPage=function(){if(this.bI){if(this.EA||this.ta){this.bI.scrollToPreviousPage();}}return this;};IPCC.ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.fA){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var K=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){K.bI.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new IPCC.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{K.bI.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};IPCC.ViewerControl.prototype.scrollTo=function(target){if(!this.fA){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.ht){this.ht.reject(new IPCC.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.ht=null;this.kE=null;}var K=this;var GF=function(){K.bI.scrollConversationIntoView(target.getMark().T.get_conversation());if(K.ht){K.ht.resolve();}K.ht=null;K.kE=null;};var vj=function(ev){if(ev.target.wS===target){K.off(IPCC.EventType.CommentCreated,vj);K.wS=null;K.scrollTo(target);}else if(ev.target.wS===null){K.off(IPCC.EventType.CommentCreated,vj);}if(K.ht){K.ht.resolve();}K.ht=null;K.kE=null;};var Gj=function(aY,gT){K.bI.scrollRegionIntoView(aY-1,gT);if(K.ht){K.ht.resolve();}K.ht=null;K.kE=null;};alb(K,target,vj,GF,Gj);return this;};IPCC.ViewerControl.prototype.scrollToAsync=function(target){if(this.ht){this.ht.reject(new IPCC.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.ht=null;this.kE=null;}var ah=IPCC.Deferred();var cT=ah.getPromise();var K=this;K.ht=ah;try{var GF=function(){K.bI.scrollConversationIntoView(target.getMark().T.get_conversation());if(K.ht){K.ht.resolve();}K.ht=null;K.kE=null;};var vj=function(ev){if(ev.target.wS===target){K.off(IPCC.EventType.CommentCreated,vj);K.wS=null;K.scrollTo(target);}else if(ev.target.wS===null){K.off(IPCC.EventType.CommentCreated,vj);}if(K.ht){K.ht.resolve();}K.ht=null;K.kE=null;};var Gj=function(aY,gT){K.bI.scrollRegionIntoView(aY-1,gT);if(K.ht){K.ht.resolve();}K.ht=null;K.kE=null;};if(alb(K,target,vj,GF,Gj)===true){ah.resolve();}}catch(e){K.ht=null;K.kE=null;ah.reject(new IPCC.Error("Error",e));}return cT;};function alb(ae,aZ,vj,GF,Gj){var gT,aY,bo;ae.wS=null;if(aZ instanceof IPCC.Conversation){if(ae.bZ[aZ.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var aeZ=ae.bI.scrollConversationIntoView(aZ.getMark().T.get_conversation());if(aeZ==="PageOutOfView"){ae.kE=GF;ae.setPageNumber(aZ.getMark().getPageNumber());return false;}else if(aeZ==="ConversationDivDoesNotExist"&&aZ.getMark().T.get_conversation().get_length()>0){ae.wS=aZ;ae.on(IPCC.EventType.CommentCreated,vj);return false;}else{ae.kE=null;return true;}}else if(aZ instanceof IPCC.SearchResult){if(aZ.NL!==ae.ag.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bo=aZ.getBoundingRectangle();gT=new IPCC.Web.UI.Rectangle(bo.x,bo.y,bo.width,bo.height);aY=aZ.getPageNumber();}else if(aZ instanceof IPCC.Mark){if(ae.bZ[aZ.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bo=aZ.getBoundingRectangle();gT=new IPCC.Web.UI.Rectangle(bo.x,bo.y,bo.width,bo.height);aY=aZ.getPageNumber();}else if(aZ!==undefined&&aZ!==null){if(typeof aZ.x==='number'&&typeof aZ.y==='number'){gT=new IPCC.Web.UI.Rectangle(+aZ.x,+aZ.y,0,0);}else{if(isNaN(+aZ.x)||isNaN(+aZ.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{gT=new IPCC.Web.UI.Rectangle(Number(+aZ.x),Number(+aZ.y),0,0);}}if(aZ.width){if(typeof aZ.width==='number'){gT.width=aZ.width;}else{if(isNaN(+aZ.width)){throw new Error('The parameter target does not contain a valid width value.');}else{gT.width=Number(+aZ.width);}}}if(aZ.height){if(typeof aZ.height==='number'){gT.height=aZ.height;}else{if(isNaN(+aZ.height)){throw new Error('The parameter target does not contain a valid height value.');}else{gT.height=Number(+aZ.height);}}}if(typeof aZ.pageNumber==='number'){aY= +aZ.pageNumber;}else{if(isNaN(+aZ.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aY=Number(+aZ.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aY<1||aY>ae.getPageCount()|| !isFinite(aY)){throw new RangeError("The parameter pageNumber is out of range.");}if(ae.bI.scrollRegionIntoView(aY-1,gT)===false){ae.kE=function(){Gj(aY,gT);};ae.setPageNumber(aY);return false;}else{ae.kE=null;return true;}};IPCC.ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.fA){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(zg(this.getPageNumber()-1,this)===false){this.bI.dk(this.getPageNumber()-1);}var hL=degreesClockwise%360,K=this;if(hL!==0){var wg=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hL||wg.indexOf(hL)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!hL||IPCC.Web.kO(wg,hL)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bI.rotate(hL);}setTimeout(function(){K.trigger("PageRotated",{degreesClockwise:hL,pageNumber:(K.getPageNumber())});},0);return this;};IPCC.ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.fA){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(zg(this.getPageNumber()-1,this)===false){this.bI.dk(this.getPageNumber()-1);}var hL=degreesClockwise%360,K=this;if(hL!==0){var wg=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hL||wg.indexOf(hL)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!hL||IPCC.Web.kO(wg,hL)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bI.adk(hL);}setTimeout(function(){K.trigger("DocumentRotated",{degreesClockwise:hL});},0);return this;};IPCC.ViewerControl.prototype.getScaleFactor=function(){if(!this.uC){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.bI.get_scaleFactor();};IPCC.ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.uC){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.bI.set_scaleFactor(+scaleFactor);return this;};IPCC.ViewerControl.prototype.getMinScaleFactor=function(){if(!this.uC){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.bI.getMinMaxZoom().minFactor;};IPCC.ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.uC){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.bI.getMinMaxZoom().maxFactor;};IPCC.ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.uC){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bI){this.bI.zoomIn(+zoomFactor);}return this;};IPCC.ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.uC){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bI){this.bI.zoomOut(+zoomFactor);}return this;};IPCC.ViewerControl.prototype.getViewMode=function(){var lE;if(this.bI&&this.bI.get_viewMode){lE=this.bI.get_viewMode();}else{lE=this.bH.viewMode;}if(lE===IPCC.ViewMode.EqualWidthPages){return IPCC.ViewMode.EqualWidthPages;}else if(lE===IPCC.ViewMode.EqualFitPages){return IPCC.ViewMode.EqualFitPages;}else if(lE===IPCC.ViewMode.SinglePage){return IPCC.ViewMode.SinglePage;}else{return IPCC.ViewMode.Document;}};IPCC.ViewerControl.prototype.setViewMode=function(viewMode){var lE;switch(viewMode){case IPCC.ViewMode.Document:lE=IPCC.ViewMode.Document;break;case IPCC.ViewMode.EqualWidthPages:lE=IPCC.ViewMode.EqualWidthPages;break;case IPCC.ViewMode.EqualFitPages:lE=IPCC.ViewMode.EqualFitPages;break;case IPCC.ViewMode.SinglePage:lE=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.bI&&this.bI.set_viewMode){var Iq=this.bI.get_viewMode();if(Iq!==lE){if(Iq===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(lE===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.bI.set_viewMode(lE);}}else{this.bH.viewMode=lE;}return this;};IPCC.ViewerControl.prototype.getPageLayout=function(){var wZ;if(this.bI&&this.bI.get_pageLayout){wZ=this.bI.get_pageLayout();}else{wZ=this.bH.pageLayout;}if(wZ===IPCC.PageLayout.HorizontalScrollDirection){return IPCC.PageLayout.Horizontal;}else{return IPCC.PageLayout.Vertical;}};IPCC.ViewerControl.prototype.setPageLayout=function(pageLayout){var wZ;if(this.bH.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case IPCC.PageLayout.Vertical:wZ=IPCC.PageLayout.VerticalScrollDirection;break;case IPCC.PageLayout.Horizontal:if(this.bI&&this.bI.closeCommentsPanel){this.bI.closeCommentsPanel();var K=this;setTimeout(function(){K.trigger("CommentsPanelToggled",{isOpen:false});},10);}wZ=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.bI&&this.bI.set_pageLayout){this.bI.set_pageLayout(wZ);}else{this.bH.pageLayout=wZ;}return this;};IPCC.ViewerControl.prototype.getAtMaxScale=function(){if(!this.uC){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.bI.getMinMaxZoom().atMax;};IPCC.ViewerControl.prototype.getAtMinScale=function(){if(!this.uC){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.bI.getMinMaxZoom().atMin;};IPCC.ViewerControl.prototype.fitContent=function(fitType){if(!this.uC){throw "The fitContent method cannot be called before the initial PageOpening event.";}var Ej;switch(fitType){case IPCC.FitType.FullWidth:Ej=IPCC.FitType.FullWidth;break;case IPCC.FitType.ShrinkToWidth:Ej=IPCC.FitType.ShrinkToWidth;break;case IPCC.FitType.ActualSize:if(this.getViewMode()===IPCC.ViewMode.EqualWidthPages||this.getViewMode()===IPCC.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}Ej=IPCC.FitType.ActualSize;break;case IPCC.FitType.FullHeight:Ej=IPCC.FitType.FullHeight;break;case IPCC.FitType.FullPage:Ej=IPCC.FitType.FullPage;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.rg.then(function(pD){pD.fitPages(Ej);});return this;};IPCC.ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.fA){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aY;if(arguments.length>0){if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aY=Number(pageNumber);}}if(parseInt(aY,10)!==aY){throw new Error("The 'pageNumber' value "+aY+" is not an integer page number.");}if(aY<1||aY>this.getPageCount()|| !isFinite(aY)){throw new Error("The parameter pageNumber is out of range.");}return this.bI.Yk(aY-1);}else{return this.bI.Yk();}};IPCC.ViewerControl.prototype.search=function(eb){var bH=this.bH;var aGs=bH.searchMethodType.toLowerCase();var aDL=bH.searchMethodPageCountThreshold;var K=this;var Yj;var hV;var Ka=new IPCC.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(Ka,{"searchQuery":{enumerable:true,get:function(){return hV.getSearchQuery();}},"results":{enumerable:true,get:function(){return hV.getResults();}},"isComplete":{enumerable:true,get:function(){return hV.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return hV.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return hV.getErrorMessage();}}});}function Km(aN){return function(){Ka.trigger.apply(Ka,[aN].concat([].slice.call(arguments)));};};var abY=Km(IPCC.EventType.SearchCompleted);var acx=Km(IPCC.EventType.SearchCancelled);var adu=Km(IPCC.EventType.SearchResultsAvailable);var acS=Km(IPCC.EventType.PartialSearchResultsAvailable);var adF=function(aT){var eY=Yj.getErrorCode();if(eY==='ServerSearchUnavailable'){K.ahk=true;K.Fb=false;axd();hV=K.clientSearch(eb);agC();}else{Km(IPCC.EventType.SearchFailed).apply(null,arguments);}};var agC=function(){hV.on(IPCC.EventType.SearchCompleted,abY);hV.on(IPCC.EventType.SearchFailed,adF);hV.on(IPCC.EventType.SearchCancelled,acx);hV.on(IPCC.EventType.SearchResultsAvailable,adu);hV.on(IPCC.EventType.PartialSearchResultsAvailable,acS);};var axd=function(){hV.off(IPCC.EventType.SearchCompleted,abY);hV.off(IPCC.EventType.SearchFailed,adF);hV.off(IPCC.EventType.SearchCancelled,acx);hV.off(IPCC.EventType.SearchResultsAvailable,adu);hV.off(IPCC.EventType.PartialSearchResultsAvailable,acS);};var Xf=function(){if(K.ahk===false){Yj=K.serverSearch(eb);hV=Yj;agC();IPCC.V.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(aN){Ka[aN]=function(){return hV[aN].apply(hV,arguments);};});return Ka;}else{return K.clientSearch(eb);}};return this.clientSearch(eb);};IPCC.ViewerControl.prototype.aCR=function(eb,avp){var K=this;var dP=new IPCC._Search();this.aF=dP.aCf();IPCC.SearchTask.prototype.aaT(eb);if(avp===true){if(K.AK!==true){K.rg.then(function(pD){var It=function(){K.off('PageCountReady',It);K.clientSearch(eb);};K.on('PageCountReady',It);return K.aF;});}if(!this.ag.amI()){this.ag.ME(0,this.ag.fM-1,this.ag.fM);}}this.yt=null;this.Gq={};this.bI.clearAllSelectedText();return dP;};IPCC.ViewerControl.prototype.aBY=function(){var bL=this;this.aF.on('PartialSearchResultsAvailable',function(df){if(bL.vJ){return;}var FO=[];var NX={};FO=df.partialSearchResults;var aV=FO[0];if(bL.Gq[aV.getPageNumber()]!==undefined){NX=bL.Gq[aV.getPageNumber()];}else{NX.aq=aV.getId();}aV=FO[FO.length-1];NX.dn=aV.getId();bL.Gq[aV.getPageNumber()]=NX;function Bf(aI){if(bL.vJ){return;}bL.adZ(aI.get_pageNumber(),FO);};var de=bL.bI.get_displayedPages();for(var H=0;H<de.get_length();H++){var aI=de.getPage(H);if(aI.get_pageNumber()+1===aV.getPageNumber()){bL.requestPageText(aI.get_pageNumber()+1).then(Bf.bind(null,aI));}}});this.aF.on('SearchCompleted',function(df){bL.Fb=false;});this.aF.on('SearchCancelled',function(df){bL.Fb=false;});this.trigger('SearchPerformed',{searchRequest:this.aF});};IPCC.ViewerControl.prototype.clientSearch=function(searchQuery){var bL=this;var dP=bL.aCR(searchQuery,true);searchQuery=dP.aiE(searchQuery);if(this.Fb===false){bL.bI.set_retainPageText(true);this.aF=dP.tN(searchQuery,this.ag);this.Fb=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bL.aBY();return this.aF;};IPCC.ViewerControl.prototype.getSearchRequest=function(){return this.aF;};IPCC.ViewerControl.prototype.clearSearch=function(){if(!this.fA){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var K=this;if(this.getSelectedSearchResult()){this.yt=null;setTimeout(function(){K.trigger(IPCC.EventType.SearchResultSelectionChanged,{});},0);}this.bI.clearAllSelectedText();this.aF=null;setTimeout(function(){K.trigger(IPCC.EventType.SearchCleared,{});},0);return this;};IPCC.ViewerControl.prototype.validateSearch=function(eb){var fL={errorsExist:false};var searchTermObj,Ye,H,bF,Sy,Ni,Nt;if(typeof eb!=='object'&&typeof eb!=='string'){fL.errorsExist=true;fL.summaryMsg="Search query must be either an object or string.";return fL;}if(typeof eb==='string'&&eb.length<0){fL.errorsExist=true;fL.summaryMsg="Search term must contain at least 3 characters.";return fL;}else if(typeof eb==='string'){return fL;}if(!eb.hasOwnProperty('searchTerms')){fL.errorsExist=true;fL.summaryMsg="Search options must have a 'searchTerms' key.";return fL;}if(Object.prototype.toString.call(eb.searchTerms)!=='[object Array]'){fL.errorsExist=true;fL.summaryMsg="Search terms value must be an array.";return fL;}if(!eb.searchTerms.length){fL.errorsExist=true;fL.summaryMsg="Search terms array must contain at least one value.";return fL;}fL.searchTerms=[];IPCC.V.forEach(eb.searchTerms,function(searchTermObj){var FB=afN(searchTermObj);if(FB.errorsExist){fL.errorsExist=true;}fL.searchTerms=fL.searchTerms.concat(FB.searchTerms);});return fL;};function afN(ln){var fL={errorsExist:false,searchTerms:[]};var aEC=ln.type?IPCC.V.trim(ln.type).toLowerCase():undefined;if(aEC==='proximity'){if(Object.prototype.toString.call(ln.terms)!=='[object Array]'){fL.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});fL.errorsExist=true;return fL;}if(ln.terms.length<2){fL.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});fL.errorsExist=true;return fL;}if(!ln.distance){fL.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});fL.errorsExist=true;return fL;}IPCC.V.forEach(ln.terms,function(ayt){var FB=afN(ayt);if(FB.errorsExist){fL.errorsExist=true;}fL.searchTerms=fL.searchTerms.concat(FB.searchTerms);});return fL;}var Sy,Nt;var Ni=(typeof ln.matchingOptions!=='undefined'&&ln.matchingOptions.hasOwnProperty('matchCase'))?ln.matchingOptions.matchCase:false;if(typeof ln.searchTerm==='undefined'||typeof ln.searchTerm!=='string'||(ln.searchTermIsRegex===true&& !aCe(ln.searchTerm,Ni))){fL.errorsExist=true;fL.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return fL;}Sy=(typeof ln.matchingOptions!=='undefined'&&ln.matchingOptions.hasOwnProperty('exactPhrase'))?ln.matchingOptions.exactPhrase:false;if(Sy){if(ln.searchTerm.length<0){fL.errorsExist=true;fL.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return fL;}}else{var Ye=ln.searchTerm.split(' ');IPCC.V.forEach(Ye,function(Nt){if(Nt.length>0&&Nt.length<0){fL.errorsExist=true;fL.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!fL.searchTerms.length){fL.searchTerms.push({isValid:true,message:null});}return fL;};var aCe=function(RN,Ni){var atB,UW,LY;if(Ni){UW='gm';}else{UW='igm';}if(!RN&&RN!==null){LY=false;}else{try{atB=new RegExp(RN,UW);LY=true;}catch(err){LY=false;}}return LY;};IPCC.ViewerControl.prototype.gz=function(SC){var xN=false,de=this.bI.get_displayedPages();for(var H=0;H<de.get_length();H++){var aI=de.getPage(H);if(aI.get_pageNumber()===SC){xN=true;}}return xN;};var aEV=function(aH,gR,hK,ft,jO,alg){var dX=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);dX.aa=jO;dX.av=alg;var G=null;var kM={jy:Number.MAX_VALUE,jb:0,_top:Number.MAX_VALUE,kj:0};for(var bF=hK;bF<ft;bF++){var eo=gR.kk(bF);if(G){var vE=G.get_rectangle();if(Math.abs(eo.bO.y-vE.y)<1&&Math.abs(eo.bO.height-vE.height)<1&&eo.bO.x+eo.bO.width>=vE.x+vE.width){G.set_rectangle(new IPCC.Web.UI.Rectangle(vE.x,vE.y,eo.bO.x+eo.bO.width-vE.x,vE.height));}else{ali(aH,dX,G,kM);G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);G.set_rectangle(eo.bO);G.lk(true);G.set_fillColor('#000000');G.set_text(dX.an);G.set_lineWidth(0);G.aa=jO;}}else{G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);G.set_rectangle(eo.bO);G.lk(true);G.set_fillColor('#000000');G.set_text(dX.an);G.set_lineWidth(0);G.aa=jO;}G.av=alg;}if(G!==null){ali(aH,dX,G,kM);}dX.set_rectangle(new IPCC.Web.UI.Rectangle(kM.jy,kM._top,kM.jb-kM.jy,kM.kj-kM._top));return dX;};var ali=function(aH,dX,G,kM){var C=G.get_rectangle();if(C.x<kM.jy){kM.jy=C.x;}if(C.y<kM._top){kM._top=C.y;}if(C.x+C.width>kM.jb){kM.jb=C.x+C.width;}if(C.y+C.height>kM.kj){kM.kj=C.y+C.height;}aH.addMark(G);dX.cL.push(G);};IPCC.ViewerControl.prototype.convertToHighlight=function(searchResult){var gA=searchResult;if(this.fA===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(gA instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(gA instanceof IPCC.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(gA.NL!==this.ag.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var dX;var aij;var aH;var aV=gA;var hK=aV.getStartIndexInPage();var ft=aV.getStartIndexInPage()+aV.getText().length;var jO=IPCC.FD();var K=this;var G;aH=this.bI.gB(this.cY.getPage(aV.getPageNumber()-1));dX=akT(IPCC.Web.UI.MarkType.HighlightText,aV,hK,jO);G=new IPCC.Mark({type:'HighlightAnnotation',igMark:dX,pageNumber:aV.getPageNumber()});for(hK;hK<ft;hK++){aij=akT(IPCC.Web.UI.MarkType.Highlight,aV,hK,jO);aH.addMark(aij);}this.bZ[dX.get_markID()]=G;var Al=this.kC;this.kC=function(sender,eventArgs){if(K.uN){K.xR.addMarks(G);}setTimeout(function(){K.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};aH.addMark(dX);K.kC=Al;this.bI.display(aV.getPageNumber()-1);G.fillColor=aV.getHighlightColor();return G;};var akT=function(af,aV,azD,jO){var G=new IPCC.Web.UI.Mark(af);if(af===IPCC.Web.UI.MarkType.HighlightText){G.cz=aV.getText();}G.aq=azD;G.set_rectangle({x:0,y:0,width:0,height:0});G.dA=aV.getText().length;G.aFF=aV.getStartIndexInPage()+aV.getText().length;G.cA=127;G.cN=aV.getHighlightColor();G.kI='y';G.aa=jO;return G;};IPCC.ViewerControl.prototype.adZ=function(av,ep){var aV={};for(var bF=0;bF<ep.length;bF++){aV=ep[bF];this.bI.selectText(aV.getPageNumber()-1,aV.getStartIndexInPage(),aV.getText().length,aV.getHighlightColor());}this.bI.display(aV.getPageNumber()-1);this.GY[aV.getPageNumber()]='search';};IPCC.ViewerControl.prototype.QX=function(av,searchResult){var aV={};if(this.aF===null||typeof this.aF.getResults!=='function'){return;}var ep=this.aF.getResults();this.bI.clearSelectedText(av-1);var Ya=this.Gq[av];if(!Ya){return;}for(var bF=Ya.aq;bF<Ya.dn+1;bF++){aV=ep[bF];if(aV.getPageNumber()===av){this.bI.selectText(aV.getPageNumber()-1,aV.getStartIndexInPage(),aV.getText().length,aV.getHighlightColor());if(searchResult===aV.getId()){this.bI.selectText(aV.getPageNumber()-1,aV.getStartIndexInPage(),aV.getText().length,aV.getHighlightColor());}}}this.bI.display(aV.getPageNumber()-1);this.GY[aV.getPageNumber()]='search';};IPCC.ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.fA){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.Ha= -1;}else{if(!(searchResult instanceof IPCC.SearchResult)){throw "The parameter searchResult is not an instance of IPCC.SearchResult.";}if(!this.aF){throw "There is no current SearchRequest object available.";}var YP=this.aF.getResults();if(YP[searchResult.getId()].mW!==searchResult.mW){throw "The parameter searchResult is not current. There is a newer version of search result available.";}YP=null;this.Ha=searchResult.getId();if(scrollTo){var bo=searchResult.getBoundingRectangle();var gT=new IPCC.Web.UI.Rectangle(bo.x,bo.y,bo.width,bo.height);if(this.bI.scrollRegionIntoView(searchResult.getPageNumber()-1,gT)===false){this.kE=function(){K.bI.scrollRegionIntoView(searchResult.getPageNumber()-1,gT);};this.setPageNumber(searchResult.getPageNumber());}else{this.kE=null;}}}var K=this;var axu=searchResult!==null?searchResult.getPageNumber(): -1;if(this.yt&&this.yt.getPageNumber()!==axu){K.requestPageText(K.yt.getPageNumber()).then(function Bf(){K.QX(K.yt.getPageNumber(),K.Ha);});}if(searchResult){K.requestPageText(searchResult.getPageNumber()).then(function Bf(){K.QX(searchResult.getPageNumber(),K.Ha);});}this.yt=searchResult;setTimeout(function(){K.trigger(IPCC.EventType.SearchResultSelectionChanged,{});},0);return this;};IPCC.ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.fA){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};IPCC.ViewerControl.prototype.getSelectedSearchResult=function(){return this.yt;};IPCC.ViewerControl.prototype.requestPageText=function(pageNumber){var aY;var ah=IPCC.Deferred();var cT=ah.getPromise();var K=this;try{if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.rg.then(function(pD){var aI=K.cY.getPage(aY-1);var fh=aI.dC();fh.acU(true);if(fh&&fh.Ac()){if(fh.nA()===true){var an=aI.dC().Cv();ah.resolve(an);}else{ah.resolve("");}}else{var Ij=function(ay,bP){if(bP.containsText===true){var an=fh.Cv();ah.resolve(an);}else{ah.resolve("");}aI.Cu(Ij);aI.Cr(Ip);};var Ip=function(ay,bP){if(bP.exception&&bP.exception.message){ah.reject(new IPCC.Error("TextExtractionFailed",bP.exception.message));}else{ah.reject(new IPCC.Error("TextExtractionFailed","Text extraction failed."));}aI.Cu(Ij);aI.Cr(Ip);};aI.zN(Ij);aI.zr(Ip);aI.AV();}});}catch(e){ah.reject(new IPCC.Error("Error",e));}return cT;};IPCC.ViewerControl.prototype.disposePageText=function(pageNumber){var aY;var K=this;if(!this.fA){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(K.bI.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var de=K.bI.get_displayedPages();for(var H=0;H<de.get_length();H++){var ahh=de.getPage(H);if(ahh.get_pageNumber()===aY-1){ahh.dC().acU(false);return this;}}var aI=K.cY.getPage(aY-1);aI.agG();return this;};IPCC.ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aS.na(pageNumber,"pageNumber",1,this.getPageCount());var aI;return(this.bI&&this.cY&&(aI=this.cY.getPage(pageNumber-1))&&aI.dC()&&aI.dC().Ac())===true;};IPCC.ViewerControl.prototype.documentHasText=function(){return this.aqV;};IPCC.ViewerControl.prototype.requestPageAttributes=function(pageNumber){var aY;var ah=IPCC.Deferred();var cT=ah.getPromise();var K=this;try{if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.rg.then(function(pD){var aI=K.cY.getPage(aY-1);if(aI.ks()>0||aI.jj()>0){ah.resolve({'width':aI.ks(),'height':aI.jj()});}else{var zk=function(bA,ao){ah.resolve({'width':bA,'height':ao});};var AC=function(errorMessage){ah.reject(new IPCC.Error("RequestPageAttributesFailed",errorMessage));};pD.requestPageAttributes(aI,zk,AC);}});}catch(e){ah.reject(new IPCC.Error("Error",e));}return cT;};IPCC.ViewerControl.prototype.destroy=function(){if(!this.vJ){this.EG=undefined;this.Ds=undefined;this.xR=undefined;this.mV=undefined;this.lw=undefined;this.ig=undefined;if(this.bI&&typeof this.bI.dispose==="function"){this.bI.dispose();}this.bg="";this.fM=0;delete this.bI;this.ag=undefined;this.Lk=0;this.cY=undefined;this.adS=false;if(this.gW){IPCC.V.NF(this.gW);this.gW=this.dj=undefined;}this.ta=false;this.AK=false;this.EA=false;this.bI=undefined;this.RD=undefined;this.rg=undefined;IPCC.MouseTools.rM=undefined;this.ox=undefined;this.EG=undefined;this.Gk=undefined;for(var Gr in this.bZ){if(this.bZ.hasOwnProperty(Gr)){this.bZ[Gr].dB=undefined;this.bZ[Gr].cj=undefined;this.bZ[Gr].T=undefined;this.bZ[Gr]=undefined;}}this.bZ=undefined;this.fA=false;this.vJ=true;this.trigger=function YR(){};this.jU=undefined;this.jU={};}};IPCC.ViewerControl.prototype.getMarkById=function(markId){var K=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(K.bZ[markId]){return K.bZ[markId];}else{return null;}};IPCC.ViewerControl.prototype.getMarksByType=function(markType){var QL=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}ZJ(markType);if(!this.bI){return QL;}var H=0;var cI=this.cY.get_length();var K=this;function apv(T){var G=K.bZ[T.get_markID()];if(G&&G.getType().toLowerCase()===markType.toLowerCase()){QL.push(G);}};for(H=0;H<cI;H++){var aH=this.bI.gB(this.cY.getPage(H));if(aH){aH.forEachMark(apv);}}return QL;};IPCC.ViewerControl.prototype.getAllMarks=function(){var AT=[];if(!this.bI){return AT;}var cI=this.cY.get_length();var K=this;var H=0;var G;function MX(T){var G=K.bZ[T.get_markID()];if(typeof G!=='undefined'){AT.push(G);}};for(H=0;H<cI;H++){var aH=this.bI.gB(this.cY.getPage(H));if(aH){aH.forEachMark(MX);}}return AT;};function ZJ(markType){var es;switch(markType.toLowerCase()){case "lineannotation":es=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":es=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":es=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":es=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":es=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":es=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":es=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":es=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":es=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":es=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":es=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":es=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":es=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":es=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":es=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":es=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":es=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":es=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":es=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":es=IPCC.Web.UI.MarkType.Polyline;break;case "polygonannotation":es=IPCC.Web.UI.MarkType.Polygon;break;case "strikethroughannotation":es=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return es;};IPCC.ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var K=this,fi;if(K.fA===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof IPCC.SearchResult)){throw new IPCC.Error("InvalidArgument","searchResult is not a valid instance of IPCC.SearchResult");}if([IPCC.Mark.Type.TextSelectionRedaction,IPCC.Mark.Type.HighlightAnnotation,IPCC.Mark.Type.TextHyperlinkAnnotation,IPCC.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new IPCC.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.fi.width===0){var GP=K.ag.dQ.hX(0);fi={width:GP.ks(),height:GP.jj()};}else{fi=searchResult.fi;}var ajH=IPCC.V.wD(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:ajH,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.cL,pageData:fi,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],modificationDateTime:ajH,pageNumber:searchResult.pageNumber,pageData:fi,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var Pi=K.deserializeMarks(markInfo);return Pi[0];};IPCC.ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.fA===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aY;if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.cY.get_length()|| !isFinite(aY)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var G=this.ala(aY,markType);return this.aiW(G);};IPCC.ViewerControl.prototype.ala=function(aY,af,bH){var K=this;bH=bH||{};var es=ZJ(af);var T=new IPCC.Web.UI.Mark(es);T.av=aY-1;var Um={type:af,igMark:T,pageNumber:aY,igNetType:bH.igNetType,uid:bH.uid,viewerControl:this};if(af.toLowerCase()==="highlightannotation"||af.toLowerCase()==="textselectionredaction"||af.toLowerCase()==="strikethroughannotation"||af.toLowerCase()==="texthyperlinkannotation"){Um.cY=K.cY;Um.bI=K.bI;}var G=new IPCC.Mark(Um);return G;};IPCC.ViewerControl.prototype.aiW=function(G){var K=this;if(K.ahF===true){K.ahF=false;}else{var Al=K.kC;K.kC=function(sender,eventArgs){K.kC=Al;if(K.uN){K.xR.addMarks(G);}setTimeout(function(){K.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var aH=this.bI.gB(this.cY.getPage(G.aY-1));aH.addMark(G.T);K.bZ[G.T.get_markID()]=G;K.nG(G,G.aY-1);return G;};IPCC.ViewerControl.prototype.deleteMarks=function(marks){var K=this;var H=0;var G;if(!this.fA){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Ng(oi){var av=oi.getPageNumber()-1;var aa='';var bv='';var GZ=av;var aH=K.bI.gB(K.cY.getPage(av));aH.removeMark(oi.T);if(K.bZ[oi.getId()]){aa=oi.T.aa;bv=oi.getType();delete K.bZ[oi.getId()];}var LZ=bv.toLowerCase();if((LZ==='highlightannotation'||LZ==='textselectionredaction'||LZ==='strikethroughannotation'||LZ==='texthyperlinkannotation')&&(oi.ck&&oi.ck.length)){for(var H=0;H<oi.ck.length;H++){var sl=oi.ck[H];aH=K.bI.gB(K.cY.getPage(sl.av));aH.removeMark(sl);K.nG(sl,sl.av);}}K.mV.forEach(function(ew){if(ew.hasMark(oi.getId())){ew.removeMarks(oi);}});};if(marks instanceof Array){for(H=0;H<marks.length;H++){G=marks[H];if(!(G instanceof IPCC.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(K.bZ[G.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(H=0;H<marks.length;H++){Ng(marks[H]);K.nG(marks[H],marks[H].getPageNumber()-1);}}else{if(marks instanceof IPCC.Mark){if(!(K.bZ[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Ng(marks);K.nG(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};IPCC.ViewerControl.prototype.deleteAllMarks=function(){var AT=this.getAllMarks();if(AT.length>0){return this.deleteMarks(AT);}return this;};IPCC.ViewerControl.prototype.hideMarks=function(marks){alk(this,marks,false,'hideMarks');return this;};IPCC.ViewerControl.prototype.showMarks=function(marks){alk(this,marks,true,'showMarks');return this;};function alk(ae,bn,yn,ayU){var H=0;var G;if(!ae.fA){throw new IPCC.Error("InvalidArgument","The method "+ayU+" can not be used until 'ViewerReady' state is reached.");}if(bn instanceof Array){for(H=0;H<bn.length;H++){G=bn[H];if(!(G instanceof IPCC.Mark)){throw new IPCC.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(ae.bZ[G.getId()])){throw new IPCC.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(H=0;H<bn.length;H++){bn[H].setVisible(yn);}}else{if(bn instanceof IPCC.Mark){if(!(ae.bZ[bn.getId()])){throw new IPCC.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bn.setVisible(yn);}else{throw new IPCC.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function zg(aAg,jI){var jR=false;var de=jI.bI.get_displayedPages();for(var H=0;H<de.get_length();H++){var aI=de.getPage(H);if(aI.get_pageNumber()===aAg){jR=true;break;}}return jR;};IPCC.ViewerControl.prototype.moveMarkToFront=function(mark){var aH;var iv;if(!this.fA){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof IPCC.Mark){iv=mark.getPageNumber();if(mark.getPageNumber()>0){aH=this.bI.gB(this.cY.getPage(iv-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a IPCC.Mark object";}if(!mark.T){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aH){if(mark.T instanceof IPCC.Web.UI.Mark){mark.T.moveToFront();if(zg(iv-1,this)===true){var jI=this;setTimeout(function(){jI.bI.dk(iv-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};IPCC.ViewerControl.prototype.moveMarkToBack=function(mark){var aH;var iv;if(!this.fA){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof IPCC.Mark)){throw "The parameter, mark object is not a IPCC.Mark object";}iv=mark.getPageNumber();if(iv>=1){aH=this.bI.gB(this.cY.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.T){throw "The parameter, mark may be a templateMark or has not been initialized";}if(aH){if(mark.T instanceof IPCC.Web.UI.Mark){mark.T.moveToBack();if(zg(iv-1,this)===true){var jI=this;setTimeout(function(){jI.bI.dk(iv-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};IPCC.ViewerControl.prototype.moveMarkForward=function(mark){var aH,iv;if(!this.fA){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof IPCC.Mark)){throw "The parameter, mark object is not a IPCC.Mark object";}iv=mark.getPageNumber();if(iv>=1){aH=this.bI.gB(this.cY.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.T){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aH){if(mark.T instanceof IPCC.Web.UI.Mark){mark.T.moveForward();if(zg(iv-1,this)===true){var jI=this;setTimeout(function(){jI.bI.dk(iv-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};IPCC.ViewerControl.prototype.moveMarkBackward=function(mark){var aH,iv;if(!this.fA){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof IPCC.Mark)){throw "The parameter, mark object is not a IPCC.Mark object";}iv=mark.getPageNumber();if(iv>=1){aH=this.bI.gB(this.cY.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.T){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aH){if(mark.T instanceof IPCC.Web.UI.Mark){mark.T.moveBackward();if(zg(iv-1,this)===true){var jI=this;setTimeout(function(){jI.bI.dk(iv-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};IPCC.ViewerControl.prototype.getSelectedMarks=function(){var bn=[];var Qy=[];if(this.fA===false){return bn;}var cI=this.cY.get_length(),aH,eT;var K=this;function aqG(PD){if(PD){var Qe=PD.get_type();if(Qe===IPCC.Web.UI.MarkType.HighlightText||Qe===IPCC.Web.UI.MarkType.TextSelectionRedaction||Qe===IPCC.Web.UI.MarkType.Strikethrough||Qe===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var nf in K.bZ){if(K.bZ.hasOwnProperty(nf)){eT=K.bZ[nf];if(PD.aa===eT.T.aa){for(var H=0;H<Qy.length;H++){if(eT.T.aa===Qy[H]){return;}}Qy.push(eT.T.aa);break;}}}}else{eT=K.bZ[PD.get_markID()];}if(eT&&eT instanceof IPCC.Mark){bn.push(eT);}else{return bn;}}};for(var H=0;H<cI;H++){aH=this.bI.gB(this.cY.getPage(H));if(aH){aH.get_selectedMarks().forEach(aqG,{});}}return bn;};function acm(bn,apm,jI){var eT,H;function Rh(hk){var jR=false;var de=jI.bI.get_displayedPages();for(var H=0;H<de.get_length();H++){var aI=de.getPage(H);if(aI.get_pageNumber()===hk){jR=true;break;}}return jR;};if(!bn.length){return;}for(H=0;H<bn.length;H++){if(bn[H]instanceof IPCC.Mark){eT=jI.bZ[parseInt(bn[H].getId(),10)];if(eT&&eT instanceof IPCC.Mark){if(eT.T&&eT.T instanceof IPCC.Web.UI.Mark){if(eT.getId()!==eT.T.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(H+1)+" is invalid";}}var nX=[];var vz=false;for(H=0;H<bn.length;H++){eT=jI.bZ[parseInt(bn[H].getId(),10)];vz=false;if(eT){if(eT.getId()===eT.T.get_markID().toString()){eT.T.set_selected(apm);if(Array.prototype.IndexOf){vz=(nX.IndexOf(eT.getPageNumber())>=0);}else{vz=(IPCC.Web.kO(nX,eT.getPageNumber())>=0);}}if(!vz){var cZ=eT.getPageNumber();if(Rh(cZ-1)){nX.push(cZ);}}}}if(nX.length>0){setTimeout(function(){for(H=0;H<nX.length;H++){jI.bI.dk(nX[H]-1);}},1);}};IPCC.ViewerControl.prototype.selectMarks=function(marks){if(this.fA===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bn=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof IPCC.Mark){bn.push(marks);}}else{bn=marks;}if(bn.length===0){return this;}acm(bn,true,this);return this;};IPCC.ViewerControl.prototype.deselectMarks=function(marks){if(this.fA===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bn=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof IPCC.Mark){bn.push(marks);}}else{bn=marks;}if(bn.length===0){return this;}acm(bn,false,this);return this;};IPCC.ViewerControl.prototype.deselectAllMarks=function(){var nX=[];var bn=this.getSelectedMarks();var vz=false,H,eT;for(H=0;H<bn.length;H++){eT=this.bZ[parseInt(bn[H].getId(),10)];vz=false;if(eT){if(eT.getId()===eT.T.get_markID().toString()){eT.T.set_selected(false);if(Array.prototype.IndexOf){vz=(nX.IndexOf(eT.getPageNumber())>=0);}else{vz=(IPCC.Web.kO(nX,eT.getPageNumber())>=0);}}if(!vz){var cZ=eT.getPageNumber();if(zg(cZ-1,this)===true){nX.push(cZ);}}}}if(nX.length>0){var jI=this;setTimeout(function(){for(H=0;H<nX.length;H++){jI.bI.dk(nX[H]-1);}},1);}return this;};IPCC.ViewerControl.prototype.copyMarks=function(marks){var ae=this,Pi;if(marks instanceof IPCC.Mark){marks=[marks];}if(marks instanceof Array===false){throw new IPCC.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bn=[];IPCC.V.forEach(marks,function(G){if(G instanceof IPCC.Mark){if(ae.bZ[G.getId()]===undefined){throw new IPCC.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bn.push(G);}else{throw new IPCC.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var tf=[];IPCC.V.forEach(bn,function(G,bV){IPCC.eQ[G.getType()]({mark:G},function(cv,dB){dB.uid=undefined;tf[bV]=dB;});});this.uN=false;Pi=ae.deserializeMarks(tf);this.uN=true;return Pi;};IPCC.ViewerControl.prototype.enterTextMarkEditingMode=function(G){var ae=this,bI=this.bI;var YS=function(SC){var xN=false,de=bI.get_displayedPages();for(var H=0;H<de.get_length();H++){var aI=de.getPage(H);if(aI.get_pageNumber()===SC){xN=true;}bI.oh(aI.get_pageNumber());}return xN;};if(typeof G==="undefined"||G===null){YS(-1);}else{if(this.fA===false){throw IPCC.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(G instanceof IPCC.Mark)){throw new IPCC.Error("InvalidArgument","The argument 'mark' must be an instance of IPCC.Mark.");}var acA=this.bZ[parseInt(G.getId(),10)];if(!(acA&&acA instanceof IPCC.Mark)){throw new IPCC.Error("InvalidArgument","The provided mark is not on the document.");}if(!(G.T&&G.T instanceof IPCC.Web.UI.Mark)){throw new IPCC.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(G.getId()!==G.T.get_markID().toString()){throw new IPCC.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var af=G.getType();if(af!==IPCC.Mark.Type.TextAnnotation&&af!==IPCC.Mark.Type.TextRedaction&&af!==IPCC.Mark.Type.TextInputSignature&&af!==IPCC.Mark.Type.TextAreaSignature){throw new IPCC.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var xN=YS(G.getPageNumber()-1);if(xN){ae.bI.wt(G.getPageNumber()-1,G.T);}}return this;};IPCC.ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.fA===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Gi= -1;var db;var bo;var aY=0;if(sortableObject instanceof IPCC.Mark){if(sortableObject.getStartPoint){db=sortableObject.getStartPoint();}else{bo=(sortableObject.T)?sortableObject.T.get_boundingRectangle():sortableObject.getRectangle();db={x:bo.x,y:bo.y};}aY=sortableObject.getPageNumber();}else if(sortableObject instanceof IPCC.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){db={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{db={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aY= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aY=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aY<1||aY>this.getPageCount()|| !isFinite(aY)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aY)){return-2;}var aI=this.cY.getPage(aY-1);var un=aI.dC().Wv();var gR=aI.dC().gm();function acX(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function agg(dp,fe){var aL=Math.max(Math.min(fe.x,dp.x+dp.width),dp.x);var dr=Math.max(Math.min(fe.y,dp.y+dp.height),dp.y);return(fe.x-aL)*(fe.x-aL)+(fe.y-dr)*(fe.y-dr);};var zF;var Od=Number.MAX_VALUE;for(var H=0;H<un.dV();H++){var gQ=un.aCm(H);if(acX(gQ.di(),db)){for(var bF=gQ.aie();bF<gQ.aha();bF++){var SK=gR.kk(bF);var rU=SK.uZ();if(acX(rU,db)){return bF;}zF=agg(rU,db);if(zF<Od){Gi=bF;Od=zF;}}return Gi;}zF=agg(gQ.di(),db);if(zF<Od){if(gQ.di().y>db.y){Gi=gQ.aie()-1;}else{Gi=gQ.aha();}Od=zF;}}return Gi;};IPCC.ViewerControl.prototype.getCurrentMouseTool=function(){return this.cB.getName();};IPCC.ViewerControl.prototype.setCurrentMouseTool=function(name){var K=this;if(this.fA===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var Ar=name.toLowerCase();var cB=IPCC.MouseTools.getMouseTool(Ar);if(!cB){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var nv,kv;switch(cB.getType()){case IPCC.MouseTool.Type.Magnifier:nv=IPCC.Web.UI.MouseTool.Magnifier;break;case IPCC.MouseTool.Type.SelectToZoom:nv=IPCC.Web.UI.MouseTool.RectangleZoom;break;case IPCC.MouseTool.Type.PanAndEdit:case IPCC.MouseTool.Type.Pan:nv=IPCC.Web.UI.MouseTool.HandPan;break;case IPCC.MouseTool.Type.SelectText:nv=IPCC.Web.UI.MouseTool.SelectText;break;case IPCC.MouseTool.Type.EditMarks:nv=IPCC.Web.UI.MouseTool.EditMarks;break;case IPCC.MouseTool.Type.LineAnnotation:nv=IPCC.Web.UI.MouseTool.CreateLineMark;kv=awW(cB.getTemplateMark());break;case IPCC.MouseTool.Type.RectangleAnnotation:nv=IPCC.Web.UI.MouseTool.CreateRectangleMark;kv=alz(cB.getTemplateMark());break;case IPCC.MouseTool.Type.EllipseAnnotation:nv=IPCC.Web.UI.MouseTool.CreateEllipseMark;kv=alz(cB.getTemplateMark());break;case IPCC.MouseTool.Type.TextAnnotation:nv=IPCC.Web.UI.MouseTool.CreateTextMark;kv=avf(cB.getTemplateMark());break;case IPCC.MouseTool.Type.FreehandAnnotation:nv=IPCC.Web.UI.MouseTool.CreateFreehandMark;kv=aoQ(cB.getTemplateMark());break;case IPCC.MouseTool.Type.PolylineAnnotation:nv=IPCC.Web.UI.MouseTool.CreatePolylineMark;kv=axI(cB.getTemplateMark());break;case IPCC.MouseTool.Type.PolygonAnnotation:nv=IPCC.Web.UI.MouseTool.CreatePolygonMark;kv=axQ(cB.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var apS=this.bI.get_mouseTool();if(this.cB!==cB&&apS===nv){setTimeout(function(){K.trigger(IPCC.EventType.MouseToolChanged,{mouseToolName:K.cB.getName()});},0);}this.cB=cB;if(kv){this.FU=kv.onCreating;this.kC=kv.onAdded;}else{this.FU=undefined;this.kC=undefined;}this.bI.set_mouseTool(nv);this.bI.set_allowMarkEdits((cB.getType()===IPCC.MouseTool.Type.PanAndEdit));return this;};function aed(ae,WN,lM){if(ae.AK!==true){var It=function(){ae.off('PageCountReady',It);aed(ae,WN,lM);};ae.on('PageCountReady',It);return;}var bL=ae;var wo;var kp={},uS={},qy=[];var fX=bL.fM;var kz;var bH;if(WN){bH=WN;}var adw=[];var TK=bL.ag.get_pages();var apb=function(aI,done){var aCY=false;var hX=aI;var aY=aI.get_pageNumber();var fd=hX.get_pageWidth();var fp=hX.get_pageHeight();try{if(hX){var gB=bL.bI.gB(hX),Dc=0,Ea=0,eL="",aFM=false;var getArt=function getArt(){var Lu;if(bH&&bH.GD&&bH.GD[aY]){Lu=IPCC.V.extend({},bH);Lu.GD=bH.GD[aY];}else{Lu=bH;}var bF,ZA;var HY=gB.aCP(aY,Dc,Ea,Lu);if(HY.kp){kp[aY]=HY.kp;}else{var arO=aoR(aY,kz,Ea,Dc);kp[aY]=arO;}if(HY.qy){for(bF=0;bF<HY.qy.length;bF++){ZA=HY.qy[bF];uS[ZA.bD.imageStampId]=ZA;}}done();};if(gB){if(!fd|| !fp){if(gB.get_markCount()>0){bL.bI.Jr(aI,function(bA,ao){Dc=bA;if(Dc){hX.MQ(Dc);}Ea=ao;if(Ea){hX.NI(Ea);}getArt();},function(sI){done(sI);});}else{getArt();}}else{Dc=fd;Ea=fp;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};TK.forEach(function(aI,bk,ig){adw.push(function(done){apb(aI,done);});});var XK=function(am,aI){var wx="";var H;if(!am.gh){if(am.toString()){return am.toString();}else{return '<![CDATA[]]>';}}if((fX===1||aI===0||(aI>0&&am.gh!=="documentAnnotations"&&am.gh!=="pages"))&&am.gh!=="highlights"){wx='<'+am.gh;for(var Ak in am.bD){if(am.bD.hasOwnProperty(Ak)){var Tp=am.bD[Ak];if(Tp===undefined||Tp===null){continue;}var bD=Tp.toString();bD=bD.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');wx=wx+' '+Ak+'="'+bD+'"';}}wx+='>';}for(H=0;H<am.cR.length;H++){wx+=XK(am.cR[H],aI);}if(fX===1||(aI===fX-1)||(aI!==fX-1&&am.gh!=="documentAnnotations"&&am.gh!=="pages"&&am.gh!=="highlights")){if(am.gh!=="highlights"){wx+='</'+am.gh+'>';}else{wx+='<'+am.gh+' />';}}return wx;};IPCC.V.Tn(adw,function(cv){if(cv){lM(cv);return;}wo='<?xml version="1.0"?>';for(var H=0;H<(bL.fM);H++){wo=wo+XK(kp[H],H);}var stampImageXml='';for(var Jj in uS){if(uS.hasOwnProperty(Jj)){stampImageXml+=XK(uS[Jj],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';wo=wo.replace('</documentAnnotations>',stampImagesXml);}lM(undefined,wo);});};IPCC.ViewerControl.prototype.saveMarkup=function(recordName,options){var ah=IPCC.Deferred();var cT=ah.getPromise();var bH;if(options){bH=options;}else{bH={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){ah.reject(new IPCC.Error("InvalidArgument","The parameter, recordName, is not a String."));return cT;}if(!aoC(recordName)){ah.reject(new IPCC.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return cT;}var bL=this;this.rg.then(function(pD){var Bo=recordName;aed(bL,bH,function(err,wo){if(err){ah.reject(new IPCC.Error("Error",err));return cT;}var PY=IPCC.gd.sJ(Bo);var bg;if(!(/^[\x00-\x7F]*$/.test(bL.ag.get_documentIdentifier()))){bg=bL.bH.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bL.bH.documentID+'&AnnotationID=e'+PY;}else{bg=bL.bH.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bL.bH.documentID)+'&AnnotationID=u'+encodeURIComponent(Bo);}function ee(aD){ah.resolve(Bo);setTimeout(function(){bL.trigger('MarkupSaved',{name:Bo});},0);};function fl(aV){ah.reject(new IPCC.Error("AjaxError","Status Code "+aV.response.status+" "+aV.response.statusText));};IPCC.Ajax.fB({method:'POST',url:bg,headers:{'Content-Type':'application/xml'},body:wo}).then(ee,fl);});});}catch(e){ah.reject(new IPCC.Error("Error",e.message));}return cT;};var aoC=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var XN=function(kf){var aL=kf.firstChild;while(aL.nodeType!==1){aL=aL.nextSibling;}return aL;};var aoR=function(cZ,kz,fp,fd){var kp={gh:'documentAnnotations',cR:[],bD:{}};var aks={gh:'pages',cR:[],bD:{}};kp.cR.push(aks);var ni={gh:'highlights',cR:[],bD:{}};var aI={gh:'page',cR:[],bD:{id:(cZ+1).toString(),pageWidth:fd,pageHeight:fp}};kp.cR.push(ni);try{if(kz){var aL=kz.getElementsByTagName("documentAnnotations");if(aL.length>1){throw 'ERROR: Invalid PCC annotations XML';}var MJ;var Cf;if(document.documentMode<9){var Rc=kz.firstChild.nodeName;if(Rc.toLowerCase()==='xml'){MJ=kz.firstChild.nextSibling;}else{MJ=kz.firstChild;}}else{MJ=kz.firstChild;}var dQ=XN(MJ);if(dQ.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dQ.hasChildNodes()){var H;var hO=false;for(H=0;H<dQ.childNodes.length;H++){Cf=dQ.childNodes[H];if(Cf.nodeName!=='page'){continue;}var AS=Cf.getAttribute('id');hO=false;if(AS&&parseFloat(AS)===cZ+1){hO=true;for(var bF=0;bF<Cf.childNodes.length;bF++){var bC=Cf.childNodes[bF];var as={gh:'annotation',cR:[],bD:{}};if(bC.nodeName!=='annotation'){continue;}var Pu=Cf.childNodes[bF].attributes;if(Pu.length>0){for(var cl=0;cl<Pu.length;cl++){as.bD[Pu[cl].name]=Pu[cl].value;}}if(bC.childNodes[0].data){as.cR.push('<![CDATA['+bC.childNodes[0].data+']]>');}else{as.cR.push('');}aI.cR.push(as);}break;}}}}aks.cR.push(aI);return kp;}catch(e){throw(e.message);}};IPCC.ViewerControl.prototype.loadMarkup=function(recordName,options){var HI=recordName;var ah=IPCC.Deferred(),cT=ah.getPromise(),bL=this;var bH=options||{};var xT=bH.retainExistingMarks;var iw=bH.markupLayer;var vg=bH.loadAsHidden;this.rg.then(function(pD){var bg,PY,bI=bL.bI,cY=bL.cY;if(typeof HI!=="string"){ah.reject(new IPCC.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(xT!==undefined){if(typeof xT!=='boolean'){ah.reject(new IPCC.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(iw!==undefined){if(!(iw instanceof IPCC.MarkupLayer)){ah.reject(new IPCC.Error('InvalidArgument','The parameter `markupLayer` must be an instance of IPCC.MarkupLayer if it is specified.'));}if(bL.mV.getItem(iw.getId())===undefined){ah.reject(new IPCC.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function ee(aD){var Qi,Nh=aD.responseText,Mw;if(Nh.indexOf('xml')=== -1){ah.reject(new IPCC.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Nh=Nh.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.V.ny(p2)+p3;});if(window.DOMParser){Mw=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Mw=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Mw=function(){return null;};}Qi=Mw(Nh);var akS=Qi.getElementsByTagName('stampImage');var qy={};var WB=function(bV){G.ai.push(aiu.getPoint(bV));};for(var H=0;H<akS.length;H++){var Rd=akS[H];qy[Rd.getAttribute('imageStampId')]={imageStampId:Rd.getAttribute('imageStampId'),base64format:Rd.getAttribute('base64format')};}bI.set_annotationXmlDom(Qi,qy,xT===true,vg===true);if(xT!==true){bL.bZ={};}var cI=bL.cY.get_length();var G;var af,es;var wi={};var FE=[];for(H=0;H<cI;H++){var aH=bL.bI.gB(bL.cY.getPage(H));if(aH){var EF={};var bF=0;for(bF=0;bF<aH.get_markCount();bF++){var T=aH.getMark(bF);if(bL.bZ[T.get_markID()]!==undefined){continue;}es=T.get_type();switch(es){case IPCC.Web.UI.MarkType.Rectangle:if(T.hW()===true){if(T.get_opacity()===255){af=IPCC.Mark.Type.RectangleRedaction;}else{af=IPCC.Mark.Type.TransparentRectangleRedaction;}G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});}else{af=IPCC.Mark.Type.RectangleAnnotation;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.np=T.get_lineWidth();G.cN=T.get_fillColor();G.nt=T.get_lineColor();G.cA=T.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:af=IPCC.Mark.Type.EllipseAnnotation;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.np=T.get_lineWidth();G.cN=T.get_fillColor();G.nt=T.get_lineColor();G.cA=T.get_opacity();break;case IPCC.Web.UI.MarkType.Line:af=IPCC.Mark.Type.LineAnnotation;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.nr=T.get_lineWidth();G.cV=T.get_lineColor();G.cA=T.get_opacity();if(T.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){G.mU="FilledTriangle";}else{G.mU="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(T.hW()===true){af=IPCC.Mark.Type.StampRedaction;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});}else{af=IPCC.Mark.Type.StampAnnotation;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.cV=T.get_fillColor();}G.us=T.get_text();break;case IPCC.Web.UI.MarkType.Text:if(T.hW()===true){af=IPCC.Mark.Type.TextRedaction;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});}else{af=IPCC.Mark.Type.TextAnnotation;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.np=T.get_lineWidth();G.cN=T.get_fillColor();G.nt=T.get_lineColor();G.cA=T.get_opacity();}G.fr=T.get_maxLength();G.hq=T.get_fontName();G.hc=T.get_textColor();G.dH=T.get_fontSize();var dF=T.get_fontStyle();var pQ=[];if((dF&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pQ.push("Bold");}if((dF&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pQ.push("Italic");}if((dF&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pQ.push("Strikeout");}if((dF&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pQ.push("Underline");}G.dF=pQ;var qH;switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qH="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qH="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qH="right";break;}G.lQ=qH;break;case IPCC.Web.UI.MarkType.TextAreaSignature:af=IPCC.Mark.Type.TextAreaSignature;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.np=T.get_lineWidth();G.fr=T.get_maxLength();G.hq=T.get_fontName();G.hc=T.get_textColor();G.iu=T.get_maxFontSize();dF=T.get_fontStyle();pQ=[];if((dF&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pQ.push("Bold");}if((dF&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pQ.push("Italic");}if((dF&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pQ.push("Strikeout");}if((dF&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pQ.push("Underline");}G.dF=pQ;switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qH="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qH="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qH="right";break;}G.lQ=qH;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:af=(es===IPCC.Web.UI.MarkType.HighlightText)?IPCC.Mark.Type.HighlightAnnotation:(es===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?IPCC.Mark.Type.TextHyperlinkAnnotation:(es===IPCC.Web.UI.MarkType.Strikethrough)?IPCC.Mark.Type.StrikethroughAnnotation:IPCC.Mark.Type.TextSelectionRedaction;var ZK=T.aa;if(typeof wi[ZK]==='undefined'){G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,cY:cY,bI:bI,uid:T.bD.lm});G.ck=[];if(af===IPCC.Mark.Type.HighlightAnnotation){G.cN=T.get_fillColor();}wi[ZK]=G;T.av=H;T.kh=true;}else{T.av=H;wi[ZK].ck.push(T);}break;case IPCC.Web.UI.MarkType.Freehand:af=IPCC.Mark.Type.FreehandAnnotation;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.nr=T.get_lineWidth();G.cV=T.get_lineColor();G.cA=T.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:af=IPCC.Mark.Type.FreehandSignature;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.nr=T.get_lineWidth();G.cV=T.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:af=IPCC.Mark.Type.TextSignature;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.hq=T.get_fontName();G.cV=T.get_fillColor();G.an=T.get_text();break;case IPCC.Web.UI.MarkType.TextLine:af=IPCC.Mark.Type.TextInputSignature;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.hq=T.get_fontName();G.hc=T.get_textColor();G.an=T.get_text();G.fr=T.get_maxLength();G.iG=T.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!T.aa){af=IPCC.Mark.Type.RectangleRedaction;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,cY:cY,bI:bI,uid:T.bD.lm});G.np=T.get_lineWidth();G.cN=T.get_fillColor();G.nt=T.get_lineColor();G.cA=T.get_opacity();}else{if(EF[T.aa]===undefined){EF[T.aa]=[];}EF[T.aa].push(T);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:af=(es===IPCC.Web.UI.MarkType.ImageStampAnnotation)?IPCC.Mark.Type.ImageStampAnnotation:IPCC.Mark.Type.ImageStampRedaction;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.setImage({dataUrl:T.get_image(),id:T.rd});break;case IPCC.Web.UI.MarkType.Polyline:af=IPCC.Mark.Type.PolylineAnnotation;G=new IPCC.Mark({type:af,igMark:T,pageNumber:H+1,uid:T.bD.lm});G.nr=T.get_lineWidth();G.cV=T.get_lineColor();G.cA=T.get_opacity();var aiu=T.get_points();G.ai=[];for(var bE=0;bE<aiu.get_length();bE++){WB(bE);}break;default:G=undefined;continue;}if(typeof G!=='undefined'&&es!==IPCC.Web.UI.MarkType.HighlightText&& !(es===IPCC.Web.UI.MarkType.RectangleRedaction&&T.aa!==undefined)&&es!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&es!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&es!==IPCC.Web.UI.MarkType.Strikethrough){bL.bZ[T.get_markID()]=G;FE.push(G);}}for(var MH in EF){if(EF.hasOwnProperty(MH)&&wi[MH]){var CU=wi[MH];var ZL=CU.T;if(CU.ck&&CU.ck.length>0){for(var NT=0;NT<CU.ck.length;NT++){if(CU.ck[NT].av===H){ZL=CU.ck[NT];}}}var cL=EF[MH];for(var Ri=0;Ri<cL.length;Ri++){ZL.cL.push(cL[Ri]);}}}}}for(var nD in wi){if(wi.hasOwnProperty(nD)){var wF=wi[nD];bL.bZ[wF.T.get_markID()]=wF;FE.push(wF);if(wF.ck&&wF.ck.length>0){wF.ck[wF.ck.length-1].lj=true;}else{wF.T.lj=true;}}}ah.resolve(HI);if(iw!==undefined){iw.addMarks(FE);}else{bL.getActiveMarkupLayer().addMarks(FE);}bL.trigger('MarkupLoaded',{name:HI,loadedMarks:FE});};function fl(aV){ah.reject(new IPCC.Error("Error","Status Code "+aV.response.status+" "+aV.response.statusText));};PY=IPCC.gd.sJ(HI);if(!(/^[\x00-\x7F]*$/.test(bL.ag.get_documentIdentifier()))){bg=bL.bH.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bL.bH.documentID+'&AnnotationID=e'+PY;}else{bg=bL.bH.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bL.bH.documentID)+'&AnnotationID=u'+encodeURIComponent(HI);}IPCC.Ajax.fB({method:'GET',url:bg,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(ee,fl);});return cT;};IPCC.ViewerControl.prototype.getSavedMarkupNames=function(){var ah=IPCC.Deferred();var cT=ah.getPromise();try{var H=0,Lt=0;var Bo='';var bg=this.bH.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bH.documentID)+'&AnnotationID=u'+encodeURIComponent(Bo);var ee=function(aD){var ru;if(typeof aD.responseText!=='unknown'&&aD.responseText.length>0){try{ru=JSON.parse(aD.responseText);}catch(e){}}var Te=[],Lt=0;for(var H=0,bX=ru.annotationFiles.length;H<bX;H++){if(ru.annotationFiles[H].annotationLabel){Te[Lt]={};Te[Lt].name=ru.annotationFiles[H].annotationLabel;Lt++;}}ah.resolve(Te);};var fl=function(aV){ah.reject(new IPCC.Error("MarkupListFail","Unable to retrieve markup list from server."));};IPCC.Ajax.fB({method:'GET',url:bg}).then(ee,fl);}catch(e){ah.reject(new IPCC.Error("Error",e.message));}return cT;};IPCC.ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.mV){this.mV=new IPCC.MarkupLayerCollection(this);}return this.mV;};IPCC.ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var ah=IPCC.Deferred(),cT=ah.getPromise(),bg,axR=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.ag.get_documentIdentifier()))){bg=this.bH.imageHandlerUrl+'/MarkupLayers/e'+this.bH.documentID+'/';}else{bg=this.bH.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bH.documentID)+'/';}if(metadata){var atD=axR(metadata);bg+=atD;}bg+='?nocache='+new Date().getTime();IPCC.Ajax.fB({url:bg,method:'GET'}).then(function ee(aD){var aDs=JSON.parse(aD.responseText);ah.resolve(aDs);},function fl(aV){ah.reject(aV.error);});return cT;};IPCC.ViewerControl.prototype.getActiveMarkupLayer=function(){return this.xR;};IPCC.ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof IPCC.MarkupLayer)){throw new IPCC.Error('InvalidArgument','The parameter `markupLayer` must be an instance of IPCC.MarkupLayer.');}if(this.mV.getItem(markupLayer.getId())===undefined){throw new IPCC.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.xR=markupLayer;};IPCC.ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var QP,K=this;QP=new IPCC.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function alm(){setTimeout(function(){QP.Qx();},20);};function Zn(){K.off(IPCC.EventType.PageCountReady,Zn);alm();};if(this.ta===false){K.on(IPCC.EventType.PageCountReady,Zn);}else{alm();}return QP;};IPCC.ViewerControl.prototype.saveMarkupLayer=function(id){var ah=IPCC.Deferred();var cT=ah.getPromise();var K=this;if(typeof id!=='string'|| !id){ah.reject(new IPCC.Error('InvalidArgument','The parameter `id` is not a string.'));return cT;}var ew=this.mV?this.mV.getItem(id):undefined;if(!ew){ah.reject(new IPCC.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return cT;}function auE(qO){var Qo=ew.getMarks();if(!Qo.length){qO(undefined,[]);}else{K.serializeMarks(Qo).then(function hn(bn){qO(undefined,IPCC.V.map(bn,function(G){if(G.conversation&&G.conversation.comments){delete G.conversation.comments;}return G;}));},function _f(eL){qO(eL);});}};function axt(qO){var Qo=ew.getMarks();var Zi=function(fj,hy,jG){var Yd=IPCC.V.filter(hy,function(pe){return!pe.iw||pe.iw===ew;});IPCC.V.forEach(Yd,function(cW){var aU=IPCC.eQ.Comment(cW);aU.markUid=jG;fj.push(aU);});return fj;};var Yh=IPCC.V.reduce(Qo,function(fj,G){var cj=G.getConversation();var hy=cj.getComments();return hy.length?Zi(fj,hy,G.getUid()):fj;},[]);qO(undefined,Yh);};function ayG(qO){var alP=IPCC.V.reduce(K.mV.getAll(),function(fj,afJ){return fj.concat(ew===afJ?[]:afJ.getMarks());},[]);var Zi=function(fj,hy,jG){var Yd=IPCC.V.filter(hy,function(pe){return pe.iw===ew;});IPCC.V.forEach(Yd,function(pe){var aU=IPCC.eQ.Comment(pe);aU.markUid=jG;fj.push(aU);});return fj;};var Yh=IPCC.V.reduce(alP,function(fj,G){var cj=G.getConversation();var hy=cj.getComments();return hy.length?Zi(fj,hy,G.getUid()):fj;},[]);qO(undefined,Yh);};var acG=[],azr=function(nZ){if(nZ.markupLayer===ew){acG.push({text:nZ.text,data:nZ.data,creationDateTime:nZ.creationDateTime,markUid:nZ.markUid});}};for(var aaU in this.mV.iW){if(this.mV.iW.hasOwnProperty(aaU)){IPCC.V.forEach(this.mV.iW[aaU],azr);}}var xO={layerRecordId:ew.getRecordId(),name:ew.getName(),originalXmlName:ew.getOriginalXmlName(),comments:acG,data:IPCC.eQ.Data(ew)};var wA;IPCC.V.Tn([function(mE){auE(function(cv,dB){if(cv&& !wA){wA=cv;}else{xO.marks=dB;}mE();});},function(mE){axt(function(cv,dB){if(cv&& !wA){wA=cv;}else{xO.comments=xO.comments.concat(dB);}mE();});},function(mE){ayG(function(cv,dB){if(cv&& !wA){wA=cv;}else{xO.comments=xO.comments.concat(dB);}mE();});}],function(){if(!wA){azU(xO);}else{ah.reject(new IPCC.Error('SerializationError',wA.message));}});function azU(aGn){var JB,hs={method:'POST',body:JSON.stringify(xO),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(K.ag.get_documentIdentifier()))){JB=K.bH.imageHandlerUrl+'/MarkupLayers/e'+K.bH.documentID+'/';}else{JB=K.bH.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(K.bH.documentID)+'/';}if(ew.getRecordId()){hs.url=JB+ew.getRecordId();hs.headers['X-HTTP-Method-Override']='PUT';}else{hs.url=JB;}IPCC.Ajax.fB(hs).then(ee,fl);};function ee(aD){if(aD.responseText&&typeof aD.responseText==='string'){var KY;try{KY=JSON.parse(aD.responseText);}catch(e){}if(KY&&KY.layerRecordId){ew.QD=KY.layerRecordId;}}ah.resolve({layerRecordId:ew.getRecordId()});};function fl(aV){ah.reject(new IPCC.Error('AjaxError',aV.error.message||'An unknown server error occured.'));};return cT;};function pA(){return function(sender,eventArgs){var K=this;var G=K.bZ[eventArgs.mark.get_markID()];if(K.uN){K.xR.addMarks(G);}setTimeout(function(){if(G){K.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function awW(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setThickness(aO.getThickness());G.setColor(aO.getColor());G.setOpacity(aO.getOpacity());G.setEndHeadType(aO.getEndHeadType());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function alz(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setBorderThickness(aO.getBorderThickness());G.setFillColor(aO.getFillColor());G.setBorderColor(aO.getBorderColor());G.setOpacity(aO.getOpacity());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function aGu(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;},onAdded:pA()};};function aDA(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setReason(aO.getReason());G.setBorderThickness(aO.getBorderThickness());G.setFillColor(aO.getFillColor());G.setBorderColor(aO.getBorderColor());G.setFontColor(aO.getFontColor());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function avf(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setBorderThickness(aO.getBorderThickness());G.setFillColor(aO.getFillColor());G.setBorderColor(aO.getBorderColor());G.setOpacity(aO.getOpacity());G.setFontName(aO.getFontName());G.setFontColor(aO.getFontColor());G.setFontSize(aO.getFontSize());G.setFontStyle(aO.getFontStyle());G.setHorizontalAlignment(aO.getHorizontalAlignment());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function aFc(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setFontName(aO.getFontName());G.setFontColor(aO.getFontColor());G.setText(aO.getText());if(G.setFontSize){G.setFontSize(aO.getFontSize());}IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function aFv(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;if(aO.getType()===IPCC.MouseTool.Type.StampAnnotation){G.setColor(aO.getColor());}G.setLabel(aO.getLabel());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};var aEW;function aFC(aO){return{onCreating:function(ay,L){},onAdded:pA()};};function aoQ(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setThickness(aO.getThickness());G.setColor(aO.getColor());G.setOpacity(aO.getOpacity());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function aGo(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setImage(aO.getImage());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function axI(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setThickness(aO.getThickness());G.setColor(aO.getColor());G.setOpacity(aO.getOpacity());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());},onAdded:pA()};};function axQ(aO){return{onCreating:function(ay,L){var G=new IPCC.Mark({type:aO.getType(),igMark:L.mark,pageNumber:L.pageIndex+1});this.bZ[L.mark.get_markID()]=G;G.setFillColor(aO.getFillColor());G.setOpacity(aO.getOpacity());G.setBorderColor(aO.getBorderColor());G.setBorderThickness(aO.getBorderThickness());IPCC.Data.mO(aO,G);IPCC.Conversation.pS(aO.getConversation(),G.getConversation());console.log(G);},onAdded:pA()};};IPCC.ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var vT;switch(markHandleMode){case IPCC.MarkHandleMode.HideCornerHandlesWhenClose:vT=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case IPCC.MarkHandleMode.HideSideHandlesWhenClose:vT=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.bI&&this.bI.set_markHandleMode){this.bI.set_markHandleMode(vT);}else{this.bH.markHandleMode=vT;}return this;};IPCC.ViewerControl.prototype.getMarkHandleMode=function(){var vT;if(this.bI&&this.bI.get_markHandleMode){vT=this.bI.get_markHandleMode();}else{vT=this.bH.markHandleMode;}if(vT===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return IPCC.MarkHandleMode.HideCornerHandlesWhenClose;}else{return IPCC.MarkHandleMode.HideSideHandlesWhenClose;}};IPCC.ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var K=this,zY=K.aF;function acK(av,hK,cI){var Uv=[av+1];var aI=K.cY.getPage(av),fh=aI.dC();if(fh.nA()){var an=fh.Cv(),aaE=an.substr(hK);if(aaE.length>cI){return Uv;}else{return Uv.concat(acK(av+1,0,cI-aaE.length));}}else{return Uv;}};this.bI.yE();function Bf(Ra,aY){K.adZ(aY,Ra);};if(zY&&zY.getResults().length){var dQ=acK(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),ep=zY.getResults(),ahP=false,Lq={};if(ep.length){IPCC.V.forEach(ep,function(cn){var arB=IPCC.V.contains(dQ,cn.aY);if(arB){ahP=true;Lq[cn.aY]=Lq[cn.aY]||[];Lq[cn.aY].push(cn);}});}if(ahP){IPCC.V.forEach(Lq,function(Ra,aY){K.requestPageText(aY).then(Bf.bind(null,Ra,aY));});}}return this;};IPCC.ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.fA===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new IPCC.Error('InvalidArgument','pageNumber is not a known page number in the document');}var yj=function(n){return typeof n==='number'&& !isNaN(n);};var vS,ada=true;if(points&&points.constructor===Array){vS=points;}else{vS=[points];ada=false;}var abN=function(bJ,bk,bM){throw new IPCC.Error('InvalidArgument',bJ+' (Array index '+bk+') does not have a valid '+bM+' property');};if(vS.length===0|| !points){throw new IPCC.Error('InvalidArgument','At least one point is required');}IPCC.V.forEach(vS,function(bJ,bk){if(!yj(bJ.x)){abN(bJ,bk,'x');}if(!yj(bJ.y)){abN(bJ,bk,'y');}});var Da=this.bI.aAj(pageNumber,vS);if(Da===null){return null;}else if(ada){return Da;}else{return Da[0];}};IPCC.ViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new IPCC.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var K=this;K.adm=amount;if(this.fA===false){this.rg.then(function(pD){var bI=K.bI;bI.CO(amount);});}else{var bI=K.bI;bI.CO(amount);}return K;};IPCC.ViewerControl.prototype.getSharpening=function(){var K=this;if(this.fA===false){return K.adm;}else{var bI=K.bI;return bI.aBQ();}};IPCC.ViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new IPCC.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var K=this;K.aiV=amount;if(this.fA===false){this.rg.then(function(pD){var bI=K.bI;bI.DH(amount);});}else{var bI=K.bI;bI.DH(amount);}return K;};IPCC.ViewerControl.prototype.getGamma=function(){var K=this;if(this.fA===false){return K.aiV;}else{var bI=K.bI;return bI.aoy();}};IPCC.ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new IPCC.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var K=this;K.ke=amount;if(this.fA===false){this.rg.then(function(pD){K.bI.Ci(amount);});}else{K.bI.Ci(amount);}return K;};IPCC.ViewerControl.prototype.getSvgLineWidthMultiplier=function(){var K=this;if(this.fA===false){return K.ke;}else{var bI=K.bI;return bI.aCG();}};if(Object.defineProperties){Object.defineProperties(IPCC.ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.aF;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:IPCC.ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:IPCC.ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:IPCC.ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}IPCC.FitType={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};IPCC.ViewMode={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};IPCC.PageLayout={Horizontal:"Horizontal",Vertical:"Vertical"};IPCC.EventType={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening"};IPCC.RedactionViewMode={Draft:"Draft",Normal:"Normal"};IPCC.ScaleTrigger={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};IPCC.MarkHandleMode={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};IPCC.Gz={};IPCC.Gz.wc=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};}(IPCC||{}));(function(IPCC){"use strict";var printAlgorithm={standard:1,contentWindowContents:2};var TE=function TE(aU,df,R){if(aU.addEventListener){aU.addEventListener(df,R,false);}else if(aU.attachEvent){aU.attachEvent('on'+df,R);}};var WP=function WP(aU,df,R){if(aU.removeEventListener){aU.removeEventListener(df,R,false);}else if(aU.detachEvent){aU.detachEvent('on'+df,R);}};function ayb(fJ){var Mc={};fJ=fJ.split('&');for(var i=fJ.length;i--;){var q=fJ[i].split('=');Mc[q.shift()]=q.join('=');}return Mc;};function axy(){var AM=document.getElementById('pccPrintFrame');if(AM){if(AM.contentWindow&&AM.contentWindow.destroy){AM.contentWindow.destroy();}if(AM.parentElement){AM.parentElement.removeChild(AM);}}};function aBF(bH,ve,aaX,adE,lM){axy();if(!bH.algorithm){bH.algorithm=printAlgorithm.standard;}var hI;var gL=document.createElement('iframe');gL.id='pccPrintFrame';gL.className='pccPrintFrame';gL.style.position='absolute';gL.style.bottom=gL.style.right='0px';gL.style.width=gL.style.height='1px';gL.style.zIndex='0';gL.style.border='none';if(bH.algorithm!==printAlgorithm.contentWindowContents){gL.style.visibility='0';}function NQ(){WP(window,'message',akz);};function acP(){WP(gL,'load',acP);if(gL.contentDocument){hI=gL.contentDocument;}else if(gL.contentWindow){hI=gL.contentWindow.document;}else{hI=gL.document;}if(bH.algorithm===printAlgorithm.contentWindowContents){gL.contentWindow.contents=bH.template;gL.src='javascript:window["contents"]';}else{hI.open();hI.write(bH.template);hI.close();}lM();};var akz=function(message){message.source.IPCC.Ajax.setHeaders(IPCC.Ajax.getHeaders()).setOverrideMethod(IPCC.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var afr=JSON.parse(message.data);var aH=aaX(afr.pageIndex);gL.contentWindow[afr.callbackName](aH);}else if(message.data==='extra'){var Fa=adE(bH);gL.contentWindow['extra'](bH.encryption,Fa);}else if(message.data==='done'){if(bH.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gL.contentWindow.focus();gL.contentWindow.document.execCommand('print',false,null);window.focus();NQ();ve.trigger(IPCC.PrintRequest.EventType.PrintCompleted);},200);}else{setTimeout(function(){gL.contentWindow.focus();gL.contentWindow.print();window.focus();NQ();ve.trigger(IPCC.PrintRequest.EventType.PrintCompleted);},200);}}else if(message.data==='fail'){NQ();ve.trigger(IPCC.PrintRequest.EventType.PrintFailed);}else{var rH=ayb(message.data);rH.index= +rH.index;rH.pageNumber= +rH.pageNumber;rH.totalPages= +rH.totalPages;ve.ZS= +rH.index+1;ve.trigger(IPCC.PrintRequest.EventType.PrintPagePrepared,rH);}};TE(window,'message',akz);TE(gL,'load',acP);document.body.appendChild(gL);return NQ;};function apj(ae){return function aaX(av){return ae.bI.gB(ae.cY.getPage(av));};};function anT(ae){return function adE(options){var bn,G,vd=[],zX=[],Aq={},Jh={},vW={},eL={},Cb='',alw,cj,bV,HH,bo,Hx,aY,ajI={},Co={},H=0,cl=0,bF=0,amc=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bn=ae.getAllMarks();for(H=0;H<options.pages.length;H++){ajI[options.pages[H]]=true;}for(cl=0;cl<bn.length;cl++){G=bn[cl];aY=G.aY;if(options.includeReasons!=='none'&&G.getReason){Cb=G.getReason();if(Cb){if(!vW[aY]){eL[Cb]=1;vW[aY]=eL;eL={};}else{if(vW[aY][Cb]){vW[aY][Cb]+=1;}else{vW[aY][Cb]=1;}}}}if(G.nS||G.bv.search("Redaction")!== -1){if(Co[aY]){Co[aY]+=1;}else{Co[aY]=1;}}if(options.range.length&&ajI[aY]!==true|| !options.includeRedactions&&G.nS|| !options.includeAnnotations&& !G.nS){continue;}cj=G.getConversation();if(cj&&cj.getComments().length){if(!HH){HH=aY;}else if(aY!==HH){vd.sort(amc);for(bF=0;bF<vd.length;bF++){zX=zX.concat(Aq[vd[bF]]);}Jh[HH]=zX;HH=aY;vd=[];Aq={};zX=[];}bV=ae.getCharacterIndex(G);alw=aY;bo=G.T.get_boundingRectangle();Hx=(bV>0)?bV*10000+bo.y:bo.y;vd.push(Hx);if(!Aq[Hx]){Aq[Hx]=[cj];}else{Aq[Hx].push(cj);}}}if(vd.length){vd.sort(function(a,b){return a-b;});for(H=0;H<vd.length;H++){zX=zX.concat(Aq[vd[H]]);}Jh[alw]=zX;}}return{Jh:Jh,vW:vW,Co:Co};};};IPCC.ViewerControl.prototype.print=function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dQ=IPCC.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var op=this.bH.imageHandlerUrl;var arM=this.bH.documentID;var amQ=this.ayk;options.vsID=arM;options.handler=op;options.pages=dQ;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=amQ.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bH.viewerAssetsPath);options.encryption= ! !this.bH.encryption;if(isOldIE||IPCC.V.IW.PP){options.algorithm=printAlgorithm.contentWindowContents;}var PZ;function bN(){if(! !PZ){PZ();}};var ve=new IPCC.PrintRequest(options,dQ.length,bN,this);this.trigger(IPCC.EventType.PrintRequested,{printRequest:ve});PZ=aBF(options,ve,apj(this),anT(this),function(){});return ve;};IPCC.ViewerControl.prototype.validatePrintRange=function validatePrintRange(range){return IPCC.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};IPCC.ViewerControl.prototype.canPrintMarks=function canPrintMarks(){return(document.documentMode!==8);};IPCC.PrintRequest=function(options,totalPages,cancelFunc,that){this.bH=options;this.bN=cancelFunc;this.ZS=0;IPCC.EventEmitter.extend(this);};IPCC.PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};IPCC.PrintRequest.prototype.cancel=function(){this.bN();this.trigger(IPCC.PrintRequest.EventType.PrintCancelled);};IPCC.PrintRequest.prototype.getOptions=function(){return{range:this.bH.pages.toString(),orientation:this.bH.orientation,paperSize:this.bH.paperSize,margins:this.bH.margins,includeMarks:this.bH.includeMarks,includeAnnotations:this.bH.includeAnnotations,includeRedactions:this.bH.includeRedactions,includeComments:this.bH.includeComments,includeReasons:this.bH.includeReasons,redactionViewMode:this.bH.redactionViewMode};};IPCC.PrintRequest.prototype.getPageCount=function(){return this.bH.pages.length;};IPCC.PrintRequest.prototype.getPreparedCount=function(){return this.ZS;};if(Object.defineProperties){Object.defineProperties(IPCC.PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}IPCC.PrintControl=function(domElement,options){var acQ=[];IPCC.V.Xz=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function zM(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function awv(aY,JJ){var fZ=[];fZ.push("pageNumber="+(1+aY));fZ.push("index="+JJ);fZ.push("totalPages="+options.pages.length);return fZ.join('&');};function hX(aY,JJ,next){var bQ={documentIdentifier:options.vsID,pageNumber:aY,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jx=document.createElement('div');jx.className=options.paperSize+" ";jx.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jx.id='printpage'+aY;if(options.margins==='none'){jx.className+=' nomargins';}domElement.appendChild(jx);var pv=IPCC.initializePageViewPlugin(jx,bQ);acQ.push(pv);var vi=false;function Is(){zM(awv(aY,JJ));next();};pv.add_pageOpened(function(){var aR=pv.ks(),al=pv.jj();var xf=(options.orientation==='portrait'&&aR>al)||(options.orientation==='landscape'&&al>aR);if(xf){pv.xf(90);}});pv.add_pageDisplayed(function(){if(!vi){Is();}});pv.add_textPageReady(function(){if(vi){pv.dk();Is();}});pv.add_pageOpenFailed(function(){zM('fail');});pv.add_textExtractionFailed(function(){if(vi){zM('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.oP(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.oP(false);}}if(IPCC.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var akp='loadArt'+aY;var rH={pageIndex:aY,callbackName:akp};window[akp]=function(aH){var mf,IU,H,cj={},Mj={},zA='',mY,Hu,eL,CJ='';var MF=[];aH.CQ(function(G){if(G.get_type()===IPCC.Web.UI.MarkType.HighlightText){vi=true;}if(options.includeRedactions&&G.hW()){MF.push(G);}if(options.includeAnnotations&& !G.hW()){MF.push(G);}});var acF=new IPCC.Web.UI.ArtPage();IPCC.V.forEach(MF,function(G){G.mk(undefined);acF.addMark(G);});bQ.artPage=acF;Mj=options.pagedConversations[aY+1];if(options.pagedConversations&&Mj&&options.includeComments==='followingPage'){mf=document.createElement('div');mf.className+='commentPage';mf.id='printcommentpage'+aY;if(options.margins==='none'){mf.className+=' nomargins';}IU='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(H=0;H<Mj.length;H++){cj=Mj[H];zA+=acZ(cj,aY+1);}mf.innerHTML=IU.replace('{{pageNumber}}',aY+1).replace('{{conversationList}}',zA);domElement.appendChild(mf);}Hu=options.pagedReasons[aY+1];if(options.pagedReasons&&Hu&&options.includeReasons==='followingPage'){mY=document.createElement('div');mY.className+='reasonPage';mY.id='printreasonpage'+aY;if(options.margins==='none'){mY.className+=' nomargins';}IU='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(eL in Hu){if(Hu.hasOwnProperty(eL)){CJ+=acn(eL,Hu[eL]);}}mY.innerHTML=IU.replace('{{pageNumber}}',aY+1).replace('{{reasonList}}',CJ).replace('{{date}}',aeJ()).replace('{{count}}',options.pagedRedactionCount[aY+1]);domElement.appendChild(mY);}pv.openPage(bQ);IPCC.V.forEach(MF,function(G){G.mk(aH);});};zM(JSON.stringify(rH));}else{pv.openPage(bQ);}};function acZ(cj,aY){var ako='',iX='',G=cj.getMark(),hy,cW,H;switch(G.T.hT()){case IPCC.Web.UI.MarkType.Rectangle:iX=(G.T.hW())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:iX='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:iX='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:iX=(G.mU==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:iX='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:iX='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:iX='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:iX='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:iX='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:iX='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:iX='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:iX='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:iX='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:iX='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:iX='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:iX='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:iX='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:iX='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:iX='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iX='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:iX='Strikethrough Annotation';break;default:break;}hy=cj.getComments();for(H=0;H<hy.length;H++){cW=hy[H];ako+='<li>'+aum({text:cW.getText(),createDate:cW.pk.Ws,pageNumber:aY+1})+'</li>';}return '<h3>'+iX+'</h3><ul>'+ako+'</ul>';};function aum(cW){var fE=new Date(cW.createDate),VJ='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',fE.getMonth()+1).replace('{{day}}',fE.getDate()).replace('{{year}}',fE.getFullYear()).replace('{{hour}}',(fE.getHours()<10?'0':'')+fE.getHours()).replace('{{minutes}}',(fE.getMinutes()<10?'0':'')+fE.getMinutes()).replace('{{period}}',fE.getHours()<12?'am':'pm');var an=cW.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',an).replace('{{date}}',VJ);};function aeJ(){var fE=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',fE.getMonth()+1).replace('{{day}}',fE.getDate()).replace('{{year}}',fE.getFullYear());};function acn(eL,pW){eL=eL.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var aqu=(pW>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',eL).replace('{{count}}',pW).replace('{{times}}',aqu);};function awr(){window.onerror=function(ev){zM('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function axo(aY,JJ){return function(next){hX(aY,JJ,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aI= +options.pages[i]-1;funcs.push(axo(aI,i));}sync(funcs,function(){var mf,KR='',aI,BJ='',zA='',cj,G,aka='<h1>Comments</h1><hr>{{pageSections}}',mY,CJ='',atE='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aI in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aI)){if(!mf){mf=document.createElement('div');mf.className+=' commentPage';mf.id='printpage_comments';if(options.margins==='none'){mf.className+=' nomargins';}}KR='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';zA='';for(var H=0;H<options.pagedConversations[aI].length;H++){cj=options.pagedConversations[aI][H];G=cj.getMark();zA+=acZ(cj,G.pageNumber);}BJ+=KR.replace('{{pageNumber}}',G.pageNumber).replace('{{conversationList}}',zA);if(zA.length){mf.innerHTML=aka.replace('{{pageSections}}',BJ);domElement.appendChild(mf);}}}}if(options.includeReasons==='documentEnd'){BJ='';aka='';KR='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aI in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aI)){if(!mY){mY=document.createElement('div');mY.className+='reasonPage';mY.id='printpage_reason';if(options.margins==='none'){mY.className+=' nomargins';}}CJ='';for(var eL in options.pagedReasons[aI]){if(options.pagedReasons[aI].hasOwnProperty(eL)){CJ+=acn(eL,options.pagedReasons[aI][eL]);}}BJ+=KR.replace('{{pageNumber}}',aI).replace('{{reasonList}}',CJ).replace('{{date}}',aeJ()).replace('{{count}}',options.pagedRedactionCount[aI]);}}if(BJ.length){mY.innerHTML=atE.replace('{{pageSections}}',BJ);domElement.appendChild(mY);}}zM('done');});};function alQ(){window['extra']=function(bool,Fa){options.encryption= ! !bool;options.pagedConversations=Fa.Jh;options.pagedReasons=Fa.vW;options.pagedRedactionCount=Fa.Co;awr();window['extra']=function(){};};zM('extra');};function arT(){var aH;IPCC.V.forEach(acQ,function(bu){aH=bu.get_artPage();if(aH){aH.removeAllMarks();}bu.dispose();aH=undefined;});};window['destroy']=arT;alQ();};}(IPCC||{}));(function(IPCC){function abl(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function Sn(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new Sn(this.x,this.y);};};function Wy(cn){return(cn&&cn.nodeType===1);};function My(hx,FM){var RQ=(FM&&IPCC.V.Di)?'m':'M';var PL=(FM&&IPCC.V.Di)?'l':'L';return IPCC.V.map(hx,function(el,i){if(i===0){return RQ+el.x+','+el.y;}else{return PL+el.x+','+el.y;}}).join('');};function aly(dK,pa,ft){return function(aT){if(IPCC.V.zj&&aT.type.match('mouse')){aT.preventDefault();aT.stopPropagation();return false;}if(aT.preventDefault){aT.preventDefault();}else{aT.returnValue=false;}var x,y;if(aT.changedTouches){var ge=aT.changedTouches[0];if(aT.type==='touchstart'){pa=aT.target.getBoundingClientRect();}else if(aT.type==='touchend'){ft&&ft();return;}x=ge.clientX-pa.left;y=ge.clientY-pa.top;}else{x=aT.clientX-pa.left;y=aT.clientY-pa.top;}var bJ=new Sn(x,y);dK.hx.push(bJ);var sc=My(dK.hx);if(IPCC.V.Di){dK.gP.path=sc.toLowerCase();}else{dK.gP.setAttribute('d',sc);}ft&&ft();};};function apk(points){var xK=3,cc='',rN;var pK=(points.length<xK)?points:IPCC.V.filter(points,function(el){if(rN&&rN.close(el)){return false;}else{rN=el;return true;}});if(pK.length<xK){pK=[points[0],points[points.length-1]];}rN=undefined;if(pK.length<xK){cc+=My(pK);}else{cc='M'+IPCC.V.bspline(pK);cc=cc.replace(/\d*\.?\d*/g,function(bM){var HQ=bM.indexOf('.');if(bM.length&&HQ>0){return bM.substr(0,HQ+3);}else if(bM!==""){return bM;}else{return bM;}});}return cc;};function SignatureControl(dom){var K=this;if(typeof dom==='string'){this.aP=document.querySelector(dom);if(!(Wy(this.aP))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Wy(dom)){this.aP=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Ix=[];this.pa=new abl(this.aP.getBoundingClientRect());this.fv=IPCC.V.zE.SVG([0,0,this.pa.width,this.pa.height].join(' '));this.aP.appendChild(this.fv);function Cl(ev){var gP=IPCC.V.zE.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});K.fv.appendChild(gP);var dK={hx:[],gP:gP,ft:function(){K.Ix.push(dK.hx);IPCC.V.removeEvent(K.aP,'mousemove',xi);IPCC.V.removeEvent(K.aP,'mouseup',Du);if(IPCC.V.zj){IPCC.V.removeEvent(K.aP,IPCC.V.pj['move'],xi);IPCC.V.removeEvent(K.aP,IPCC.V.pj['up'],Du);}if(IPCC.V.Ie){IPCC.V.removeEvent(K.aP,'touchmove',xi);IPCC.V.removeEvent(K.aP,'touchend',Du);}}};var xi=aly(dK,K.pa);var Du=aly(dK,K.pa,dK.ft);xi(ev);IPCC.V.addEvent(K.aP,'mousemove',xi);IPCC.V.addEvent(K.aP,'mouseup',Du);if(IPCC.V.zj){IPCC.V.addEvent(K.aP,IPCC.V.pj['move'],xi);IPCC.V.addEvent(K.aP,IPCC.V.pj['up'],Du);}if(IPCC.V.Ie){IPCC.V.addEvent(K.aP,'touchmove',xi);IPCC.V.addEvent(K.aP,'touchend',Du);}};IPCC.V.addEvent(K.aP,'mousedown',Cl);if(IPCC.V.zj){this.aP.style['-ms-touch-action']='none';this.aP.style['touch-action']='none';IPCC.V.addEvent(K.aP,IPCC.V.pj['down'],Cl);}if(IPCC.V.Ie){IPCC.V.addEvent(K.aP,'touchstart',Cl);}this.RX=function(){K.pa=new abl(K.aP.getBoundingClientRect());K.fv.setAttribute('viewBox',[0,0,K.pa.width,K.pa.height].join(' '));};IPCC.V.addEvent(window,'resize',this.RX);this.akR=function(){IPCC.V.removeEvent(window,'resize',K.RX);IPCC.V.removeEvent(K.aP,'mousedown',Cl);if(IPCC.V.zj){IPCC.V.removeEvent(K.aP,IPCC.V.pj['down'],Cl);}if(IPCC.V.Ie){IPCC.V.removeEvent(K.aP,'touchstart',Cl);}while(K.aP.firstChild){K.aP.removeChild(K.aP.firstChild);}};};SignatureControl.prototype.done=function(){var kL,la,mr,mx,sc='M0,0',adv=this;IPCC.V.forEach(adv.Ix,function(nD){IPCC.V.forEach(nD,function(p){if(kL===undefined||kL>p.x){kL=p.x;}if(la===undefined||la>p.y){la=p.y;}if(mr===undefined||mr<p.x){mr=p.x;}if(mx===undefined||mx<p.y){mx=p.y;}});});IPCC.V.forEach(adv.Ix,function(nD){var ayH=IPCC.V.map(nD,function(p){return new Sn(p.x-kL,p.y-la);});sc+=apk(ayH);});this.akR();return{type:'path',path:sc,width:(mr-kL)||0,height:(mx-la)||0};};SignatureControl.prototype.resize=function(){this.RX();return this;};SignatureControl.prototype.clear=function(){var svg=this.fv;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Ix=[];return this;};SignatureControl.prototype.undo=function(){if(this.fv.lastChild){this.fv.removeChild(this.fv.lastChild);}this.Ix.pop();return this;};SignatureControl.prototype.cancel=function(){this.akR();return this;};IPCC.SignatureControl=function(dom){return new SignatureControl(dom);};IPCC.Signatures=new IPCC.ObservableCollection();IPCC.SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var sD=IPCC.V.Yw(signature.path);var fv=IPCC.V.zE.SVG([0,0,sD.width,sD.height].join(' '));var gP=IPCC.V.zE.Path(signature.path,{width:sD.width,height:sD.height,color:'black',thickness:4});if(IPCC.V.Di){var azz=(sD.height/sD.width)*100;fv.style.width=gP.style.width='100%';fv.style.height=gP.style.height='0px';fv.style.paddingBottom=gP.style.paddingBottom=azz+'%';}else{fv.style.width='100%';fv.style.maxHeight='100%';fv.setAttribute('preserveAspectRatio','xMinYMin meet');}fv.appendChild(gP);domElement.appendChild(fv);return{width:sD.width,height:sD.height,clear:function(){domElement.removeChild(fv);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jx=document.createElement('div');var mG=document.createTextNode(signature.text);var iY=(typeof signature.fontName==='string')?signature.fontName:'serif';jx.appendChild(mG);jx.style.textAlign='center';jx.style.fontFamily='"'+iY+'", cursive';jx.style.fontSize='2.5em';jx.style.overflow='hidden';domElement.appendChild(jx);var sD=IPCC.V.tm(signature.text,iY);return{width:sD.width,height:sD.height,clear:function(){domElement.removeChild(jx);}};};if(!Wy(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};})(IPCC||{});(function(IPCC){IPCC.Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof IPCC.Conversation)){throw new Error(conversation+' is not a IPCC.Conversation object.');}this.getConversation=function aCU(){return conversation;};if(typeof comment==='string'){this.pk=new IPCC.Web.UI.Comment(comment);}else{this.pk=comment;}this.pk.HU=this;this.dB=this.pk.get_data();IPCC.Data.extend(this);this.Eq=new IPCC.Web.UI.Data();IPCC.SessionData.extend(this);};IPCC.Comment.prototype.getMarkupLayer=function aDr(){return this.iw;};IPCC.Comment.prototype.getText=function aFo(){return this.pk.get_text();};IPCC.Comment.prototype.setText=function aGd(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.pk.set_text(text);return this;};IPCC.Comment.prototype.getCreationTime=function aEm(){var aqF=IPCC.V.GH(this.pk.get_creationTime());return new Date(aqF);};IPCC.Comment.prototype.setCreationTime=function aFa(time){function afW(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var aeT=IPCC.V.GH(time);if(aeT instanceof Error){afW();}time=new Date(aeT);}if(!(time instanceof Date)){afW();}this.pk.set_creationTime(IPCC.V.wD(time));return this;};if(Object.defineProperties){Object.defineProperties(IPCC.Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}IPCC.Conversation=function Conversation(mark){if(!(mark instanceof IPCC.Mark)){throw new Error(mark+' is not a IPCC.Mark object.');}this.getMark=function MX(){return mark;};this.ig=new IPCC.ObservableCollection();if(typeof mark.T!=="undefined"){this.Eo=mark.T.get_conversation();this.Eo.forEach(function(pk){var cW=new IPCC.Comment(pk,this);this.ig.add(cW);},this);}else{this.Eo=new IPCC.Web.UI.Conversation();}this.dB=this.Eo.get_data();IPCC.Data.extend(this);this.Eq=new IPCC.Web.UI.Data();IPCC.SessionData.extend(this);};IPCC.Conversation.prototype.addComment=function Kl(commentText){var cW=new IPCC.Comment(commentText,this);this.ig.add(cW);this.Eo.addComment(cW.pk);return cW;};IPCC.Conversation.prototype.deleteComments=function(comments){var K=this;var abV=this.ig.toArray();var aiy=function(cW){for(var i=0,length=abV.length;i<length;i++){if(abV[i]===cW){return true;}}return false;};function ahb(cW,bk){throw new Error(cW+((bk!==undefined)?' (Array index '+bk+')':'')+' is not a IPCC.Comment object.');};function ahr(cW,bk){throw new Error(((bk!==undefined)?' (Array index '+bk+')':'')+' is not part of this Conversation object.');};if(comments instanceof IPCC.Comment){if(!aiy(comments)){ahr(comments);}K.ig.remove(comments);K.Eo.removeCommentInstance(comments.pk);}else if(comments instanceof Array){IPCC.V.forEach(comments,function(el,idx){if(!(el instanceof IPCC.Comment)){ahb(el,idx);}if(!aiy(el)){ahr(el,idx);}});IPCC.V.forEach(comments,function(el){K.ig.remove(el);K.Eo.removeCommentInstance(el.pk);});}else{ahb(comments);}return this;};IPCC.Conversation.prototype.getComments=function(){return this.ig.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};IPCC.Conversation.pS=function(hG,oV){if(typeof hG.getComments!=="function"||typeof oV.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}IPCC.Data.mO(hG,oV);var hy=hG.getComments(),i,length=hy.length;for(i=0;i<length;i++){var adM=hy[i];var ard=oV.addComment(adM.getText());IPCC.Data.mO(adM,ard);}};})(IPCC||{});(function(IPCC){IPCC.ImageStamps=function(Options){this.bH=IPCC.Gz.wc({},Options);};IPCC.ImageStamps.prototype.requestImageStampList=function(){var ah=IPCC.Deferred();var cT=ah.getPromise();try{var bg=this.bH.imageHandlerUrl+'/ImageStampList';IPCC.Ajax.fB({method:'GET',url:bg}).then(function ee(aD){var ru;if(aD.responseText.length>0){ru=JSON.parse(aD.responseText);if(aD.status===200){ah.resolve(ru);}else{ah.reject(new IPCC.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function fl(aV){ah.reject(aV.error);});}catch(e){ah.reject(new IPCC.Error("Error",e.message));}return cT;};IPCC.ImageStamps.prototype.reqestImageSourceBase64=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var ah=IPCC.Deferred();var cT=ah.getPromise();try{var bg=this.bH.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Base64';IPCC.Ajax.fB({method:'GET',url:bg,}).then(function ee(aD){var ru;if(aD.responseText.length>0){ru=JSON.parse(aD.responseText);if(aD.status===200){ah.resolve(ru);}else{ah.reject(new IPCC.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function fl(aV){ah.reject(aV.error);});}catch(e){ah.reject(new IPCC.Error("Error",e.message));}return cT;};IPCC.ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bH.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};})(IPCC||{});(function(IPCC){IPCC.DocumentHyperlink=function DocumentHyperlink(parameters){this.zl=parameters.zl;this.aY=parameters.aY;};IPCC.DocumentHyperlink.prototype.getHref=function(){return this.zl.ahi();};IPCC.DocumentHyperlink.prototype.getPageNumber=function(){return this.aY;};IPCC.DocumentHyperlink.prototype.getRectangle=function(){return this.zl.di();};if(Object.defineProperties){Object.defineProperties(IPCC.DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}IPCC.ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aY;var ah=IPCC.Deferred();var cT=ah.getPromise();var ae=this;try{if(typeof(pageNumber)==='number'){aY=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aY=parseInt(pageNumber,10);}}if(aY<1||aY>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var XI=this.Ds[aY-1];if(!XI){XI=this.Ds[aY-1]=new IPCC.Deferred();this.rg.then(function(){var aI=ae.cY.getPage(aY-1);aI.AV();});}ah.resolve(XI.getPromise());}catch(e){ah.reject(new IPCC.Error('Error',e));}return cT;};IPCC.ViewerControl.prototype.asJ=function(aBu){var i,j,vC;for(j=0;j<this.EG.length;j++){vC=this.EG[j];if(vC){for(i=0;i<vC.length;i++){if(vC[i].zl.Om()===aBu){return vC[i];}}}}return null;};})(IPCC||{});(function(IPCC){IPCC._Search=function(){this.bf='';this.Ig={};this.dP={};this.LQ=0;this.aF=new IPCC.SearchRequest();var K=this;this.Ve=function(){var Mq=[];for(var H=0;H<K.Ig.searchTerms.length;H++){var bf=K.Ig.searchTerms[H];var nJ=IPCC.V.KX(bf.type);var JZ;switch(nJ){case 'proximity':var xk={yf:bf,dP:[],type:bf.type,highlightColor:this.YI(bf.highlightColor),distance:bf.distance,contextPadding:bf.contextPadding};for(var x=0;x<bf.terms.length;x++){var OD=bf.terms[x];JZ=this.ajZ(OD);xk.dP=xk.dP.concat(JZ);}Mq.push(xk);break;default:JZ=this.ajZ(bf);Mq=Mq.concat(JZ);break;}}return Mq;};this.ajZ=function(bf){var ep=[];var dP={};if(bf.matchingOptions.exactPhrase===false&&bf.searchTermIsRegex===false){var Ap=bf.searchTerm.split(' ');for(var bF=0;bF<Ap.length;bF++){dP={};if(Ap[bF].length<0){continue;}dP.searchText=Ap[bF];dP.yf=bf;if(bf.matchingOptions.matchWholeWord){dP.searchTerm=this.afY(this.Aa(Ap[bF]),bf.matchingOptions);}else{if(bf.matchingOptions.wildcard===true){dP.searchTerm=this.aib(this.Aa(Ap[bF]),bf.matchingOptions);}else if(bf.matchingOptions.beginsWith===true||bf.matchingOptions.endsWith===true){dP.searchTerm=this.ahX(this.Aa(Ap[bF]),bf.matchingOptions);}else{dP.searchTerm=this.ach(Ap[bF],bf.matchingOptions,false);}}dP.highlightColor=this.YI(bf.highlightColor);ep.push(dP);}}else{dP={};dP.searchText=bf.searchTerm;dP.yf=bf;if(bf.matchingOptions.matchWholeWord){dP.searchTerm=this.afY(this.Aa(bf.searchTerm),bf.matchingOptions);}else{if(bf.matchingOptions.wildcard===true){dP.searchTerm=this.aib(this.Aa(bf.searchTerm),bf.matchingOptions);}else if(bf.matchingOptions.beginsWith===true||bf.matchingOptions.endsWith===true){dP.searchTerm=this.ahX(this.Aa(bf.searchTerm),bf.matchingOptions);}else{dP.searchTerm=this.ach(bf.searchTerm,bf.matchingOptions,bf.searchTermIsRegex);}}dP.highlightColor=this.YI(bf.highlightColor);ep.push(dP);}return ep;};this.afY=function(sn,qW){var uw=new RegExp('\\b'+sn+'\\b',this.tJ(qW.matchCase));return uw;};this.ahX=function(sn,qW){if(qW.beginsWith){return new RegExp("\\b"+sn+'(\\w+)',this.tJ(qW.matchCase));}if(qW.endsWith){sn=sn.replace("*","");return new RegExp('(\\w+)'+sn+"\\b",this.tJ(qW.matchCase));}};this.Aa=function(sn){return sn.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.aib=function(tq,qW){tq=tq.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(tq==='\\*'){var cv=new Error("The search term must contain one or more non-wildcard characters.");cv.aBq=true;throw cv;}tq=tq.replace(/\\\?/g,'.');var gj=this.Mv(tq);var WG,Qq,uw,Xn;var Iu=tq.substring(0,1);for(var H=0;H<gj.length;++H){if(H>0){WG=gj.substring(H-1,H);}Iu=gj.substring(H,H+1);if(H<gj.length){Qq=gj.substring(H+1,H+2);}if(H===0){if(Iu==='*'&&Qq===" "||Iu==='*'&&Qq==="*"){gj=gj.substring(2,gj.length);}}if(H+1===gj.length){if(Iu==='*'&&WG===" "||Iu==='*'&&WG==="*"){gj=gj.substring(0,gj.length-2);}}}gj=gj.replace(/^\s+|\s+$/g,'');var aik=gj.indexOf('*');if(aik===1){gj=gj.replace(/\\\*/g,'\\S*')+'\\S*';}else if(aik===gj.length-1){gj='\\S*'+gj.replace(/\\\*/g,'\\S*');}else{if(qW.exactPhrase===false){gj=gj.replace(/\\\*/g,'.*?');}else{gj=gj.replace(/\\\*/g,'\\S*');}}uw=new RegExp(gj,this.tJ(qW.matchCase));if(gj.substring(0,1)!=='*'&&Xn!=='*'){uw=new RegExp('\\b'+gj+'\\b',this.tJ(qW.matchCase));}if(gj.substring(0,1)==='*'&&Xn!=='*'){uw=new RegExp(gj+'\\b',this.tJ(qW.matchCase));}if(gj.substring(0,1)!=='*'&&Xn==='*'){uw=new RegExp('\\b'+gj,this.tJ(qW.matchCase));}return uw;};this.Mv=function(sn){return sn.replace(/\ /g,'\\s+');};this.ach=function(Jc,matchingOptions,isRegex){var tY='';if(isRegex===true){tY=this.Mv(Jc);}else if(matchingOptions.wildcard===true){tY=Jc.replace(/[-[\]{}()+,^$|#]/g,"\\$&");tY=this.Mv(tY);}else if(matchingOptions.exactPhrase){tY=Jc.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");tY=this.Mv(tY);}else{tY=Jc.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var auZ=tY.replace(/'/g,'[\'||]').replace(/"/g,'["|"|"]');return new RegExp(auZ,this.tJ(matchingOptions.matchCase));};this.tJ=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aGf=function(tq){var uw=new RegExp('\\b'+tq+'\\b',K.tJ());return uw;};var afT=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.YI=function(cV){if(!cV){return afT[K.LQ++ %afT.length];}else{return cV;}};this.aiE=function(eb){if(typeof eb==='string'){eb={searchTerms:[{searchTerm:eb,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return eb;}IPCC.V.forEach(eb.searchTerms,function(bf){if(!bf.matchingOptions){bf.matchingOptions={};}var nJ=IPCC.V.KX(bf.type);switch(nJ){case 'proximity':IPCC.V.forEach(bf.terms,function(OD){K.ajm(OD);});break;default:K.ajm(bf);break;}});return eb;};this.ajm=function(bf){if(typeof bf.contextPadding==="undefined"){bf.contextPadding=25;}if(typeof bf.searchTermIsRegex==="undefined"){bf.searchTermIsRegex=false;}if(typeof bf.matchingOptions==="undefined"){bf.matchingOptions={};}if(!bf.matchingOptions.hasOwnProperty('matchCase')){bf.matchingOptions.matchCase=false;}if(!bf.matchingOptions.hasOwnProperty('exactPhrase')){bf.matchingOptions.exactPhrase=true;}if(!bf.matchingOptions.hasOwnProperty('matchWholeWord')){bf.matchingOptions.matchWholeWord=false;}if(!bf.matchingOptions.hasOwnProperty('beginsWith')){bf.matchingOptions.beginsWith=false;}if(!bf.matchingOptions.hasOwnProperty('endsWith')){bf.matchingOptions.endsWith=false;}if(!bf.matchingOptions.hasOwnProperty('wildcard')){bf.matchingOptions.wildcard=false;}if(typeof bf.highlightColor!=='undefined'){try{IPCC.aS.cV(bf.highlightColor,"selectText");}catch(e){bf.highlightColor=undefined;}}};this.aCf=function(){return K.dP;};this.ahY=function(e){K.aF.dz=e.message;K.aF.eY="1010";K.aF.sb=true;setTimeout(function(){K.aF.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){K.aF.trigger("SearchCompleted",{completedSearchResults:(K.tk)});},10);return K.aF;};this.tN=function(eb,ag){this.dP={};this.Ig=eb;this.bf=eb;this.LQ=0;var tN=new IPCC.alv();try{K.dP=this.Ve();return tN.Ug(ag,K.dP,eb,K.aF);}catch(e){return K.ahY(e);}};this.Xf=function(eb,ag){this.dP={};this.Ig=eb;this.bf=eb;this.LQ=0;var Xf=new IPCC.azS();try{K.dP=this.Ve();return Xf.Ug(ag,K.dP,eb,K.aF);}catch(e){return K.ahY(e);}};};IPCC._Search.prototype.AH=function(searchQuery){this.dP={};this.aF=new IPCC.SearchRequest();this.Ig=searchQuery;this.aF.eb=searchQuery;this.bf=searchQuery;this.LQ=0;return this.aF;};IPCC.SearchTask=function(searchQuery){this.aaT(searchQuery);var _search=new IPCC._Search();searchQuery=_search.aiE(searchQuery);this.aF=_search.AH(searchQuery);try{_search.dP=_search.Ve();}catch(e){if(e.aBq){throw new Error(e.message);}else{throw new Error(e.message);}}var tN=new IPCC.alv();this.search=function(text){tN.tk=[];tN.bk=0;tN.dP=_search.dP;tN.asp(text);return tN.tk;};};IPCC.SearchTask.prototype.aaT=function(searchQuery){if(typeof searchQuery==='string'){return;}var zx;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){zx=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.V.forEach(zx,function(uY,H){var nJ=uY.type?IPCC.V.trim(uY.type).toLowerCase():undefined;switch(nJ){case 'proximity':IPCC.V.forEach(uY.terms,function(axT,aL){if(!afD(axT)){throw new Error("Search term index "+aL+" under Proximity search term index "+H+" does not have a valid `searchTerm` string property.");}});break;default:if(!afD(uY)){throw new Error("Search term index "+H+" does not have a valid `searchTerm` string property.");}break;}});function afD(uY){return(typeof uY.searchTerm==='string');}};})(IPCC||{});(function(IPCC){function azo(ag,av){var aI=ag.dQ.hX(av);var fh=aI.dC();return fh.Cv();};function aBn(ag,av){var aI=ag.dQ.hX(av);var fh=aI.dC();var Ge=fh.gm();return Ge.aBC();};function arb(ya,arZ){var bX=ya.length;if(bX===0){return false;}if(bX!==arZ){return false;}for(var H=0;H<bX;H++){if(ya[H]!==true){return false;}}return true;};IPCC.alv=function(){var K=this;this.Fm=false;this.ya=[];this.tk=[];this.zy=[];this.ajT=0;this.bk=0;this.kA=false;function pZ(HF,TF){switch(HF){case 'failed':setTimeout(function(){K.aF.trigger('SearchFailed',TF);},10);break;case 'complete':K.aF.ep=K.tk;K.aF.Un=K.zy;K.aF.sb=true;setTimeout(function(){K.aF.trigger('SearchResultsAvailable',{completedSearchResults:(K.tk)});},10);break;case 'cancelled':break;}setTimeout(function(){K.aF.trigger('SearchCompleted',{completedSearchResults:(K.tk)});},10);};function auu(){K.aF.dz='Unable to communicate with server, please retry loading the document.';K.aF.eY='1011';K.aF.sb=true;pZ('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});K.kA=true;};function YA(bH,awz){var avA=IPCC.V.trim(bH.type||'').toLowerCase();var aV;switch(avA){case 'taskresult':aV=new IPCC.SearchTaskResult();break;default:aV=new IPCC.SearchResult();break;}IPCC.V.extend(aV,awz);var acl=aV.qd+aV.text.length-1;var dK=IPCC.AR.formatter.getContext({text:bH.searchText,startIndex:aV.qd,endIndex:acl,padding:aV.bf.contextPadding});aV.dK=dK.context;aV.xS=dK.startIndex;if(bH.rectangles){var acd={rectangles:bH.rectangles,startIndex:aV.qd,endIndex:acl};aV.me=IPCC.AR.formatter.getBoundingRectangle(acd);aV.cL=IPCC.AR.formatter.getLineRectangles(acd);}return aV;};function abZ(mW,xk,Hb,gi,fi){var Gp=[];var Xi= !gi;var vN=xk.distance;var zx=[];IPCC.V.forEach(xk.dP,function(dP){zx.push(dP.searchTerm);});var ayS=IPCC.AR.proximity.getResults(Hb,zx,vN);IPCC.V.forEach(ayS,function(aV){var gA=YA({type:Xi?'TaskResult':'Result',searchText:Hb,rectangles:gi},{fi:fi,bf:xk.yf,mW:mW,ql:xk.highlightColor,qd:aV.startIndex,an:aV.text});Gp.push(gA);});return Gp;};function PO(mW,dP,Hb,gi,fi){var Xi= !gi;var Gp=[];var NR=[dP.searchTerm];var ep=IPCC.AR.regex.getResults(Hb,NR);IPCC.V.forEach(ep,function(aV){var gA=YA({type:Xi?'TaskResult':'Result',searchText:Hb,rectangles:gi},{fi:fi,mW:mW,dP:dP,bf:dP.yf,qd:aV.startIndex,an:aV.text,ql:dP.highlightColor});Gp.push(gA);});return Gp;};function ari(ake,av,ag,gi){var TM=[];var mW=Date.now();IPCC.V.forEach(K.dP,function(dP,H){var ep;var nJ=IPCC.V.KX(dP.type);var aI=ag.dQ.hX(av);var fi={width:aI.ks(),height:aI.jj()};switch(nJ){case 'proximity':ep=abZ(mW,dP,ake,gi,fi);break;default:ep=PO(mW,dP,ake,gi,fi);break;}IPCC.V.forEach(ep,function(aV){aV.dw=K.bk;aV.aY=av+1;aV.NL=ag.get_documentIdentifier();K.tk[K.bk]=aV;K.bk++;TM.push(aV);});});K.aF.ep=K.tk;if(TM.length){setTimeout(function(){K.aF.trigger('PartialSearchResultsAvailable',{partialSearchResults:(TM),pagesWithoutText:(K.zy)});},10);}};function apR(an){var mW=Date.now();IPCC.V.forEach(K.dP,function(dP,H){var nJ=IPCC.V.KX(dP.type);var ep;switch(nJ){case 'proximity':ep=abZ(mW,dP,an);break;default:ep=PO(mW,dP,an);break;}IPCC.V.forEach(ep,function(aV){aV.dw=K.bk;K.tk[K.bk]=aV;K.bk++;});});K.aF.ep=K.tk;};function ajR(yI,ag){for(var H=0;H<yI.length;H++){if(K.ya[yI[H]]===false){K.ya[yI[H]]=true;var an=azo(ag,yI[H]);var gi=aBn(ag,yI[H]);if(!an&&an!==null){K.zy[K.ajT]=yI[H];K.ajT++;continue;}ari(an,yI[H],ag,gi);if(K.aF.qA){if(K.Fm){pZ('cancelled');K.Fm=false;ag.remove_textPagesReceived(NA);return;}break;}}}if(arb(K.ya,ag.fM)&& !K.aF.sb){pZ('complete');K.Fm=false;ag.remove_textPagesReceived(NA);}};function NA(sender,L){if(L.error=== -1){auu();return K.aF;}try{if(K.kA===false){ajR(L.textPagesReceived,sender);}}catch(e){K.aF.dz=e.message;K.aF.eY='1010';K.aF.sb=true;pZ('failed',{errorMessage:(e.message)});K.kA=true;return K.aF;}};this.Ug=function(ag,dP,eb,aF){K.dP=dP;K.aF=aF;K.aF.eb=eb;K.aF.on('SearchCancelled',function(){pZ('cancelled');K.Fm=false;ag.remove_textPagesReceived(NA);});for(var H=0;H<ag.fM;H++){K.ya[H]=false;}if(ag.afO().dV()>ag.get_numberOfPagesWithText()){K.Fm=true;ag.add_textPagesReceived(NA);}if(ag.get_numberOfPagesWithText()>0){ajR(ag.get_pagesWithText(),ag);}return K.aF;};this.asp=function(an){this.aF=new IPCC.SearchRequest();try{apR(an);}catch(e){K.aF.dz=e.message;K.aF.eY='1010';return;}};};}(IPCC||{}));(function(IPCC){function aAF(eb){var zx=eb.map(function(bf,ZP){if(bf.type==='proximity'){return{type:'proximity',distance:bf.distance,subTerms:bf.dP.map(function(aaK){return{pattern:aaK.searchTerm.source,caseSensitive:aaK.yf.matchingOptions.matchCase};}),termId:ZP.toString(),contextPadding:bf.contextPadding};}return{type:'simple',pattern:bf.searchTerm.source,caseSensitive:bf.yf.matchingOptions.matchCase,termId:ZP.toString(),contextPadding:bf.contextPadding};});return{input:{searchTerms:zx}};};IPCC.azS=function(){var K=this;var AH,El,aku;var Nf=[];this.zp=false;this.zY={};this.zy=[];function azK(){var Ru=El?'&continueToken='+El:'';return K.ag.qT+'/v2/searchTasks/'+AH.processId+'/results?limit=100'+Ru;};function aux(ep){var NR=K.zY.input.searchTerms.reduce(function(pF,uY){pF[uY.termId]=K.dP[uY.termId];return pF;},{});return ep.map(function(aV){var gA=new IPCC.SearchResult();gA.me=aV.boundingRectangle;gA.dK=aV.context;gA.xS=aV.startIndexInContext;gA.mW=aV.id;gA.dP=K.dP;gA.cL=aV.lineRectangles;gA.fi=aV.pageData;gA.qd=aV.startIndex;gA.an=aV.text;gA.aY=aV.pageIndex+1;gA.dw=aV.id;gA.NL=K.ag.get_documentIdentifier();gA.bf=NR[aV.searchTerm.termId].yf;gA.ql=NR[aV.searchTerm.termId].highlightColor;return gA;});};function pZ(HF,TF){switch(HF){case 'failed':setTimeout(function(){K.aF.trigger(IPCC.EventType.SearchFailed,TF);},10);break;case 'complete':K.aF.Un=K.zy;K.aF.sb=true;setTimeout(function(){K.aF.trigger(IPCC.EventType.SearchResultsAvailable,{completedSearchResults:(K.aF.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){K.aF.trigger(IPCC.EventType.SearchCompleted,{completedSearchResults:(K.aF.getResults())});},10);};function arR(mE){var bg=K.ag.qT+'/v2/viewingSessions/'+encodeURIComponent(K.ag.get_documentIdentifier())+'/searchTasks';function ee(aD){var aV=JSON.parse(aD.responseText);AH=aV;if(Nf.length){Nf.forEach(function(vX){vX();});}Nf=[];mE();};function fl(aT){K.aF.off('SearchCancelled',K.ZX);K.aF.dz='The request to create a search task failed.';var ayQ=aT&&aT.response&&aT.response.status===501;var ayp=aT&&aT.response&&aT.response.status===480&&(function(arF){try{return JSON.parse(arF).errorCode==='FeatureDisabled';}catch(e){return false;}}(aT.response.responseText));if(ayQ||ayp){K.aF.eY='ServerSearchUnavailable';K.aF.dz='Server-side search is not available.';pZ('failed',{errorMessage:K.aF.dz});return;}pZ('failed',{errorMessage:K.aF.dz});};IPCC.Ajax.fB({url:bg,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(K.zY)}).then(ee,fl);};function PO(mE){var bg=azK();var hg={};if(AH.affinityToken){hg['Accusoft-Affinity-Token']=AH.affinityToken;}if(!K.zp){return;}function ee(aD){if(!K.zp){return;}var aV=JSON.parse(aD.responseText);var SA=aux(aV.results);K.zy=aV.pagesWithoutText;K.aF.ep.push.apply(K.aF.ep,SA);if(SA.length){setTimeout(function(){IPCC.V.forEach(SA.reduce(function(pF,aV){var cZ=aV.aY;if(!pF[cZ]){pF[cZ]=[];}pF[cZ].push(aV);return pF;},{}),function(ep,cZ){K.aF.trigger('PartialSearchResultsAvailable',{partialSearchResults:ep,pagesWithoutText:K.zy});});},10);}if(aV.continueToken){El=aV.continueToken;aku=aV.continueAfter;mE();}else if(K.zp){pZ('complete');}};function fl(aV){if(!K.zp){return;}K.zp=false;K.aF.dz='The request to poll the search task failed.';K.aF.sb=true;pZ('failed',{errorMessage:K.aF.dz});};IPCC.Ajax.fB({method:'GET',url:bg,headers:hg}).then(ee,fl);};function aym(){(function axf(){setTimeout(function(){PO(axf);},aku||0);}());};function ZX(){pZ('cancelled');K.zp=false;function aan(){};if(!AH){Nf.push(aan);return;}aan();};this.Ug=function(ag,dP,eb,aF){K.ag=ag;K.dP=dP;K.aF=aF;K.aF.eb=eb;K.zY=aAF(K.dP);K.zp=true;K.aF.on('SearchCancelled',ZX);arR(function(){aym();});return K.aF;};};})(IPCC||{});var IPCC=window.IPCC||{};IPCC.SearchRequest=function(tA){this.jU={};this.eb={};this.ep=[];this.sb=false;this.eY=null;this.dz=null;this.Un=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !tA,enumerable:true,get:function(){return this.eb;}},"results":{configurable: ! !tA,enumerable:true,get:function(){return this.ep;}},"isComplete":{configurable: ! !tA,enumerable:true,get:function(){return this.sb;}},"errorCode":{configurable: ! !tA,enumerable:true,get:function(){return this.eY;}},"errorMessage":{configurable: ! !tA,enumerable:true,get:function(){return this.dz;}}});}IPCC.EventEmitter.extend(this);};IPCC.SearchRequest.prototype.getSearchQuery=function(){return this.eb;};IPCC.SearchRequest.prototype.getResults=function(){return this.ep;};IPCC.SearchRequest.prototype.getIsComplete=function(){return this.sb;};IPCC.SearchRequest.prototype.getErrorCode=function(){return this.eY;};IPCC.SearchRequest.prototype.getErrorMessage=function(){return this.dz;};IPCC.SearchRequest.prototype.getPagesWithoutText=function(){return this.Un;};IPCC.SearchRequest.prototype.cancel=function(){this.qA=true;this.trigger('SearchCancelled');};var IPCC=window.IPCC||{};IPCC.SearchResult=function(){this.dw=0;this.aY=0;this.aq=0;this.an='';this.ql='';this.qd=0;this.dK='';this.xS=0;this.bf='';this.NL='';this.me=null;};IPCC.SearchResult.prototype.getId=function(){return this.dw;};IPCC.SearchResult.prototype.getPageNumber=function(){return this.aY;};IPCC.SearchResult.prototype.getText=function(){return this.an;};IPCC.SearchResult.prototype.getHighlightColor=function(){return this.ql;};IPCC.SearchResult.prototype.getStartIndexInPage=function(){return this.qd;};IPCC.SearchResult.prototype.getContext=function(){return this.dK;};IPCC.SearchResult.prototype.getStartIndexInContext=function(){return this.xS;};IPCC.SearchResult.prototype.getSearchTerm=function(){return this.bf;};IPCC.SearchResult.prototype.getBoundingRectangle=function(){return this.me;};if(Object.defineProperties){Object.defineProperties(IPCC.SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aY;}},"id":{enumerable:true,get:function(){return this.dw;}},"text":{enumerable:true,get:function(){return this.an;}},"highlightColor":{enumerable:true,get:function(){return this.ql;}},"startIndexInPage":{enumerable:true,get:function(){return this.qd;}},"context":{enumerable:true,get:function(){return this.dK;}},"startIndexInContext":{enumerable:true,get:function(){return this.xS;}},"searchTerm":{enumerable:true,get:function(){return this.bf;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}IPCC.SearchTaskResult=function(){this.dw=0;this.aq=0;this.an='';this.ql='';this.qd=0;this.dK='';this.xS=0;this.bf='';};IPCC.SearchTaskResult.prototype.getId=function(){return this.dw;};IPCC.SearchTaskResult.prototype.getText=function(){return this.an;};IPCC.SearchTaskResult.prototype.getHighlightColor=function(){return this.ql;};IPCC.SearchTaskResult.prototype.getStartIndexInInput=function(){return this.qd;};IPCC.SearchTaskResult.prototype.getContext=function(){return this.dK;};IPCC.SearchTaskResult.prototype.getStartIndexInContext=function(){return this.xS;};IPCC.SearchTaskResult.prototype.getSearchTerm=function(){return this.bf;};if(Object.defineProperties){Object.defineProperties(IPCC.SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.dw;}},"text":{enumerable:true,get:function(){return this.an;}},"highlightColor":{enumerable:true,get:function(){return this.ql;}},"startIndexInInput":{enumerable:true,get:function(){return this.qd;}},"context":{enumerable:true,get:function(){return this.dK;}},"startIndexInContext":{enumerable:true,get:function(){return this.xS;}},"searchTerm":{enumerable:true,get:function(){return this.bf;}}});}var IPCC=window.IPCC||{};IPCC.Revision=function(){this.dw=0;this.wQ=0;this.bv='';};IPCC.Revision.prototype.getId=function(){return this.dw;};IPCC.Revision.prototype.getEndPageNumber=function(){return this.wQ;};IPCC.Revision.prototype.getType=function(){return this.bv;};if(Object.defineProperties){Object.defineProperties(IPCC.Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.wQ;}},"id":{enumerable:true,get:function(){return this.dw;}},"type":{enumerable:true,get:function(){return this.bv;}}});}IPCC.Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};var IPCC=window.IPCC||{};IPCC.aDd=function(bH){var lw=new IPCC.RevisionsRequest(true);function atp(bv){for(var Yz in IPCC.Revision.Type){if(IPCC.Revision.Type.hasOwnProperty(Yz)){if(Yz.toLowerCase()===bv.toLowerCase()){return IPCC.Revision.Type[Yz];}}}return IPCC.Revision.Type.Unknown;};function ayK(eJ,aq){var wL=[];if(eJ.changes&&eJ.changes.length){wL=eJ.changes.map(function(VP){var JA=new IPCC.Revision();JA.dw=VP.id;JA.wQ=VP.endPageIndex+1;JA.bv=atp(VP.type);return JA;});}return wL;};function azC(PA){var Ru=PA?'&continueToken='+PA:'';var aqR=bH.imageHandlerUrl+'/v2/viewingSessions/'+bH.documentID;return aqR+'/revisionData?limit=100'+Ru;};function aeW(PA){var ah=IPCC.Deferred();var bg=azC(PA);IPCC.Ajax.fB({url:bg,method:'GET'}).then(function ee(aD){var dB=JSON.parse(aD.responseText);var El=dB.continueToken;var wL=ayK(dB,lw.Dk.length);lw.Dk=lw.Dk.concat(wL);if(El){if(wL.length){lw.trigger(IPCC.EventType.PartialRevisionsAvailable,{partialRevisions:wL});}setTimeout(function(){aeW(El);},dB.continueAfter||0);}else{if(wL.length){lw.trigger(IPCC.EventType.PartialRevisionsAvailable,{partialRevisions:wL});}lw.trigger(IPCC.EventType.RevisionsAvailable,{completedRevisions:lw.getRevisions()});lw.trigger(IPCC.EventType.RevisionsRetrievalCompleted,{completedRevisions:lw.getRevisions()});}ah.resolve();},function fl(aV){var eY='RequestFailed';var dz='The request to get revisions failed.';var mX=aV.response.responseText?JSON.parse(aV.response.responseText):'';var jW=aV.response.status;if(mX&&(jW===580||(jW===480&&mX.errorCode==='DocumentNotProvidedYet'))){eY=mX.errorCode;}lw.eY=eY;lw.dz=dz;lw.trigger(IPCC.EventType.RevisionsRetrievalFailed,{errorMessage:lw.getErrorMessage()});lw.trigger(IPCC.EventType.RevisionsRetrievalCompleted,{completedRevisions:lw.getRevisions()});ah.reject(aV.error);});};this.aEB=function(){setTimeout(function(){aeW();},0);return lw;};};IPCC.RevisionsRequest=function(tA){this.Dk=[];this.eY=null;this.dz=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !tA,enumerable:true,get:function(){return this.Dk;}},"errorCode":{configurable: ! !tA,enumerable:true,get:function(){return this.eY;}},"errorMessage":{configurable: ! !tA,enumerable:true,get:function(){return this.dz;}}});}IPCC.EventEmitter.extend(this);};IPCC.RevisionsRequest.prototype.getRevisions=function(){return this.Dk;};IPCC.RevisionsRequest.prototype.getErrorCode=function(){return this.eY;};IPCC.RevisionsRequest.prototype.getErrorMessage=function(){return this.dz;};(function(IPCC){IPCC.BurnRequest=function(bH){this.oJ="";this.eN="";this.kP=0;this.pr="";this.eY="";this.pE=0;this.fQ=false;this.qx=0;this.VT="";this.qA=false;this.ah=IPCC.Deferred();this.cT=this.ah.getPromise();this.then=this.cT.then;this.bH=bH;this.eY=null;this.fz=undefined;this.rY=false;this.Jk=null;IPCC.EventEmitter.extend(this);var K=this;if(bH.sI){var sI=new IPCC.Error(bH.sI.code,bH.sI.message);delete K.bH.sI;setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnCancelled,{});K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.eY=sI.code;K.ah.reject(sI);},0);}};IPCC.BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};IPCC.BurnRequest.prototype.cancel=function(){var K=this;this.qA=true;this.eY="User Cancelled";setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnCancelled,{});K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.ah.reject(new IPCC.Error("UserCancelled","User Cancelled"));},0);return this;};IPCC.BurnRequest.prototype.getProgress=function(){return this.kP;};IPCC.BurnRequest.prototype.getWorkerID=function(){return this.oJ;};IPCC.BurnRequest.prototype.getOptions=function(){return this.bH;};IPCC.BurnRequest.prototype.getErrorCode=function(){return this.eY;};IPCC.BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.Jk;};IPCC.BurnRequest.prototype.aDu=function(im){this.VT=im;};IPCC.BurnRequest.prototype.aCM=function(fz){this.fz=fz;};IPCC.BurnRequest.prototype.aDH=function(){var K=this;this.eY="Failure to generate Markup XML";setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.ah.reject(new IPCC.Error("MarkupXMLFail",K.eY));},0);return this;};IPCC.BurnRequest.prototype.Qx=function(){function ee(aD){var eJ,aV;try{eJ=aD.responseText;if(!eJ){setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.ah.reject(new IPCC.Error("ResponseEmpty","Empty/invalid response from the server"));},0);K.rY=true;return;}else{if(typeof JSON!=='undefined'){aV=JSON.parse(eJ);}else{aV=IPCC.cP.oE(eJ);}setTimeout(function(){axw(aV);},0);}}catch(e){setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.ah.reject(new IPCC.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);K.rY=true;return;}};function fl(aV){K.fQ=false;var mi=aV.response.status+" "+aV.response.statusText;setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.ah.reject(new IPCC.Error("StatusCode","Status Code "+mi));},0);K.rY=true;return;};try{if(!this.VT){throw new Error("XMl Markup data for burn is missing");}var K=this;var akm=function(){var Vh;if(!(/^[\x00-\x7F]*$/.test(K.fz.ag.get_documentIdentifier()))){Vh=K.fz.bH.imageHandlerUrl+'/ViewingSession/e'+K.fz.bH.documentID+'/MarkupBurner/'+K.oJ;}else{Vh=K.fz.bH.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(K.fz.bH.documentID)+'/MarkupBurner/'+K.oJ;}IPCC.Ajax.fB({method:'GET',url:Vh,headers:{'Content-Type':'application/json'}}).then(ee,fl);};var axw=function(hv){if(hv){if(K.qA===true){K.fQ=false;return;}if(hv.percentComplete>=0&&K.fQ===true){if(hv.percentComplete===100&&hv.state==='complete'){if(hv.processId){K.fQ=false;K.oJ=hv.processId;K.eN=hv.state;K.pE+=1;K.qx=1000;K.kP= +(hv.percentComplete);var He;if(!(/^[\x00-\x7F]*$/.test(K.fz.ag.get_documentIdentifier()))){He=K.fz.bH.imageHandlerUrl+'/ViewingSession/e'+K.fz.bH.documentID+'/MarkupBurner/'+K.oJ+"/Document";}else{He=K.fz.bH.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(K.fz.bH.documentID)+'/MarkupBurner/'+K.oJ+"/Document";}if(K.bH.filename){He+="?ContentDispositionFilename="+K.bH.filename;}K.Jk=He;K.rY=true;var awO= +(hv.percentComplete);setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnCompleted,{});K.trigger(IPCC.BurnRequest.EventType.BurnProgress,{progress:awO});K.ah.resolve(He);},10);return;}}else{if(hv.state==='error'){K.fQ=false;K.eY=hv.errorCode;setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.ah.reject(new IPCC.Error("BurnFailError","BurnProcess failed, errorCode: "+K.eY));},0);K.fQ=false;K.rY=true;return;}if(hv.processId){var YW= +(hv.percentComplete);if(K.kP!==YW){setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnProgress,{progress:YW});},10);}if(!K.oJ){K.oJ=hv.processId;setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnWorkerCreated,{});},0);K.eN=hv.state;K.pE=1;K.fQ=true;K.qx=1000;K.kP= +(hv.percentComplete);}if(hv.percentComplete<100){if(K.pE>1){K.qx+=1000;}K.pE+=1;K.eN=hv.state;K.kP= +(hv.percentComplete);if(K.fQ===true&&K.qA===false&&K.rY===false){setTimeout(akm,K.qx);}}}}}else{if(K.rY===false){var Qz=false;if(K.fQ===false){if(hv.state==='complete'){if(!K.Jk){Qz=true;}else{K.rY=true;setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnCompleted,{});K.ah.resolve(K.Jk);},10);return;}}if(hv.state==='processing'&&hv.errorCode===null){if(hv.percentComplete>=0&&hv.percentComplete<100){if(K.pE>1){K.qx+=1000;}K.pE+=1;K.fQ=true;K.eN=hv.state;K.kP= +(hv.percentComplete);if(K.fQ===true&&K.qA===false){setTimeout(akm,K.qx);}}else{Qz=true;}}if(hv.state==='error'||Qz===true){K.fQ=false;K.eY=hv.errorCode;setTimeout(function(){K.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});K.ah.reject(new IPCC.Error("BurnFailError","BurnProcess failed, errorCode: "+hv.errorCode));},0);K.fQ=false;K.rY=true;return;}}}}}};var bg;if(!(/^[\x00-\x7F]*$/.test(K.fz.ag.get_documentIdentifier()))){bg=K.fz.bH.imageHandlerUrl+'/ViewingSession/e'+K.fz.bH.documentID+'/MarkupBurner';}else{bg=K.fz.bH.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(K.fz.bH.documentID)+'/MarkupBurner';}if(K.bH.removeFormFields){bg+='?RemoveFormFields=acroform';}IPCC.Ajax.fB({method:'POST',url:bg,headers:{'Content-Type':'application/xml'},body:K.VT}).then(ee,fl);K.fQ=true;}catch(e){this.fQ=false;var bL=this,fZ=e.message;setTimeout(function(){bL.trigger(IPCC.BurnRequest.EventType.BurnFailed,{});bL.ah.reject(new IPCC.Error("BurnFailErrorCode","The burn process failed, error: "+fZ));},0);this.rY=true;}};if(Object.defineProperties){Object.defineProperties(IPCC.BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}})(IPCC||{});(function(IPCC){var YR=function(){},jW={ajj:0,awt:1,awo:2};IPCC.ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.V.wq(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof IPCC.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid IPCC.ViewerControl object');}var K=this;this.jW=jW.ajj;this.bH=viewerControl.bH;this._debug= ! !this.bH.debug;this.aES="Single";this.Ir=[];this.qi={};if(!this.ae){this.ae=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}IPCC.EventEmitter.extend(this);this.bi=domElement;if(viewerControl.ta){K.jW=jW.awo;K.Xb(viewerControl.getPageCount());K.RM(K.bi);}else{K.jW=jW.awt;K.Xb(1,0);viewerControl.on('PageCountReady',function(){K.Xb(viewerControl.getPageCount(),1);K.RM(K.bi);});}viewerControl.on('PageRotated',function(aT){IPCC.V.forEach(K.qi,function(by){if(by.av===(aT.pageNumber-1)){if(by.wG===true){K.SD(by);}}});});viewerControl.on('DocumentRotated',function(aT){IPCC.V.forEach(K.qi,function(by){if(by.wG===true){K.SD(by);}});});};IPCC.ThumbnailControl.prototype.getViewerControl=function(){return this.ae;};IPCC.ThumbnailControl.prototype.Xb=function(fM,hC){hC=hC||0;var K=this,IF=document.createDocumentFragment();for(var i=hC;i<fM;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var eg=document.createElement('div');eg.className='pccThumbnail';var pB=document.createElement('div');pB.className='pccThumbnailView';pB.id='pcc-thumbnailPage-'+i+'-'+IPCC.FD();eg.appendChild(pB);_parent.appendChild(eg);IF.appendChild(_parent);K.qi[i]={UZ:_parent,aP:eg,pB:pB,av:i,bu:{},wG:false,ip:0,iO:0,ei:0};}IPCC.V.forEach(K.qi,function(by){var Wg=document.createElement('div'),us=document.createElement('span'),aCl=document.createTextNode(by.av+1);Wg.className='pccThumbnailLabel';us.appendChild(aCl);Wg.appendChild(us);by.aP.appendChild(Wg);by.aP.onclick=function(){K.aaO([by.av+1]);};});K.bi.appendChild(IF);this.WQ();return this;};IPCC.ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};IPCC.ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.jW){return[];}return[].concat(this.Ir);};IPCC.ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.jW){return this;}var fM=this.ae.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.V.forEach(pageNumbers,function(hk,H){if(isNaN(hk)){throw new Error(hk+' (array index '+H+') is not a number');}if(hk<1||hk>fM){throw new Error(hk+' (array index '+H+') is out of range');}});this.aaO([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(IPCC.ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}IPCC.ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var hk=Number(pageNumber);if(hk!==(hk|0)||hk<1||hk>this.ae.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var hO=false,K=this,bH=options||{};IPCC.V.forEach(this.qi,function(by){if(hO){return;}if(by.av+1===hk){hO=true;K.Xm(by,undefined,! !bH.forceAlignTop);}});return this;};IPCC.ThumbnailControl.prototype.Xm=function(by,kg,aon){kg=kg||IPCC.V.ZD(this.bi.getBoundingClientRect());var tE=IPCC.V.ZD(by.UZ.getBoundingClientRect());if(tE.top>kg.top&&tE.bottom<kg.bottom){return;}var akF=window.getComputedStyle?getComputedStyle(by.UZ):by.UZ.currentStyle,gS;if(tE.top<kg.top||aon){gS=tE.top-kg.top+this.bi.scrollTop-parseInt(akF.marginTop,10);}else if(tE.bottom>kg.bottom){gS=tE.bottom-kg.top-kg.height+this.bi.scrollTop+parseInt(akF.marginBottom,10);}if(gS!==undefined){this.bi.scrollTop=gS;}return this;};IPCC.ThumbnailControl.prototype.aaO=function(jF){if(IPCC.V.arQ(this.Ir,jF)){return this;}var Us='pcc-thumbnail-selected',Io=new RegExp(Us),XO=false,akY=[].concat(jF),YM=akY.shift(),aee=false,kg=IPCC.V.ZD(this.bi.getBoundingClientRect()),K=this;IPCC.V.forEach(this.qi,function(by){if(by.av===YM-1){IPCC.V.abu(by.aP,Us);XO=true;YM=akY.shift()||0;if(!aee){aee=true;K.Xm(by,kg);}return;}if(Io.test(by.aP.className)){IPCC.V.amy(by.aP,Us);XO=true;}});this.Ir=jF;if(XO){this.trigger(IPCC.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Ir)});}return this;};IPCC.ThumbnailControl.prototype.anH=function(){var cd=this.Qm(),K=this,xQ;IPCC.V.forEach(cd,function(by){if(!xQ&&IPCC.V.inArray(K.Ir,by.av+1)){xQ=by;}});if(!xQ){xQ=cd[0];}return xQ;};IPCC.ThumbnailControl.prototype.reflow=function(){if(!this.jW){return this;}var Bx,BK,aR,al,Ns,OH,ei,xQ=this.anH();IPCC.V.forEach(this.qi,function(by){if(by.wG){by.aP.style.height=by.pB.style.height='';by.aP.style.width=by.pB.style.width='';}});IPCC.V.forEach(this.qi,function(by){if(by.wG&&by.bu.eZ()){Bx=by.aP.offsetWidth;BK=by.aP.offsetHeight;ei=by.bu.anf();if(Math.abs(ei)===90||Math.abs(ei)===270){al=by.bu.ks();aR=by.bu.jj();}else{aR=by.bu.ks();al=by.bu.jj();}Ns=aR/al;OH=Bx/BK;var ip,iO;if(Ns<OH){iO=BK;ip=Math.floor(iO*aR/al);}else{ip=Bx;iO=Math.floor(ip*al/aR);}by.ip=ip;by.iO=iO;}});IPCC.V.forEach(this.qi,function(by){if(by.wG&&by.bu&&by.bu.eZ()){by.pB.style.height=by.iO+'px';by.pB.style.width=by.ip+'px';by.bu.SG(IPCC.Web.UI.FitType.FullImage);by.bu.dk();}});if(xQ){this.Xm(xQ);}this.WQ();return this;};IPCC.ThumbnailControl.prototype.destroy=function(){if(!this.jW){return this;}this.jW=jW.ajj;IPCC.V.forEach(this.qi,function(by){if(by.bu&&by.bu.dispose){by.bu.dispose();}});while(this.bi.firstChild){this.bi.removeChild(this.bi.firstChild);}this.on=this.off=this.trigger=YR;this.jU={};};IPCC.ThumbnailControl.prototype.getVisiblePages=function(){if(!this.jW){return[];}var cd=this.Qm();return IPCC.V.map(cd,function(by){return by.av+1;});};IPCC.ThumbnailControl.prototype.Qm=function Qm(){var aya=this.bi.getBoundingClientRect(),tE;function WK(kg,OT){return(!(OT.top>=kg.bottom||OT.left>=kg.right||OT.bottom<=kg.top||OT.right<=kg.left));};return IPCC.V.filter(this.qi,function(by){tE=by.aP.getBoundingClientRect();return WK(aya,tE);});};IPCC.ThumbnailControl.prototype.WQ=function(){var K=this,cd=K.Qm();IPCC.V.forEach(cd,function(by){if(!by.wG){by.bu=K.hX(by);by.wG=true;}});return this;};IPCC.ThumbnailControl.prototype.RM=function RM(aP){var Pk={},K=this;function avk(aN,vX,sz){if(Pk[aN]){clearTimeout(Pk[aN]);Pk[aN]=undefined;}Pk[aN]=setTimeout(vX,sz||0);};IPCC.Web.UI.ar.addHandler(aP,'scroll',function(ev){avk('scroll',function(){K.WQ();},300);});};IPCC.ThumbnailControl.prototype.hX=function(by,mE){var K=this;mE=mE||YR;var bQ={documentIdentifier:K.bH.documentID,pageNumber:by.av,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:K.bH.imageHandlerUrl,encryption:K.bH.encryption,handleTouchEvents:false};var bu=IPCC.initializePageViewPlugin(by.pB,bQ);bu.set_mouseTool(IPCC.Web.UI.MouseTool.None);var vi=false;function Is(){mE();};bu.add_pageOpened(function(){K.SD(by);});bu.add_pageDisplayed(function(){if(!vi){Is();}});bu.add_textPageReady(function(){if(vi){bu.dk();Is();}});bu.add_pageOpenFailed(function(){});bu.add_textExtractionFailed(function(){});bQ.artPage=K.ae.bI.gB(K.ae.cY.getPage(by.av));bQ.artPage.CQ(function(G){if(G.get_type()===608){vi=true;}});bu.axE(bQ);bu.set_mouseTool(IPCC.Web.UI.MouseTool.None);return bu;};IPCC.ThumbnailControl.prototype.SD=function(by){var K=this;var By=K.ae.bI.Yk(by.av);var ei=by.ei;var acN=ei;if(By!==by.ei){acN=By-ei;}var bu=by.bu,jx=by.pB,al,aR;if(!by.wG|| !bu.eZ()){return;}jx.style.height='';jx.style.width='';if(Math.abs(By)===90||Math.abs(By)===270){al=bu.ks();aR=bu.jj();}else{al=bu.jj();aR=bu.ks();}var Bx=jx.offsetWidth,BK=jx.offsetHeight;if(by.ei!==By){bu.rotate(acN);by.ei=By;}var Ns=aR/al,OH=Bx/BK;var ip,iO;if(Ns<OH){iO=BK;ip=Math.floor(iO*aR/al);}else{ip=Bx;iO=Math.floor(ip*al/aR);}jx.style.height=iO+'px';jx.style.width=ip+'px';};});(function(IPCC){IPCC.ConversionRequest=function(bH){this.oJ="";this.eN="";this.kP=0;this.eY="";this.fQ=false;this.qA=false;this.bH=bH;this.zw=null;this.CW=null;this.fz=undefined;this.ah=IPCC.Deferred();this.cT=this.ah.getPromise();this.then=this.cT.then;IPCC.EventEmitter.extend(this);};IPCC.ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};IPCC.ConversionRequest.prototype.cancel=function(){var K=this;this.qA=true;this.eY="User Cancelled";setTimeout(function(){K.trigger(IPCC.ConversionRequest.EventType.ConversionCancelled,{});K.trigger(IPCC.ConversionRequest.EventType.ConversionFailed,{});K.ah.reject(new IPCC.Error("UserCancelled","User Cancelled"));},0);return this;};IPCC.ConversionRequest.prototype.getProgress=function(){return this.kP;};IPCC.ConversionRequest.prototype.getWorkerID=function(){return this.oJ;};IPCC.ConversionRequest.prototype.getOptions=function(){return this.bH;};IPCC.ConversionRequest.prototype.getErrorCode=function(){return this.eY;};IPCC.ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.zw;};IPCC.ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.CW){return this.CW.slice();}return null;};IPCC.ConversionRequest.prototype.aCM=function(fz){this.fz=fz;};IPCC.ConversionRequest.prototype.Qx=function(){var K=this;K.fQ=true;K.aCI().then(function onResolve(pw){K.oJ=pw.processId;K.kP=pw.percentComplete;K.eN=pw.state;K.trigger(IPCC.ConversionRequest.EventType.ConversionWorkerCreated,{});K.awS(pw).then(function onResolve(asf){K.fQ=false;K.CW=[];if(K.bH.zq>1){for(var H=0;H<K.avU;H++){var zw=K.fz.bH.imageHandlerUrl+'/v2/viewingSessions/'+K.fz.bH.documentID+'/contentConverters/'+K.oJ+'/results/'+H+'/file?ContentDispositionFilename='+encodeURIComponent(K.bH.filename);K.CW.push(zw);}K.ah.resolve(K.CW);}else{K.zw=K.fz.bH.imageHandlerUrl+'/WorkFile/'+asf+"?ContentDispositionFilename="+encodeURIComponent(K.bH.filename);if(pw.affinityToken){K.zw+="&affinityToken="+encodeURIComponent(pw.affinityToken);}K.CW.push(K.zw);K.ah.resolve(K.zw);}K.trigger(IPCC.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){K.fQ=false;K.eY=reason.error.code;K.ah.reject(reason);K.trigger(IPCC.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){K.fQ=false;K.ah.reject(reason);K.trigger(IPCC.ConversionRequest.EventType.ConversionFailed,{});});};IPCC.ConversionRequest.prototype.aCI=function(){var bg,lv=IPCC.Deferred();var UN;if(this.bH.zq>1){bg=this.fz.bH.imageHandlerUrl+'/v2/viewingSessions/'+this.fz.bH.documentID+'/contentConverters/';UN={url:bg,method:'POST',headers:{"Content-Type":"application/json"}};}else{bg=this.fz.bH.imageHandlerUrl+'/contentConverters/';UN={url:bg,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fz.bH.documentID})};}IPCC.Ajax.fB(UN).then(function ee(aD){var aV=JSON.parse(aD.responseText);lv.resolve(aV);},function fl(aV){lv.reject(aV.error);});return lv.getPromise();};IPCC.ConversionRequest.prototype.awS=function(pw){var bg,lv=IPCC.Deferred(),K=this,hg;if(K.bH.zq>1){bg=this.fz.bH.imageHandlerUrl+'/v2/viewingSessions/'+this.fz.bH.documentID+'/contentConverters/'+pw.processId;}else{bg=this.fz.bH.imageHandlerUrl+'/contentConverters/'+pw.processId;}if(pw.affinityToken){hg={"Accusoft-Affinity-Token":pw.affinityToken};}(function poll(){setTimeout(function(){IPCC.Ajax.fB({method:'GET',url:bg,headers:hg}).then(function ee(aD){var aV=JSON.parse(aD.responseText);K.oJ=aV.processId;K.kP=aV.percentComplete;K.eN=aV.state;if(K.bH.zq>1&&aV.output){K.avU=aV.output.results.length;}K.trigger(IPCC.ConversionRequest.EventType.ConversionProgress,{progress:K.kP});if(aV.percentComplete===100){if(aV.state==="error"){lv.reject({response:aD,error:new IPCC.Error("CouldNotConvert","Could not convert document")});}else{lv.resolve(aV.output.results[0].fileId);}}else{poll();}},function fl(aV){lv.reject(aV.error);});},3000);})();return lv.getPromise();};if(Object.defineProperties){Object.defineProperties(IPCC.ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}})(IPCC||{});(function(IPCC){IPCC.eQ={serializeMask:function(iG){var aeu={value:iG.value,translations:{}};IPCC.V.forEach(iG.translations,function(bM,bw){aeu.translations[bw]=bM.toString();});return aeu;},copyRectangle:function(C){return{x:C.x,y:C.y,width:C.width,height:C.height};},Common:function(bQ,aB){var al;var aR;if(bQ.page){al=bQ.page.get_pageHeight();aR=bQ.page.get_pageWidth();}else{al=null;aR=null;}var aY=bQ.mark.getPageNumber();var aU={__type:bQ.mark.getIgNetType(),uid:bQ.mark.getUid(),interactionMode:bQ.mark.getInteractionMode(),pageNumber:aY,type:bQ.mark.getType(),creationDateTime:IPCC.V.wD(bQ.mark.T.aiv()),modificationDateTime:IPCC.V.wD(bQ.mark.T.aia()),data:IPCC.eQ.Data(bQ.mark),conversation:IPCC.eQ.Conversation(bQ.mark.getConversation())};function zD(bJ){return{x:bJ.x,y:bJ.y};};function asj(){var FW=IPCC.V.map([].concat(bQ.mark.T,bQ.mark.ck),function(T){if(aR!==null){return{pageNumber:T.av+1,pageData:{width:aR,height:al},startIndex:T.get_startIndex(),textLength:T.get_textLength(),lines:IPCC.V.map(T.cL,function(bo){if(bo.get_rectangle){return IPCC.eQ.copyRectangle(bo.get_rectangle());}else{return IPCC.eQ.copyRectangle(bo);}})};}else{return{pageNumber:T.av+1,startIndex:T.get_startIndex(),textLength:T.get_textLength(),lines:IPCC.V.map(T.cL,function(bo){if(bo.get_rectangle){return IPCC.eQ.copyRectangle(bo.get_rectangle());}else{return IPCC.eQ.copyRectangle(bo);}})};}});aU.lineGroups=FW;};function abq(){if(bQ.mark.getRectangle){aU.rectangle=IPCC.eQ.copyRectangle(bQ.mark.getRectangle());if(aR!==null){aU.pageData={width:aR,height:al};}}if(bQ.mark.getStartPoint){aU.startPoint=zD(bQ.mark.getStartPoint());if(aR!==null){aU.pageData=aU.pageData||{width:aR,height:al};}}if(bQ.mark.getEndPoint){aU.endPoint=zD(bQ.mark.getEndPoint());if(aR!==null){aU.pageData=aU.pageData||{width:aR,height:al};}}if(bQ.mark.getPoints){var ai=bQ.mark.getPoints();aU.points=IPCC.V.map(ai,zD);if(aR!==null){aU.pageData={width:aR,height:al};}}if(bQ.mark.T.cL){asj();}};if(aR!==undefined&&al!==undefined&&aR!==0&&al!==0){abq();aB(undefined,aU);}else{bQ.vc.requestPageAttributes(aY).then(function aFT(aff){al=aff.height;aR=aff.width;abq();aB(undefined,aU);},function aFl(eL){aB(eL);});}},Data:function(aU){return IPCC.V.reduce(aU.getDataKeys(),function(fj,bw){fj[bw]=aU.getData(bw);return fj;},{});},Comment:function(cW){return{text:cW.getText(),data:IPCC.eQ.Data(cW),creationDateTime:IPCC.V.wD(cW.getCreationTime())};},Conversation:function(cj){return{comments:IPCC.V.map(cj.getComments(),function(cW){return IPCC.eQ.Comment(cW);}),data:IPCC.eQ.Data(cj)};},EllipseAnnotation:function(bQ,aB){IPCC.eQ.RectangleAnnotation(bQ,aB);},FreehandAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{color:bQ.mark.getColor(),opacity:bQ.mark.getOpacity(),path:bQ.mark.getPath(),thickness:bQ.mark.getThickness()});aB(undefined,aU);});},FreehandSignature:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{color:bQ.mark.getColor(),path:bQ.mark.getPath(),thickness:bQ.mark.getThickness(),horizontalAlignment:bQ.mark.getHorizontalAlignment()});aB(undefined,aU);});},HighlightAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}var dg=bQ.mark.getPosition();aU=IPCC.V.extend(aU,{fillColor:bQ.mark.getFillColor(),textLength:dg.length,startIndex:dg.startIndex,selectedText:bQ.mark.getText()});aB(undefined,aU);});},ImageStampAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}var ap=bQ.mark.getImage();aU=IPCC.V.extend(aU,{imageDataUrl:ap.dataUrl,imageId:ap.id});aB(undefined,aU);});},ImageStampRedaction:function(bQ,aB){IPCC.eQ.ImageStampAnnotation(bQ,aB);},LineAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{color:bQ.mark.getColor(),endHeadType:bQ.mark.getEndHeadType(),opacity:bQ.mark.getOpacity(),thickness:bQ.mark.getThickness()});aB(undefined,aU);});},PolylineAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{color:bQ.mark.getColor(),opacity:bQ.mark.getOpacity(),thickness:bQ.mark.getThickness(),lineStyle:bQ.mark.getLineStyle()});aB(undefined,aU);});},PolygonAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{lineColor:bQ.mark.getBorderColor(),thickness:bQ.mark.getThickness(),fillColor:bQ.mark.getFillColor(),fillVisible:bQ.mark.getFillVisible(),opacity:bQ.mark.getOpacity(),lineStyle:bQ.mark.getLineStyle()});aB(undefined,aU);});},RectangleAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{borderColor:bQ.mark.getBorderColor(),borderThickness:bQ.mark.getBorderThickness(),fillColor:bQ.mark.getFillColor(),fillVisible:bQ.mark.getFillVisible(),opacity:bQ.mark.getOpacity()});aB(undefined,aU);});},RectangleRedaction:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{reason:bQ.mark.getReason(),fillColor:bQ.mark.getFillColor(),borderColor:bQ.mark.getBorderColor(),borderThickness:bQ.mark.getBorderThickness(),fontColor:bQ.mark.getFontColor()});aB(undefined,aU);});},StampAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{label:bQ.mark.getLabel(),color:bQ.mark.getColor()});aB(undefined,aU);});},StampRedaction:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{label:bQ.mark.getLabel()});aB(undefined,aU);});},StrikethroughAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}var dg=bQ.mark.getPosition();aU=IPCC.V.extend(aU,{color:bQ.mark.getColor(),thickness:bQ.mark.getThickness(),textLength:dg.length,startIndex:dg.startIndex,selectedText:bQ.mark.getText()});aB(undefined,aU);});},TextAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{borderColor:bQ.mark.getBorderColor(),borderThickness:bQ.mark.getBorderThickness(),fillColor:bQ.mark.getFillColor(),fontColor:bQ.mark.getFontColor(),fontName:bQ.mark.getFontName(),fontSize:bQ.mark.getFontSize(),fontStyle:bQ.mark.getFontStyle(),maxLength:bQ.mark.getMaxLength(),horizontalAlignment:bQ.mark.getHorizontalAlignment(),opacity:bQ.mark.getOpacity(),text:bQ.mark.getText()});aB(undefined,aU);});},TextAreaSignature:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{text:bQ.mark.getText(),fontColor:bQ.mark.getFontColor(),fontName:bQ.mark.getFontName(),fontStyle:bQ.mark.getFontStyle(),maxFontSize:bQ.mark.getMaxFontSize(),maxLength:bQ.mark.getMaxLength(),horizontalAlignment:bQ.mark.getHorizontalAlignment(),});aB(undefined,aU);});},TextHyperlinkAnnotation:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}var dg=bQ.mark.getPosition();aU=IPCC.V.extend(aU,{href:bQ.mark.getHref(),fillColor:bQ.mark.getFillColor(),textLength:dg.length,startIndex:dg.startIndex,selectedText:bQ.mark.getText()});aB(undefined,aU);});},TextInputSignature:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{fontColor:bQ.mark.getFontColor(),fontName:bQ.mark.getFontName(),text:bQ.mark.getText(),mask:bQ.mark.getMask(),maxLength:bQ.mark.getMaxLength(),horizontalAlignment:bQ.mark.getHorizontalAlignment()});if(bQ.mark.getMask()){aU.mask=IPCC.eQ.serializeMask(bQ.mark.getMask());}aB(undefined,aU);});},TextRedaction:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{fontColor:bQ.mark.getFontColor(),fontName:bQ.mark.getFontName(),fontSize:bQ.mark.getFontSize(),text:bQ.mark.getText(),maxLength:bQ.mark.getMaxLength(),horizontalAlignment:bQ.mark.getHorizontalAlignment()});aB(undefined,aU);});},TextSelectionRedaction:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}var dg=bQ.mark.getPosition();aU=IPCC.V.extend(aU,{reason:bQ.mark.getReason(),textLength:dg.length,startIndex:dg.startIndex,selectedText:bQ.mark.getText()});aB(undefined,aU);});},TextSignature:function(bQ,aB){IPCC.eQ.Common(bQ,function(cv,aU){if(cv){aB(cv);return;}aU=IPCC.V.extend(aU,{color:bQ.mark.getColor(),fontName:bQ.mark.getFontName(),text:bQ.mark.getText(),horizontalAlignment:bQ.mark.getHorizontalAlignment()});aB(undefined,aU);});},TransparentRectangleRedaction:function(bQ,aB){IPCC.eQ.Common(bQ,aB);}};IPCC.ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var ah=IPCC.Deferred();var cT=ah.getPromise();var K=this,bn,aCs=false;function alo(eL){setTimeout(function(){ah.reject(eL);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bn=marks;}else if(marks){bn=[marks];aCs=true;}else{alo(new IPCC.Error('InvalidArgument','`marks` is not defined or falsy.'));return cT;}var LM;bn=IPCC.V.filter(bn,function(jZ,bk){var aiC=jZ instanceof IPCC.Mark&&jZ===K.getMarkById(jZ.getId())&& ! !IPCC.eQ[jZ.getType()];if(!aiC&& !LM){LM=bk;}return aiC;});if(LM){alo(new IPCC.Error('InvalidArgument','Cannot serialize object at index '+LM+' because it is not a valid mark or a mark known to ViewerControl'));return cT;}var TK=K.ag.get_pages();var dQ=IPCC.V.reduce(bn,function(fj,jZ){var aY=jZ.getPageNumber();if(fj[aY]){return fj;}fj[aY]=TK.getPage(aY-1);return fj;},{});function apg(G,aI,ayd){return function(mE){IPCC.eQ[G.getType()]({mark:G,page:aI,vc:K},function(cv,dB){if(!cv){ayd(dB);mE();}else{ah.reject(cv);}});};};var tf=[];var amN=IPCC.V.map(bn,function(jZ,bk){return apg(jZ,dQ[jZ.getPageNumber()],function(dB){tf[bk]=dB;});});IPCC.V.Tn(amN,function(){ah.resolve(tf);});return cT;};})(IPCC||{});(function(IPCC){IPCC.dm={setMask:function(G,iG){var HO={};IPCC.V.forEach(iG.translations,function(bM,bw){HO[bw]=new RegExp(bM.replace(/^\/|\/$/g,''));});G.setMask({value:iG.value,translations:HO});},calculateRectangle:function(aU,bH){if(aU.pageData===undefined||(aU.pageData.width===bH.aR&&aU.pageData.height===bH.al)){return aU.rectangle;}else{var mn=bH.aR/aU.pageData.width;return{x:aU.rectangle.x*mn,y:aU.rectangle.y*mn,width:aU.rectangle.width*mn,height:aU.rectangle.height*mn};}},setRectangle:function(G,aU,bH){G.setRectangle(IPCC.dm.calculateRectangle(aU,bH));},setLines:function(G,aU,bH){var acI,oA,dn=aU.textLength+aU.startIndex-1,cz=aU.selectedText,dg={startIndex:aU.startIndex,length:aU.textLength};oA=[];var av,yB;acI=IPCC.V.reduce(aU.lineGroups,function(fj,nD){av=nD.pageNumber-1;fj[av]=IPCC.V.map(nD.lines,function(gS){if(nD.pageData!==undefined){yB=IPCC.dm.calculateRectangle({rectangle:gS,pageData:nD.pageData},bH);return new IPCC.Web.UI.Rectangle(yB.x,yB.y,yB.width,yB.height);}else{return new IPCC.Web.UI.Rectangle(gS.x,gS.y,gS.width,gS.height);}});oA.push({pageIndex:av,endIndex:nD.startIndex+nD.textLength-1});return fj;},{});G.Im(oA,dn,cz,dg,acI);},postCreate:function(G,aU){G.T.aca(new Date(IPCC.V.GH(aU.creationDateTime)));G.T.YD(new Date(IPCC.V.GH(aU.modificationDateTime)));return G;},calculatePoint:function(bJ,fi,bH){if(fi===undefined||(fi.width===bH.aR&&fi.height===bH.al)){return bJ;}else{return{x:bJ.x*bH.aR/fi.width,y:bJ.y*bH.al/fi.height};}},Data:function(aU,dB){IPCC.V.forEach(dB,function(bM,bw){aU.setData(bw,bM);});},Comment:function(cj,cW){var pe=cj.addComment(cW.text);pe.setCreationTime(cW.creationDateTime);IPCC.dm.Data(pe,cW.data);},Conversation:function(G,cj){var ajx=G.getConversation();IPCC.V.forEach(cj.comments?cj.comments:[],function(pe){IPCC.dm.Comment(ajx,pe);});IPCC.dm.Data(ajx,cj.data);},Common:function(aU,bH){if(aU.uid===undefined){aU.uid=IPCC.V.agp();}var G=this.ala(aU.pageNumber,aU.type,{uid:aU.uid,igNetType:aU.__type});if(aU.rectangle&&G.setRectangle){IPCC.dm.setRectangle(G,aU,bH);}if(aU.startPoint&&G.setStartPoint){G.setStartPoint(IPCC.dm.calculatePoint(aU.startPoint,aU.pageData,bH));}if(aU.endPoint&&G.setEndPoint){G.setEndPoint(IPCC.dm.calculatePoint(aU.endPoint,aU.pageData,bH));}if(aU.points&&G.setPoints){G.setPoints(IPCC.V.map(aU.points,function(bJ){return IPCC.dm.calculatePoint(bJ,aU.pageData,bH);}));}if(aU.lineGroups&&G.Im){G.aa=aU.uid;IPCC.dm.setLines(G,aU,bH);}if(aU.interactionMode){G.setInteractionMode(aU.interactionMode);}G=this.aiW(G);IPCC.dm.Data(G,aU.data);IPCC.dm.Conversation(G,aU.conversation);return G;},EllipseAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.fillVisible!=undefined){G.setFillVisible(aU.fillVisible);}if(aU.opacity!==undefined){G.setOpacity(aU.opacity);}return IPCC.dm.postCreate(G,aU);},FreehandAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.opacity!==undefined){G.setOpacity(aU.opacity);}if(aU.path){G.setPath(aU.path);}if(aU.thickness){G.setThickness(aU.thickness);}return IPCC.dm.postCreate(G,aU);},FreehandSignature:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.path){G.setPath(aU.path);}if(aU.thickness){G.setThickness(aU.thickness);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return IPCC.dm.postCreate(G,aU);},HighlightAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.fillColor){G.setFillColor(aU.fillColor);}return IPCC.dm.postCreate(G,aU);},ImageStampAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.imageDataUrl&&aU.imageId){G.setImage({id:aU.imageId,dataUrl:aU.imageDataUrl});}return IPCC.dm.postCreate(G,aU);},ImageStampRedaction:function(aU,bH){return IPCC.dm.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.endHeadType){G.setEndHeadType(aU.endHeadType);}if(aU.opacity!==undefined){G.setOpacity(aU.opacity);}if(aU.thickness){G.setThickness(aU.thickness);}return IPCC.dm.postCreate(G,aU);},PolylineAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.opacity!==undefined){G.setOpacity(aU.opacity);}if(aU.thickness){G.setThickness(aU.thickness);}if(aU.lineStyle){G.setLineStyle(aU.lineStyle);}return IPCC.dm.postCreate(G,aU);},PolygonAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.fillVisible!=undefined){G.setFillVisible(aU.fillVisible);}if(aU.lineColor){G.setBorderColor(aU.lineColor);}if(aU.opacity!==undefined){G.setOpacity(aU.opacity);}if(aU.thickness){G.setThickness(aU.thickness);}if(aU.lineStyle){G.setLineStyle(aU.lineStyle);}return IPCC.dm.postCreate(G,aU);},RectangleAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.fillVisible!==undefined){G.setFillVisible(aU.fillVisible);}if(aU.opacity!==undefined){G.setOpacity(aU.opacity);}return IPCC.dm.postCreate(G,aU);},RectangleRedaction:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.reason){G.setReason(aU.reason);}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fontColor){G.setFontColor(aU.fontColor);}return IPCC.dm.postCreate(G,aU);},StampAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.label){G.setLabel(aU.label);}if(aU.color){G.setColor(aU.color);}return IPCC.dm.postCreate(G,aU);},StampRedaction:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.label){G.setLabel(aU.label);}return IPCC.dm.postCreate(G,aU);},StrikethroughAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.thickness){G.setThickness(aU.thickness);}return IPCC.dm.postCreate(G,aU);},TextAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.fontSize){G.setFontSize(aU.fontSize);}if(aU.fontStyle){G.setFontStyle(aU.fontStyle);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}if(aU.opacity!==undefined){G.setOpacity(aU.opacity);}if(aU.text){G.setText(aU.text);}return IPCC.dm.postCreate(G,aU);},TextAreaSignature:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.text){G.setText(aU.text);}if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.maxFontSize){G.setMaxFontSize(aU.maxFontSize);}if(aU.fontStyle){G.setFontStyle(aU.fontStyle);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return IPCC.dm.postCreate(G,aU);},TextHyperlinkAnnotation:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.href){G.setHref(aU.href);}return IPCC.dm.postCreate(G,aU);},TextInputSignature:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.text){G.setText(aU.text);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.mask){IPCC.dm.setMask(G,aU.mask);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return IPCC.dm.postCreate(G,aU);},TextRedaction:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.fontSize){G.setFontSize(aU.fontSize);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.text){G.setText(aU.text);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return IPCC.dm.postCreate(G,aU);},TextSelectionRedaction:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.reason){G.setReason(aU.reason);}return IPCC.dm.postCreate(G,aU);},TextSignature:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.text){G.setText(aU.text);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return IPCC.dm.postCreate(G,aU);},TransparentRectangleRedaction:function(aU,bH){var G=IPCC.dm.Common.apply(this,arguments);return IPCC.dm.postCreate(G,aU);}};IPCC.ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.fA===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var K=this;var fM=K.getPageCount();var fD;if(typeof values==='string'){try{fD=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fD=values;}if(fD.constructor!==Array){fD=[fD];}function Pq(eL,bk){throw new Error('Cannot serialize mark (at index '+bk+') because of '+eL);};var WM=IPCC.V.map(K.getAllMarks(),function(G){return G.getUid();});IPCC.V.forEach(fD,function validateObject(aU,bk){if(!aU.pageNumber||isNaN(+aU.pageNumber)||aU.pageNumber<1||aU.pageNumber>fM){Pq('unknown page number '+aU.pageNumber,bk);}if(!IPCC.Mark.Type[aU.type]){Pq('unknown type '+aU.type,bk);}if(IPCC.V.contains(WM,aU.uid)){Pq('uid '+aU.uid+' is being duplicated or already exists',bk);}else if(aU.uid!==undefined){WM.push(aU.uid);}});if(fD.length===0){return[];}var dQ=K.ag.get_pages();var arW=[];dQ.kT(function(aI){arW.push(K.bI.gB(aI));});var bn=IPCC.V.map(fD,function(aU){var aI=dQ.hX(aU.pageNumber-1);var JP=aI.get_pageWidth();var Vo=aI.get_pageHeight();var fi=aU.pageData;if(!fi&&(!JP|| !Vo)){var awH=IPCC.V.find(aU.lineGroups,function(akI){return(akI.pageNumber&&akI.pageNumber===aU.pageNumber);});fi=awH.pageData;}fi.width=fi.width==0?JP:fi.width;fi.height=fi.height==0?Vo:fi.height;var aR=JP||fi.width;var al=Vo||fi.height;var G=IPCC.dm[aU.type].call(K,aU,{aR:aR,al:al});if(aU.uid===undefined){WM.push(G.getUid());}if(!JP){aI.BF=true;aI.adP(aR);aI.ady(al);}return G;});return bn;};})(IPCC||{});(function(IPCC){IPCC.LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.xE=layerRecordIds;this.ae=viewerControl;this.eY="";this.fQ=false;this.qA=false;this.kP=0;this.ah=IPCC.Deferred();this.cT=this.ah.getPromise();this.then=this.cT.then;this.vg=options.loadAsHidden===true;IPCC.EventEmitter.extend(this);};IPCC.LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};IPCC.LoadMarkupLayersRequest.prototype.getProgress=function(){return this.kP;};IPCC.LoadMarkupLayersRequest.prototype.cancel=function(){var K=this;this.qA=true;this.eY="User Cancelled";setTimeout(function(){K.trigger(IPCC.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});K.trigger(IPCC.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});K.ah.reject(new IPCC.Error("UserCancelled","User Cancelled"));},0);return this;};IPCC.LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.ae;};IPCC.LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.eY;};IPCC.LoadMarkupLayersRequest.prototype.Qx=function(){var K=this,Xt=1,Wb,PR=[];var vg=this.vg;var rD=function(aeV){function ee(aD){var qf=JSON.parse(aD.responseText),Ow=K.axH(qf),ew,tf=[],bn,fV=[],afS={},OV=0,Qf;for(var lO in Ow.fV){if(Ow.fV.hasOwnProperty(lO)){fV=fV.concat(Ow.fV[lO]);}}ew=new IPCC.MarkupLayer(K.ae,fV);ew.aEe={bg:bg};IPCC.V.forEach(Ow.tf,function(afg){tf.push(afg);OV++;afS[afg.uid]=true;});if(qf.name){ew.setName(qf.name);}if(qf.originalXmlName){ew.setOriginalXmlName(qf.originalXmlName);}if(OV>0){Qf=function(ev){if(afS[ev.mark.getUid()]){OV--;}if(!OV){K.ae.off(IPCC.EventType.MarkCreated,Qf);K.ae.uN=true;}};K.ae.on(IPCC.EventType.MarkCreated,Qf);K.ae.uN=false;try{bn=K.ae.deserializeMarks(tf);}catch(cv){K.fQ=false;K.ae.off(IPCC.EventType.MarkCreated,Qf);K.ae.uN=true;K.ah.reject(new IPCC.Error('Error',cv.message));K.trigger(IPCC.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(vg){IPCC.V.forEach(bn,function(G){G.setVisible(false);});}ew.addMarks(bn);}ew.QD=aeV;for(var uO in qf.data){if(qf.data.hasOwnProperty(uO)){ew.setData(uO,qf.data[uO]);}}K.ae.getMarkupLayerCollection().addItem(ew);PR.push(ew);Xt--;K.kP=(K.xE.length-Xt)/K.xE.length;K.trigger(IPCC.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:K.kP});if(K.kP===1){K.fQ=false;K.ah.resolve(PR);K.trigger(IPCC.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:PR});}};function fl(aV){K.fQ=false;K.ah.reject(aV.error);K.trigger(IPCC.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var bg=Wb+aeV+'?'+new Date().getTime();IPCC.Ajax.fB({url:bg,method:'GET'}).then(ee,fl);};if(!(/^[\x00-\x7F]*$/.test(this.ae.ag.get_documentIdentifier()))){Wb=this.ae.bH.imageHandlerUrl+'/MarkupLayers/e'+this.ae.bH.documentID+'/';}else{Wb=this.ae.bH.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.ae.bH.documentID)+'/';}if(this.qA){return;}if(Object.prototype.toString.call(this.xE)==='[object Array]'&&this.xE.length>0){Xt=this.xE.length;this.fQ=true;IPCC.V.forEach(this.xE,rD,this);}else if(typeof this.xE==="string"){this.fQ=true;rD(this.xE);}else{this.fQ=false;this.ah.reject(new IPCC.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(IPCC.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};IPCC.LoadMarkupLayersRequest.prototype.axH=function(qf){var MV={},MU={};IPCC.V.forEach(qf.marks,function(QT){QT.conversation.comments=[];MV[QT.uid]=QT;},this);IPCC.V.forEach(qf.comments,function(wr){if(MV[wr.markUid]){MV[wr.markUid].conversation.comments.push(wr);}else if(MU[wr.markUid]){MU[wr.markUid].push(wr);}else{MU[wr.markUid]=[wr];}},this);return{tf:MV,fV:MU};};if(Object.defineProperties){Object.defineProperties(IPCC.LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}})(IPCC||{});(function(IPCC){IPCC.MarkupLayer=function(viewerControl,markReferences){var K=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dw=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.ae=viewerControl;this.aN=undefined;this.QD=undefined;this.alE=undefined;this.bn=[];this.fV={};this.pl=IPCC.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.V.forEach(markReferences,function(rm){var Nn=rm.markUid;rm.markupLayer=K;if(K.fV[Nn]){K.fV[Nn]=K.fV[Nn].concat(rm);}else{K.fV[Nn]=[rm];}});}var oZ={};IPCC.EventEmitter.extend(oZ);oZ.Pa=function(DS,bP){var K=this;return setTimeout(function(){K.trigger(DS,bP);},0);};IPCC.EventEmitter.extend(this);this.dB=new IPCC.Web.UI.Data();IPCC.Data.extend(this);this.Eq=new IPCC.Web.UI.Data();IPCC.SessionData.extend(this);setTimeout(function(){K.trigger(IPCC.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};IPCC.MarkupLayer.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};IPCC.MarkupLayer.prototype.getViewerControl=function(){return this.ae;};IPCC.MarkupLayer.prototype.addMarks=function(marks){var K=this,aAE=function(cW){cW.iw=K;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var H=0;H<marks.length;H++){if(!(marks[H]instanceof IPCC.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `IPCC.Mark`');}if(this.hasMark(marks[H].getId())){marks.splice(H,1);continue;}IPCC.V.forEach(marks[H].getConversation().getComments(),aAE);}if(marks.length){this.bn=this.bn.concat(marks);this.trigger(IPCC.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};IPCC.MarkupLayer.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var H=0;H<this.bn.length;H++){for(var bF=0;bF<marks.length;bF++){if(this.bn[H].getUid()===marks[bF].getUid()){this.bn.splice(H,1);this.trigger(IPCC.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[bF]]});break;}}}};IPCC.MarkupLayer.prototype.getMarks=function(){var afc=[];IPCC.V.forEach(this.bn,function(G){afc.push(G);});return afc;};IPCC.MarkupLayer.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var H=0,acg=false,G;for(H;H<this.bn.length;H++){G=this.bn[H];if(G.getId()===markId){acg=true;break;}}return acg;};IPCC.MarkupLayer.prototype.getMarkReferences=function(){var fV=[];for(var lO in this.fV){if(this.fV.hasOwnProperty(lO)){fV=fV.concat(this.fV[lO]);}}return fV;};IPCC.MarkupLayer.prototype.hide=function(){var ae=this.ae;ae.hideMarks(this.getMarks());this.trigger(IPCC.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};IPCC.MarkupLayer.prototype.show=function(){var ae=this.ae;ae.showMarks(this.getMarks());this.trigger(IPCC.MarkupLayer.EventType.MarkupLayerShown,{});return this;};IPCC.MarkupLayer.prototype.copyLayers=function(markupLayers){var ae=this.ae,K=this;if(markupLayers instanceof IPCC.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new IPCC.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bn=[];IPCC.V.forEach(markupLayers,function(iw){ae.getMarkupLayerCollection().getItem(iw.getId());bn=bn.concat(iw.getMarks());});var copiedMarks=ae.copyMarks(bn);this.addMarks(copiedMarks);IPCC.V.forEach(this.bn,function(G){IPCC.V.forEach(G.getConversation().getComments(),function(cW){cW.iw=K;});});return this;};IPCC.MarkupLayer.prototype.getId=function(){return this.dw;};IPCC.MarkupLayer.prototype.getName=function(){return this.aN;};IPCC.MarkupLayer.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.aN=name;return this;};IPCC.MarkupLayer.prototype.getRecordId=function(){return this.QD;};IPCC.MarkupLayer.prototype.destroy=function(){this.ae.getMarkupLayerCollection().removeItem(this.dw);this.trigger(IPCC.MarkupLayer.EventType.MarkupLayerDestroyed,{});};IPCC.MarkupLayer.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.pl=interactionMode;IPCC.V.forEach(this.bn,function(G){G.setInteractionMode(interactionMode);});this.trigger(IPCC.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};IPCC.MarkupLayer.prototype.getOriginalXmlName=function(){return this.alE;};IPCC.MarkupLayer.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.alE=name;return this;};if(Object.defineProperties){Object.defineProperties(IPCC.MarkupLayer.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}})(IPCC||{});(function(IPCC){IPCC.MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.ae=viewerControl;this.si={};this.bn={};this.iW={};this.pW=0;IPCC.EventEmitter.extend(this);};IPCC.MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};IPCC.MarkupLayerCollection.prototype.getViewerControl=function(){return this.ae;};IPCC.MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.V.forEach(this.si,iterator,thisArg);return this;};IPCC.MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.si[layerId];};IPCC.MarkupLayerCollection.prototype.getCount=function(){return this.pW;};IPCC.MarkupLayerCollection.prototype.getAll=function(){var adW=[],WW;for(WW in this.si){if(this.si.hasOwnProperty(WW)){adW.push(this.si[WW]);}}return adW;};IPCC.MarkupLayerCollection.prototype.addItem=function(layer){var K=this,fV,XZ=layer.fV,Kl=function(G,rm){var cW=G.getConversation().addComment(rm.text);cW.creationTime=new Date(rm.creationDateTime);cW.iw=rm.markupLayer;for(var uO in rm.data){if(rm.data.hasOwnProperty(uO)){cW.setData(uO,rm.data[uO]);}}},ayv=function(aDD){Kl(K.bn[wm],aDD);},aea=function(G){var lO=G.getUid();K.bn[G.getUid()]=G;if(K.iW[lO]){IPCC.V.forEach(K.iW[lO],function(nZ){Kl(G,nZ);});delete K.iW[lO];}};if(!(layer instanceof IPCC.MarkupLayer)){throw new Error('`layer` param is not an instance of IPCC.MarkupLayer.');}this.si[layer.getId()]=layer;for(var wm in XZ){if(XZ.hasOwnProperty(wm)){fV=XZ[wm];if(K.bn[wm]){IPCC.V.forEach(fV,ayv);}else if(K.iW[wm]){K.iW[wm]=K.iW[wm].concat(fV);}else{K.iW[wm]=fV;}}}IPCC.V.forEach(layer.getMarks(),function(G){aea(G);});this.pW++;this.trigger(IPCC.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(IPCC.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.V.forEach(ev.marks,function(G){aea(G);});});layer.on(IPCC.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var ayL=ev.aZ;IPCC.V.forEach(ev.marks,function(G){var lO=G.getUid();IPCC.V.forEach(K.bn[lO].getConversation().getComments(),function(Gf){if(ayL.id!==Gf.iw.id){var nZ={creationDateTime:IPCC.V.wD(Gf.creationTime),data:Gf.dB.vt(),markUid:G.getUid(),markupLayer:Gf.iw,text:Gf.text};if(K.iW[lO]){K.iW[lO]=K.iW[lO].concat([nZ]);}else{K.iW[lO]=[nZ];}}});K.tZ(G);});});return this;};IPCC.MarkupLayerCollection.prototype.tZ=function(G){var MB;IPCC.V.forEach(this.si,function(ew){var aeb=ew.hasMark(G.getId());MB=(typeof MB!=='undefined')? +aeb^MB: +aeb;});if(MB===0){delete this.bn[G.getUid()];}};IPCC.MarkupLayerCollection.prototype.removeItem=function(layerId){var ew=this.si[layerId],K=this,avI=function(nZ,bV){if(nZ.markupLayer.getId()===layerId){K.iW[dw].splice(bV);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.V.forEach(this.bn,function(G){var hy=G.getConversation().getComments();var Jf=ew.hasMark(G.getId());IPCC.V.forEach(hy,function(cW){if(Jf&&cW.iw.getId()!==layerId){var acb={"markUid":G.getUid(),"markupLayer":cW.iw,"text":cW.getText(),"data":cW.dB.dB,"creationDateTime":IPCC.V.wD(cW.getCreationTime())};if(K.iW[G.getUid()]){K.iW[G.getUid()].push(acb);}else{K.iW[G.getUid()]=[acb];}G.getConversation().deleteComments(cW);}else if(Jf&&cW.iw.getId()===layerId){G.getConversation().deleteComments(cW);}else if(!Jf&&cW.iw.getId()===layerId){G.getConversation().deleteComments(cW);}});if(Jf&&K.bn[G.getUid()]){K.tZ(G);}});for(var dw in this.iW){if(this.iW.hasOwnProperty(dw)){IPCC.V.forEach(this.iW[dw],avI);}}delete this.si[layerId];this.pW--;this.trigger(IPCC.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};IPCC.MarkupLayerCollection.prototype.removeAll=function(){this.si={};this.pW=0;return this;};if(Object.defineProperties){Object.defineProperties(IPCC.MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}})(IPCC||{});(function(IPCC){IPCC.PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(RF){this.RF=RF;};IPCC.PasswordProtectedDocumentLoader.prototype.load=function(password){return this.RF(password);};})(IPCC||{});(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){var AR=require('prizmdoc-search');var VR=require('prizmdoc-input-mask');IPCC.AR=AR;IPCC.VR=VR;},{"prizmdoc-input-mask":2,"prizmdoc-search":7}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}]},{},[1])